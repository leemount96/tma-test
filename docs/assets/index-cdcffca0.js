function Ew(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Sw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var rg={exports:{}},va={},ig={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ys=Symbol.for("react.element"),Cw=Symbol.for("react.portal"),kw=Symbol.for("react.fragment"),Tw=Symbol.for("react.strict_mode"),_w=Symbol.for("react.profiler"),Aw=Symbol.for("react.provider"),Iw=Symbol.for("react.context"),xw=Symbol.for("react.forward_ref"),Nw=Symbol.for("react.suspense"),Pw=Symbol.for("react.memo"),Dw=Symbol.for("react.lazy"),Ld=Symbol.iterator;function Rw(t){return t===null||typeof t!="object"?null:(t=Ld&&t[Ld]||t["@@iterator"],typeof t=="function"?t:null)}var og={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sg=Object.assign,lg={};function Di(t,e,n){this.props=t,this.context=e,this.refs=lg,this.updater=n||og}Di.prototype.isReactComponent={};Di.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Di.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ag(){}ag.prototype=Di.prototype;function xh(t,e,n){this.props=t,this.context=e,this.refs=lg,this.updater=n||og}var Nh=xh.prototype=new ag;Nh.constructor=xh;sg(Nh,Di.prototype);Nh.isPureReactComponent=!0;var Md=Array.isArray,ug=Object.prototype.hasOwnProperty,Ph={current:null},cg={key:!0,ref:!0,__self:!0,__source:!0};function hg(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)ug.call(e,r)&&!cg.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:ys,type:t,key:o,ref:s,props:i,_owner:Ph.current}}function bw(t,e){return{$$typeof:ys,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Dh(t){return typeof t=="object"&&t!==null&&t.$$typeof===ys}function Ow(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Fd=/\/+/g;function du(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ow(""+t.key):e.toString(36)}function fl(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case ys:case Cw:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+du(s,0):r,Md(i)?(n="",t!=null&&(n=t.replace(Fd,"$&/")+"/"),fl(i,e,n,"",function(u){return u})):i!=null&&(Dh(i)&&(i=bw(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Fd,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Md(t))for(var l=0;l<t.length;l++){o=t[l];var a=r+du(o,l);s+=fl(o,e,n,a,i)}else if(a=Rw(t),typeof a=="function")for(t=a.call(t),l=0;!(o=t.next()).done;)o=o.value,a=r+du(o,l++),s+=fl(o,e,n,a,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Us(t,e,n){if(t==null)return t;var r=[],i=0;return fl(t,r,"","",function(o){return e.call(n,o,i++)}),r}function $w(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ft={current:null},dl={transition:null},Lw={ReactCurrentDispatcher:ft,ReactCurrentBatchConfig:dl,ReactCurrentOwner:Ph};function fg(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:Us,forEach:function(t,e,n){Us(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Us(t,function(){e++}),e},toArray:function(t){return Us(t,function(e){return e})||[]},only:function(t){if(!Dh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Z.Component=Di;Z.Fragment=kw;Z.Profiler=_w;Z.PureComponent=xh;Z.StrictMode=Tw;Z.Suspense=Nw;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lw;Z.act=fg;Z.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=sg({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Ph.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)ug.call(e,a)&&!cg.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:ys,type:t.type,key:i,ref:o,props:r,_owner:s}};Z.createContext=function(t){return t={$$typeof:Iw,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Aw,_context:t},t.Consumer=t};Z.createElement=hg;Z.createFactory=function(t){var e=hg.bind(null,t);return e.type=t,e};Z.createRef=function(){return{current:null}};Z.forwardRef=function(t){return{$$typeof:xw,render:t}};Z.isValidElement=Dh;Z.lazy=function(t){return{$$typeof:Dw,_payload:{_status:-1,_result:t},_init:$w}};Z.memo=function(t,e){return{$$typeof:Pw,type:t,compare:e===void 0?null:e}};Z.startTransition=function(t){var e=dl.transition;dl.transition={};try{t()}finally{dl.transition=e}};Z.unstable_act=fg;Z.useCallback=function(t,e){return ft.current.useCallback(t,e)};Z.useContext=function(t){return ft.current.useContext(t)};Z.useDebugValue=function(){};Z.useDeferredValue=function(t){return ft.current.useDeferredValue(t)};Z.useEffect=function(t,e){return ft.current.useEffect(t,e)};Z.useId=function(){return ft.current.useId()};Z.useImperativeHandle=function(t,e,n){return ft.current.useImperativeHandle(t,e,n)};Z.useInsertionEffect=function(t,e){return ft.current.useInsertionEffect(t,e)};Z.useLayoutEffect=function(t,e){return ft.current.useLayoutEffect(t,e)};Z.useMemo=function(t,e){return ft.current.useMemo(t,e)};Z.useReducer=function(t,e,n){return ft.current.useReducer(t,e,n)};Z.useRef=function(t){return ft.current.useRef(t)};Z.useState=function(t){return ft.current.useState(t)};Z.useSyncExternalStore=function(t,e,n){return ft.current.useSyncExternalStore(t,e,n)};Z.useTransition=function(){return ft.current.useTransition()};Z.version="18.3.1";ig.exports=Z;var D=ig.exports;const Mw=Sw(D),Fw=Ew({__proto__:null,default:Mw},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bw=D,Uw=Symbol.for("react.element"),jw=Symbol.for("react.fragment"),Vw=Object.prototype.hasOwnProperty,zw=Bw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ww={key:!0,ref:!0,__self:!0,__source:!0};function dg(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)Vw.call(e,r)&&!Ww.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Uw,type:t,key:o,ref:s,props:i,_owner:zw.current}}va.Fragment=jw;va.jsx=dg;va.jsxs=dg;rg.exports=va;var F=rg.exports,nc={},pg={exports:{}},At={},mg={exports:{}},gg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,Y){var q=$.length;$.push(Y);e:for(;0<q;){var ce=q-1>>>1,Ne=$[ce];if(0<i(Ne,Y))$[ce]=Y,$[q]=Ne,q=ce;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var Y=$[0],q=$.pop();if(q!==Y){$[0]=q;e:for(var ce=0,Ne=$.length,Fr=Ne>>>1;ce<Fr;){var Xt=2*(ce+1)-1,ur=$[Xt],Ut=Xt+1,un=$[Ut];if(0>i(ur,q))Ut<Ne&&0>i(un,ur)?($[ce]=un,$[Ut]=q,ce=Ut):($[ce]=ur,$[Xt]=q,ce=Xt);else if(Ut<Ne&&0>i(un,q))$[ce]=un,$[Ut]=q,ce=Ut;else break e}}return Y}function i($,Y){var q=$.sortIndex-Y.sortIndex;return q!==0?q:$.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var a=[],u=[],c=1,h=null,d=3,y=!1,S=!1,C=!1,k=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p($){for(var Y=n(u);Y!==null;){if(Y.callback===null)r(u);else if(Y.startTime<=$)r(u),Y.sortIndex=Y.expirationTime,e(a,Y);else break;Y=n(u)}}function E($){if(C=!1,p($),!S)if(n(a)!==null)S=!0,ar(T);else{var Y=n(u);Y!==null&&Wi(E,Y.startTime-$)}}function T($,Y){S=!1,C&&(C=!1,v(M),M=-1),y=!0;var q=d;try{for(p(Y),h=n(a);h!==null&&(!(h.expirationTime>Y)||$&&!pt());){var ce=h.callback;if(typeof ce=="function"){h.callback=null,d=h.priorityLevel;var Ne=ce(h.expirationTime<=Y);Y=t.unstable_now(),typeof Ne=="function"?h.callback=Ne:h===n(a)&&r(a),p(Y)}else r(a);h=n(a)}if(h!==null)var Fr=!0;else{var Xt=n(u);Xt!==null&&Wi(E,Xt.startTime-Y),Fr=!1}return Fr}finally{h=null,d=q,y=!1}}var P=!1,b=null,M=-1,ue=5,W=-1;function pt(){return!(t.unstable_now()-W<ue)}function Ft(){if(b!==null){var $=t.unstable_now();W=$;var Y=!0;try{Y=b(!0,$)}finally{Y?Bt():(P=!1,b=null)}}else P=!1}var Bt;if(typeof f=="function")Bt=function(){f(Ft)};else if(typeof MessageChannel<"u"){var Vi=new MessageChannel,zi=Vi.port2;Vi.port1.onmessage=Ft,Bt=function(){zi.postMessage(null)}}else Bt=function(){k(Ft,0)};function ar($){b=$,P||(P=!0,Bt())}function Wi($,Y){M=k(function(){$(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){S||y||(S=!0,ar(T))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function($){switch(d){case 1:case 2:case 3:var Y=3;break;default:Y=d}var q=d;d=Y;try{return $()}finally{d=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,Y){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var q=d;d=$;try{return Y()}finally{d=q}},t.unstable_scheduleCallback=function($,Y,q){var ce=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?ce+q:ce):q=ce,$){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=q+Ne,$={id:c++,callback:Y,priorityLevel:$,startTime:q,expirationTime:Ne,sortIndex:-1},q>ce?($.sortIndex=q,e(u,$),n(a)===null&&$===n(u)&&(C?(v(M),M=-1):C=!0,Wi(E,q-ce))):($.sortIndex=Ne,e(a,$),S||y||(S=!0,ar(T))),$},t.unstable_shouldYield=pt,t.unstable_wrapCallback=function($){var Y=d;return function(){var q=d;d=Y;try{return $.apply(this,arguments)}finally{d=q}}}})(gg);mg.exports=gg;var Hw=mg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qw=D,Tt=Hw;function I(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vg=new Set,Oo={};function Dr(t,e){gi(t,e),gi(t+"Capture",e)}function gi(t,e){for(Oo[t]=e,t=0;t<e.length;t++)vg.add(e[t])}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rc=Object.prototype.hasOwnProperty,Kw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bd={},Ud={};function Qw(t){return rc.call(Ud,t)?!0:rc.call(Bd,t)?!1:Kw.test(t)?Ud[t]=!0:(Bd[t]=!0,!1)}function Gw(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Xw(t,e,n,r){if(e===null||typeof e>"u"||Gw(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function dt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Xe[t]=new dt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Xe[e]=new dt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Xe[t]=new dt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Xe[t]=new dt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Xe[t]=new dt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Xe[t]=new dt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Xe[t]=new dt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Xe[t]=new dt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Xe[t]=new dt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Rh=/[\-:]([a-z])/g;function bh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Rh,bh);Xe[e]=new dt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Rh,bh);Xe[e]=new dt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Rh,bh);Xe[e]=new dt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Xe[t]=new dt(t,1,!1,t.toLowerCase(),null,!1,!1)});Xe.xlinkHref=new dt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Xe[t]=new dt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Oh(t,e,n,r){var i=Xe.hasOwnProperty(e)?Xe[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Xw(e,n,i,r)&&(n=null),r||i===null?Qw(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var In=qw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,js=Symbol.for("react.element"),Hr=Symbol.for("react.portal"),qr=Symbol.for("react.fragment"),$h=Symbol.for("react.strict_mode"),ic=Symbol.for("react.profiler"),yg=Symbol.for("react.provider"),wg=Symbol.for("react.context"),Lh=Symbol.for("react.forward_ref"),oc=Symbol.for("react.suspense"),sc=Symbol.for("react.suspense_list"),Mh=Symbol.for("react.memo"),Dn=Symbol.for("react.lazy"),Eg=Symbol.for("react.offscreen"),jd=Symbol.iterator;function Zi(t){return t===null||typeof t!="object"?null:(t=jd&&t[jd]||t["@@iterator"],typeof t=="function"?t:null)}var Ce=Object.assign,pu;function uo(t){if(pu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);pu=e&&e[1]||""}return`
`+pu+t}var mu=!1;function gu(t,e){if(!t||mu)return"";mu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var a=`
`+i[s].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=s&&0<=l);break}}}finally{mu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?uo(t):""}function Yw(t){switch(t.tag){case 5:return uo(t.type);case 16:return uo("Lazy");case 13:return uo("Suspense");case 19:return uo("SuspenseList");case 0:case 2:case 15:return t=gu(t.type,!1),t;case 11:return t=gu(t.type.render,!1),t;case 1:return t=gu(t.type,!0),t;default:return""}}function lc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case qr:return"Fragment";case Hr:return"Portal";case ic:return"Profiler";case $h:return"StrictMode";case oc:return"Suspense";case sc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case wg:return(t.displayName||"Context")+".Consumer";case yg:return(t._context.displayName||"Context")+".Provider";case Lh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Mh:return e=t.displayName||null,e!==null?e:lc(t.type)||"Memo";case Dn:e=t._payload,t=t._init;try{return lc(t(e))}catch{}}return null}function Jw(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lc(e);case 8:return e===$h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Yn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Sg(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Zw(t){var e=Sg(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Vs(t){t._valueTracker||(t._valueTracker=Zw(t))}function Cg(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Sg(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Il(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ac(t,e){var n=e.checked;return Ce({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Vd(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Yn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function kg(t,e){e=e.checked,e!=null&&Oh(t,"checked",e,!1)}function uc(t,e){kg(t,e);var n=Yn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?cc(t,e.type,n):e.hasOwnProperty("defaultValue")&&cc(t,e.type,Yn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function zd(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function cc(t,e,n){(e!=="number"||Il(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var co=Array.isArray;function ii(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Yn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function hc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(I(91));return Ce({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Wd(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(I(92));if(co(n)){if(1<n.length)throw Error(I(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Yn(n)}}function Tg(t,e){var n=Yn(e.value),r=Yn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Hd(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function _g(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?_g(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var zs,Ag=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(zs=zs||document.createElement("div"),zs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=zs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function $o(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Eo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eE=["Webkit","ms","Moz","O"];Object.keys(Eo).forEach(function(t){eE.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Eo[e]=Eo[t]})});function Ig(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Eo.hasOwnProperty(t)&&Eo[t]?(""+e).trim():e+"px"}function xg(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Ig(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var tE=Ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dc(t,e){if(e){if(tE[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(I(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(I(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(I(61))}if(e.style!=null&&typeof e.style!="object")throw Error(I(62))}}function pc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mc=null;function Fh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gc=null,oi=null,si=null;function qd(t){if(t=Ss(t)){if(typeof gc!="function")throw Error(I(280));var e=t.stateNode;e&&(e=Ca(e),gc(t.stateNode,t.type,e))}}function Ng(t){oi?si?si.push(t):si=[t]:oi=t}function Pg(){if(oi){var t=oi,e=si;if(si=oi=null,qd(t),e)for(t=0;t<e.length;t++)qd(e[t])}}function Dg(t,e){return t(e)}function Rg(){}var vu=!1;function bg(t,e,n){if(vu)return t(e,n);vu=!0;try{return Dg(t,e,n)}finally{vu=!1,(oi!==null||si!==null)&&(Rg(),Pg())}}function Lo(t,e){var n=t.stateNode;if(n===null)return null;var r=Ca(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(I(231,e,typeof n));return n}var vc=!1;if(wn)try{var eo={};Object.defineProperty(eo,"passive",{get:function(){vc=!0}}),window.addEventListener("test",eo,eo),window.removeEventListener("test",eo,eo)}catch{vc=!1}function nE(t,e,n,r,i,o,s,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var So=!1,xl=null,Nl=!1,yc=null,rE={onError:function(t){So=!0,xl=t}};function iE(t,e,n,r,i,o,s,l,a){So=!1,xl=null,nE.apply(rE,arguments)}function oE(t,e,n,r,i,o,s,l,a){if(iE.apply(this,arguments),So){if(So){var u=xl;So=!1,xl=null}else throw Error(I(198));Nl||(Nl=!0,yc=u)}}function Rr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Og(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Kd(t){if(Rr(t)!==t)throw Error(I(188))}function sE(t){var e=t.alternate;if(!e){if(e=Rr(t),e===null)throw Error(I(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Kd(i),t;if(o===r)return Kd(i),e;o=o.sibling}throw Error(I(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(I(189))}}if(n.alternate!==r)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?t:e}function $g(t){return t=sE(t),t!==null?Lg(t):null}function Lg(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Lg(t);if(e!==null)return e;t=t.sibling}return null}var Mg=Tt.unstable_scheduleCallback,Qd=Tt.unstable_cancelCallback,lE=Tt.unstable_shouldYield,aE=Tt.unstable_requestPaint,xe=Tt.unstable_now,uE=Tt.unstable_getCurrentPriorityLevel,Bh=Tt.unstable_ImmediatePriority,Fg=Tt.unstable_UserBlockingPriority,Pl=Tt.unstable_NormalPriority,cE=Tt.unstable_LowPriority,Bg=Tt.unstable_IdlePriority,ya=null,rn=null;function hE(t){if(rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(ya,t,void 0,(t.current.flags&128)===128)}catch{}}var qt=Math.clz32?Math.clz32:pE,fE=Math.log,dE=Math.LN2;function pE(t){return t>>>=0,t===0?32:31-(fE(t)/dE|0)|0}var Ws=64,Hs=4194304;function ho(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Dl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=ho(l):(o&=s,o!==0&&(r=ho(o)))}else s=n&~i,s!==0?r=ho(s):o!==0&&(r=ho(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-qt(e),i=1<<n,r|=t[n],e&=~i;return r}function mE(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gE(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-qt(o),l=1<<s,a=i[s];a===-1?(!(l&n)||l&r)&&(i[s]=mE(l,e)):a<=e&&(t.expiredLanes|=l),o&=~l}}function wc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ug(){var t=Ws;return Ws<<=1,!(Ws&4194240)&&(Ws=64),t}function yu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ws(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-qt(e),t[e]=n}function vE(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-qt(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Uh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-qt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var le=0;function jg(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Vg,jh,zg,Wg,Hg,Ec=!1,qs=[],Bn=null,Un=null,jn=null,Mo=new Map,Fo=new Map,bn=[],yE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gd(t,e){switch(t){case"focusin":case"focusout":Bn=null;break;case"dragenter":case"dragleave":Un=null;break;case"mouseover":case"mouseout":jn=null;break;case"pointerover":case"pointerout":Mo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fo.delete(e.pointerId)}}function to(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Ss(e),e!==null&&jh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function wE(t,e,n,r,i){switch(e){case"focusin":return Bn=to(Bn,t,e,n,r,i),!0;case"dragenter":return Un=to(Un,t,e,n,r,i),!0;case"mouseover":return jn=to(jn,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Mo.set(o,to(Mo.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Fo.set(o,to(Fo.get(o)||null,t,e,n,r,i)),!0}return!1}function qg(t){var e=pr(t.target);if(e!==null){var n=Rr(e);if(n!==null){if(e=n.tag,e===13){if(e=Og(n),e!==null){t.blockedOn=e,Hg(t.priority,function(){zg(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Sc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);mc=r,n.target.dispatchEvent(r),mc=null}else return e=Ss(n),e!==null&&jh(e),t.blockedOn=n,!1;e.shift()}return!0}function Xd(t,e,n){pl(t)&&n.delete(e)}function EE(){Ec=!1,Bn!==null&&pl(Bn)&&(Bn=null),Un!==null&&pl(Un)&&(Un=null),jn!==null&&pl(jn)&&(jn=null),Mo.forEach(Xd),Fo.forEach(Xd)}function no(t,e){t.blockedOn===e&&(t.blockedOn=null,Ec||(Ec=!0,Tt.unstable_scheduleCallback(Tt.unstable_NormalPriority,EE)))}function Bo(t){function e(i){return no(i,t)}if(0<qs.length){no(qs[0],t);for(var n=1;n<qs.length;n++){var r=qs[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Bn!==null&&no(Bn,t),Un!==null&&no(Un,t),jn!==null&&no(jn,t),Mo.forEach(e),Fo.forEach(e),n=0;n<bn.length;n++)r=bn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<bn.length&&(n=bn[0],n.blockedOn===null);)qg(n),n.blockedOn===null&&bn.shift()}var li=In.ReactCurrentBatchConfig,Rl=!0;function SE(t,e,n,r){var i=le,o=li.transition;li.transition=null;try{le=1,Vh(t,e,n,r)}finally{le=i,li.transition=o}}function CE(t,e,n,r){var i=le,o=li.transition;li.transition=null;try{le=4,Vh(t,e,n,r)}finally{le=i,li.transition=o}}function Vh(t,e,n,r){if(Rl){var i=Sc(t,e,n,r);if(i===null)xu(t,e,r,bl,n),Gd(t,r);else if(wE(i,t,e,n,r))r.stopPropagation();else if(Gd(t,r),e&4&&-1<yE.indexOf(t)){for(;i!==null;){var o=Ss(i);if(o!==null&&Vg(o),o=Sc(t,e,n,r),o===null&&xu(t,e,r,bl,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else xu(t,e,r,null,n)}}var bl=null;function Sc(t,e,n,r){if(bl=null,t=Fh(r),t=pr(t),t!==null)if(e=Rr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Og(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return bl=t,null}function Kg(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uE()){case Bh:return 1;case Fg:return 4;case Pl:case cE:return 16;case Bg:return 536870912;default:return 16}default:return 16}}var $n=null,zh=null,ml=null;function Qg(){if(ml)return ml;var t,e=zh,n=e.length,r,i="value"in $n?$n.value:$n.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return ml=i.slice(t,1<r?1-r:void 0)}function gl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ks(){return!0}function Yd(){return!1}function It(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ks:Yd,this.isPropagationStopped=Yd,this}return Ce(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ks)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ks)},persist:function(){},isPersistent:Ks}),e}var Ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wh=It(Ri),Es=Ce({},Ri,{view:0,detail:0}),kE=It(Es),wu,Eu,ro,wa=Ce({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ro&&(ro&&t.type==="mousemove"?(wu=t.screenX-ro.screenX,Eu=t.screenY-ro.screenY):Eu=wu=0,ro=t),wu)},movementY:function(t){return"movementY"in t?t.movementY:Eu}}),Jd=It(wa),TE=Ce({},wa,{dataTransfer:0}),_E=It(TE),AE=Ce({},Es,{relatedTarget:0}),Su=It(AE),IE=Ce({},Ri,{animationName:0,elapsedTime:0,pseudoElement:0}),xE=It(IE),NE=Ce({},Ri,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),PE=It(NE),DE=Ce({},Ri,{data:0}),Zd=It(DE),RE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},OE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $E(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=OE[t])?!!e[t]:!1}function Hh(){return $E}var LE=Ce({},Es,{key:function(t){if(t.key){var e=RE[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=gl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hh,charCode:function(t){return t.type==="keypress"?gl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ME=It(LE),FE=Ce({},wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ep=It(FE),BE=Ce({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hh}),UE=It(BE),jE=Ce({},Ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),VE=It(jE),zE=Ce({},wa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),WE=It(zE),HE=[9,13,27,32],qh=wn&&"CompositionEvent"in window,Co=null;wn&&"documentMode"in document&&(Co=document.documentMode);var qE=wn&&"TextEvent"in window&&!Co,Gg=wn&&(!qh||Co&&8<Co&&11>=Co),tp=String.fromCharCode(32),np=!1;function Xg(t,e){switch(t){case"keyup":return HE.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Kr=!1;function KE(t,e){switch(t){case"compositionend":return Yg(e);case"keypress":return e.which!==32?null:(np=!0,tp);case"textInput":return t=e.data,t===tp&&np?null:t;default:return null}}function QE(t,e){if(Kr)return t==="compositionend"||!qh&&Xg(t,e)?(t=Qg(),ml=zh=$n=null,Kr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Gg&&e.locale!=="ko"?null:e.data;default:return null}}var GE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!GE[t.type]:e==="textarea"}function Jg(t,e,n,r){Ng(r),e=Ol(e,"onChange"),0<e.length&&(n=new Wh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ko=null,Uo=null;function XE(t){uv(t,0)}function Ea(t){var e=Xr(t);if(Cg(e))return t}function YE(t,e){if(t==="change")return e}var Zg=!1;if(wn){var Cu;if(wn){var ku="oninput"in document;if(!ku){var ip=document.createElement("div");ip.setAttribute("oninput","return;"),ku=typeof ip.oninput=="function"}Cu=ku}else Cu=!1;Zg=Cu&&(!document.documentMode||9<document.documentMode)}function op(){ko&&(ko.detachEvent("onpropertychange",ev),Uo=ko=null)}function ev(t){if(t.propertyName==="value"&&Ea(Uo)){var e=[];Jg(e,Uo,t,Fh(t)),bg(XE,e)}}function JE(t,e,n){t==="focusin"?(op(),ko=e,Uo=n,ko.attachEvent("onpropertychange",ev)):t==="focusout"&&op()}function ZE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ea(Uo)}function eS(t,e){if(t==="click")return Ea(e)}function tS(t,e){if(t==="input"||t==="change")return Ea(e)}function nS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qt=typeof Object.is=="function"?Object.is:nS;function jo(t,e){if(Qt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!rc.call(e,i)||!Qt(t[i],e[i]))return!1}return!0}function sp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function lp(t,e){var n=sp(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sp(n)}}function tv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?tv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function nv(){for(var t=window,e=Il();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Il(t.document)}return e}function Kh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function rS(t){var e=nv(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&tv(n.ownerDocument.documentElement,n)){if(r!==null&&Kh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=lp(n,o);var s=lp(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var iS=wn&&"documentMode"in document&&11>=document.documentMode,Qr=null,Cc=null,To=null,kc=!1;function ap(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;kc||Qr==null||Qr!==Il(r)||(r=Qr,"selectionStart"in r&&Kh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),To&&jo(To,r)||(To=r,r=Ol(Cc,"onSelect"),0<r.length&&(e=new Wh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Qr)))}function Qs(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Gr={animationend:Qs("Animation","AnimationEnd"),animationiteration:Qs("Animation","AnimationIteration"),animationstart:Qs("Animation","AnimationStart"),transitionend:Qs("Transition","TransitionEnd")},Tu={},rv={};wn&&(rv=document.createElement("div").style,"AnimationEvent"in window||(delete Gr.animationend.animation,delete Gr.animationiteration.animation,delete Gr.animationstart.animation),"TransitionEvent"in window||delete Gr.transitionend.transition);function Sa(t){if(Tu[t])return Tu[t];if(!Gr[t])return t;var e=Gr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in rv)return Tu[t]=e[n];return t}var iv=Sa("animationend"),ov=Sa("animationiteration"),sv=Sa("animationstart"),lv=Sa("transitionend"),av=new Map,up="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rr(t,e){av.set(t,e),Dr(e,[t])}for(var _u=0;_u<up.length;_u++){var Au=up[_u],oS=Au.toLowerCase(),sS=Au[0].toUpperCase()+Au.slice(1);rr(oS,"on"+sS)}rr(iv,"onAnimationEnd");rr(ov,"onAnimationIteration");rr(sv,"onAnimationStart");rr("dblclick","onDoubleClick");rr("focusin","onFocus");rr("focusout","onBlur");rr(lv,"onTransitionEnd");gi("onMouseEnter",["mouseout","mouseover"]);gi("onMouseLeave",["mouseout","mouseover"]);gi("onPointerEnter",["pointerout","pointerover"]);gi("onPointerLeave",["pointerout","pointerover"]);Dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Dr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lS=new Set("cancel close invalid load scroll toggle".split(" ").concat(fo));function cp(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,oE(r,e,void 0,t),t.currentTarget=null}function uv(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==o&&i.isPropagationStopped())break e;cp(i,l,u),o=a}else for(s=0;s<r.length;s++){if(l=r[s],a=l.instance,u=l.currentTarget,l=l.listener,a!==o&&i.isPropagationStopped())break e;cp(i,l,u),o=a}}}if(Nl)throw t=yc,Nl=!1,yc=null,t}function me(t,e){var n=e[xc];n===void 0&&(n=e[xc]=new Set);var r=t+"__bubble";n.has(r)||(cv(e,t,2,!1),n.add(r))}function Iu(t,e,n){var r=0;e&&(r|=4),cv(n,t,r,e)}var Gs="_reactListening"+Math.random().toString(36).slice(2);function Vo(t){if(!t[Gs]){t[Gs]=!0,vg.forEach(function(n){n!=="selectionchange"&&(lS.has(n)||Iu(n,!1,t),Iu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Gs]||(e[Gs]=!0,Iu("selectionchange",!1,e))}}function cv(t,e,n,r){switch(Kg(e)){case 1:var i=SE;break;case 4:i=CE;break;default:i=Vh}n=i.bind(null,e,n,t),i=void 0,!vc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function xu(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;s=s.return}for(;l!==null;){if(s=pr(l),s===null)return;if(a=s.tag,a===5||a===6){r=o=s;continue e}l=l.parentNode}}r=r.return}bg(function(){var u=o,c=Fh(n),h=[];e:{var d=av.get(t);if(d!==void 0){var y=Wh,S=t;switch(t){case"keypress":if(gl(n)===0)break e;case"keydown":case"keyup":y=ME;break;case"focusin":S="focus",y=Su;break;case"focusout":S="blur",y=Su;break;case"beforeblur":case"afterblur":y=Su;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Jd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=_E;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=UE;break;case iv:case ov:case sv:y=xE;break;case lv:y=VE;break;case"scroll":y=kE;break;case"wheel":y=WE;break;case"copy":case"cut":case"paste":y=PE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=ep}var C=(e&4)!==0,k=!C&&t==="scroll",v=C?d!==null?d+"Capture":null:d;C=[];for(var f=u,p;f!==null;){p=f;var E=p.stateNode;if(p.tag===5&&E!==null&&(p=E,v!==null&&(E=Lo(f,v),E!=null&&C.push(zo(f,E,p)))),k)break;f=f.return}0<C.length&&(d=new y(d,S,null,n,c),h.push({event:d,listeners:C}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",d&&n!==mc&&(S=n.relatedTarget||n.fromElement)&&(pr(S)||S[En]))break e;if((y||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,y?(S=n.relatedTarget||n.toElement,y=u,S=S?pr(S):null,S!==null&&(k=Rr(S),S!==k||S.tag!==5&&S.tag!==6)&&(S=null)):(y=null,S=u),y!==S)){if(C=Jd,E="onMouseLeave",v="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(C=ep,E="onPointerLeave",v="onPointerEnter",f="pointer"),k=y==null?d:Xr(y),p=S==null?d:Xr(S),d=new C(E,f+"leave",y,n,c),d.target=k,d.relatedTarget=p,E=null,pr(c)===u&&(C=new C(v,f+"enter",S,n,c),C.target=p,C.relatedTarget=k,E=C),k=E,y&&S)t:{for(C=y,v=S,f=0,p=C;p;p=jr(p))f++;for(p=0,E=v;E;E=jr(E))p++;for(;0<f-p;)C=jr(C),f--;for(;0<p-f;)v=jr(v),p--;for(;f--;){if(C===v||v!==null&&C===v.alternate)break t;C=jr(C),v=jr(v)}C=null}else C=null;y!==null&&hp(h,d,y,C,!1),S!==null&&k!==null&&hp(h,k,S,C,!0)}}e:{if(d=u?Xr(u):window,y=d.nodeName&&d.nodeName.toLowerCase(),y==="select"||y==="input"&&d.type==="file")var T=YE;else if(rp(d))if(Zg)T=tS;else{T=ZE;var P=JE}else(y=d.nodeName)&&y.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(T=eS);if(T&&(T=T(t,u))){Jg(h,T,n,c);break e}P&&P(t,d,u),t==="focusout"&&(P=d._wrapperState)&&P.controlled&&d.type==="number"&&cc(d,"number",d.value)}switch(P=u?Xr(u):window,t){case"focusin":(rp(P)||P.contentEditable==="true")&&(Qr=P,Cc=u,To=null);break;case"focusout":To=Cc=Qr=null;break;case"mousedown":kc=!0;break;case"contextmenu":case"mouseup":case"dragend":kc=!1,ap(h,n,c);break;case"selectionchange":if(iS)break;case"keydown":case"keyup":ap(h,n,c)}var b;if(qh)e:{switch(t){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Kr?Xg(t,n)&&(M="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(Gg&&n.locale!=="ko"&&(Kr||M!=="onCompositionStart"?M==="onCompositionEnd"&&Kr&&(b=Qg()):($n=c,zh="value"in $n?$n.value:$n.textContent,Kr=!0)),P=Ol(u,M),0<P.length&&(M=new Zd(M,t,null,n,c),h.push({event:M,listeners:P}),b?M.data=b:(b=Yg(n),b!==null&&(M.data=b)))),(b=qE?KE(t,n):QE(t,n))&&(u=Ol(u,"onBeforeInput"),0<u.length&&(c=new Zd("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=b))}uv(h,e)})}function zo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ol(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Lo(t,n),o!=null&&r.unshift(zo(t,o,i)),o=Lo(t,e),o!=null&&r.push(zo(t,o,i))),t=t.return}return r}function jr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function hp(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=Lo(n,o),a!=null&&s.unshift(zo(n,a,l))):i||(a=Lo(n,o),a!=null&&s.push(zo(n,a,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var aS=/\r\n?/g,uS=/\u0000|\uFFFD/g;function fp(t){return(typeof t=="string"?t:""+t).replace(aS,`
`).replace(uS,"")}function Xs(t,e,n){if(e=fp(e),fp(t)!==e&&n)throw Error(I(425))}function $l(){}var Tc=null,_c=null;function Ac(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ic=typeof setTimeout=="function"?setTimeout:void 0,cS=typeof clearTimeout=="function"?clearTimeout:void 0,dp=typeof Promise=="function"?Promise:void 0,hS=typeof queueMicrotask=="function"?queueMicrotask:typeof dp<"u"?function(t){return dp.resolve(null).then(t).catch(fS)}:Ic;function fS(t){setTimeout(function(){throw t})}function Nu(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Bo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Bo(e)}function Vn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function pp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var bi=Math.random().toString(36).slice(2),Zt="__reactFiber$"+bi,Wo="__reactProps$"+bi,En="__reactContainer$"+bi,xc="__reactEvents$"+bi,dS="__reactListeners$"+bi,pS="__reactHandles$"+bi;function pr(t){var e=t[Zt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[En]||n[Zt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=pp(t);t!==null;){if(n=t[Zt])return n;t=pp(t)}return e}t=n,n=t.parentNode}return null}function Ss(t){return t=t[Zt]||t[En],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(I(33))}function Ca(t){return t[Wo]||null}var Nc=[],Yr=-1;function ir(t){return{current:t}}function ve(t){0>Yr||(t.current=Nc[Yr],Nc[Yr]=null,Yr--)}function pe(t,e){Yr++,Nc[Yr]=t.current,t.current=e}var Jn={},lt=ir(Jn),vt=ir(!1),kr=Jn;function vi(t,e){var n=t.type.contextTypes;if(!n)return Jn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function yt(t){return t=t.childContextTypes,t!=null}function Ll(){ve(vt),ve(lt)}function mp(t,e,n){if(lt.current!==Jn)throw Error(I(168));pe(lt,e),pe(vt,n)}function hv(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(I(108,Jw(t)||"Unknown",i));return Ce({},n,r)}function Ml(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Jn,kr=lt.current,pe(lt,t),pe(vt,vt.current),!0}function gp(t,e,n){var r=t.stateNode;if(!r)throw Error(I(169));n?(t=hv(t,e,kr),r.__reactInternalMemoizedMergedChildContext=t,ve(vt),ve(lt),pe(lt,t)):ve(vt),pe(vt,n)}var dn=null,ka=!1,Pu=!1;function fv(t){dn===null?dn=[t]:dn.push(t)}function mS(t){ka=!0,fv(t)}function or(){if(!Pu&&dn!==null){Pu=!0;var t=0,e=le;try{var n=dn;for(le=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}dn=null,ka=!1}catch(i){throw dn!==null&&(dn=dn.slice(t+1)),Mg(Bh,or),i}finally{le=e,Pu=!1}}return null}var Jr=[],Zr=0,Fl=null,Bl=0,Nt=[],Pt=0,Tr=null,pn=1,mn="";function hr(t,e){Jr[Zr++]=Bl,Jr[Zr++]=Fl,Fl=t,Bl=e}function dv(t,e,n){Nt[Pt++]=pn,Nt[Pt++]=mn,Nt[Pt++]=Tr,Tr=t;var r=pn;t=mn;var i=32-qt(r)-1;r&=~(1<<i),n+=1;var o=32-qt(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,pn=1<<32-qt(e)+i|n<<i|r,mn=o+t}else pn=1<<o|n<<i|r,mn=t}function Qh(t){t.return!==null&&(hr(t,1),dv(t,1,0))}function Gh(t){for(;t===Fl;)Fl=Jr[--Zr],Jr[Zr]=null,Bl=Jr[--Zr],Jr[Zr]=null;for(;t===Tr;)Tr=Nt[--Pt],Nt[Pt]=null,mn=Nt[--Pt],Nt[Pt]=null,pn=Nt[--Pt],Nt[Pt]=null}var kt=null,Ct=null,we=!1,Wt=null;function pv(t,e){var n=bt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function vp(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,kt=t,Ct=Vn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,kt=t,Ct=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Tr!==null?{id:pn,overflow:mn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=bt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,kt=t,Ct=null,!0):!1;default:return!1}}function Pc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Dc(t){if(we){var e=Ct;if(e){var n=e;if(!vp(t,e)){if(Pc(t))throw Error(I(418));e=Vn(n.nextSibling);var r=kt;e&&vp(t,e)?pv(r,n):(t.flags=t.flags&-4097|2,we=!1,kt=t)}}else{if(Pc(t))throw Error(I(418));t.flags=t.flags&-4097|2,we=!1,kt=t}}}function yp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;kt=t}function Ys(t){if(t!==kt)return!1;if(!we)return yp(t),we=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ac(t.type,t.memoizedProps)),e&&(e=Ct)){if(Pc(t))throw mv(),Error(I(418));for(;e;)pv(t,e),e=Vn(e.nextSibling)}if(yp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(I(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ct=Vn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ct=null}}else Ct=kt?Vn(t.stateNode.nextSibling):null;return!0}function mv(){for(var t=Ct;t;)t=Vn(t.nextSibling)}function yi(){Ct=kt=null,we=!1}function Xh(t){Wt===null?Wt=[t]:Wt.push(t)}var gS=In.ReactCurrentBatchConfig;function io(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var r=n.stateNode}if(!r)throw Error(I(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var l=i.refs;s===null?delete l[o]:l[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,t))}return t}function Js(t,e){throw t=Object.prototype.toString.call(e),Error(I(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function wp(t){var e=t._init;return e(t._payload)}function gv(t){function e(v,f){if(t){var p=v.deletions;p===null?(v.deletions=[f],v.flags|=16):p.push(f)}}function n(v,f){if(!t)return null;for(;f!==null;)e(v,f),f=f.sibling;return null}function r(v,f){for(v=new Map;f!==null;)f.key!==null?v.set(f.key,f):v.set(f.index,f),f=f.sibling;return v}function i(v,f){return v=qn(v,f),v.index=0,v.sibling=null,v}function o(v,f,p){return v.index=p,t?(p=v.alternate,p!==null?(p=p.index,p<f?(v.flags|=2,f):p):(v.flags|=2,f)):(v.flags|=1048576,f)}function s(v){return t&&v.alternate===null&&(v.flags|=2),v}function l(v,f,p,E){return f===null||f.tag!==6?(f=Mu(p,v.mode,E),f.return=v,f):(f=i(f,p),f.return=v,f)}function a(v,f,p,E){var T=p.type;return T===qr?c(v,f,p.props.children,E,p.key):f!==null&&(f.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Dn&&wp(T)===f.type)?(E=i(f,p.props),E.ref=io(v,f,p),E.return=v,E):(E=kl(p.type,p.key,p.props,null,v.mode,E),E.ref=io(v,f,p),E.return=v,E)}function u(v,f,p,E){return f===null||f.tag!==4||f.stateNode.containerInfo!==p.containerInfo||f.stateNode.implementation!==p.implementation?(f=Fu(p,v.mode,E),f.return=v,f):(f=i(f,p.children||[]),f.return=v,f)}function c(v,f,p,E,T){return f===null||f.tag!==7?(f=Sr(p,v.mode,E,T),f.return=v,f):(f=i(f,p),f.return=v,f)}function h(v,f,p){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Mu(""+f,v.mode,p),f.return=v,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case js:return p=kl(f.type,f.key,f.props,null,v.mode,p),p.ref=io(v,null,f),p.return=v,p;case Hr:return f=Fu(f,v.mode,p),f.return=v,f;case Dn:var E=f._init;return h(v,E(f._payload),p)}if(co(f)||Zi(f))return f=Sr(f,v.mode,p,null),f.return=v,f;Js(v,f)}return null}function d(v,f,p,E){var T=f!==null?f.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return T!==null?null:l(v,f,""+p,E);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case js:return p.key===T?a(v,f,p,E):null;case Hr:return p.key===T?u(v,f,p,E):null;case Dn:return T=p._init,d(v,f,T(p._payload),E)}if(co(p)||Zi(p))return T!==null?null:c(v,f,p,E,null);Js(v,p)}return null}function y(v,f,p,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return v=v.get(p)||null,l(f,v,""+E,T);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case js:return v=v.get(E.key===null?p:E.key)||null,a(f,v,E,T);case Hr:return v=v.get(E.key===null?p:E.key)||null,u(f,v,E,T);case Dn:var P=E._init;return y(v,f,p,P(E._payload),T)}if(co(E)||Zi(E))return v=v.get(p)||null,c(f,v,E,T,null);Js(f,E)}return null}function S(v,f,p,E){for(var T=null,P=null,b=f,M=f=0,ue=null;b!==null&&M<p.length;M++){b.index>M?(ue=b,b=null):ue=b.sibling;var W=d(v,b,p[M],E);if(W===null){b===null&&(b=ue);break}t&&b&&W.alternate===null&&e(v,b),f=o(W,f,M),P===null?T=W:P.sibling=W,P=W,b=ue}if(M===p.length)return n(v,b),we&&hr(v,M),T;if(b===null){for(;M<p.length;M++)b=h(v,p[M],E),b!==null&&(f=o(b,f,M),P===null?T=b:P.sibling=b,P=b);return we&&hr(v,M),T}for(b=r(v,b);M<p.length;M++)ue=y(b,v,M,p[M],E),ue!==null&&(t&&ue.alternate!==null&&b.delete(ue.key===null?M:ue.key),f=o(ue,f,M),P===null?T=ue:P.sibling=ue,P=ue);return t&&b.forEach(function(pt){return e(v,pt)}),we&&hr(v,M),T}function C(v,f,p,E){var T=Zi(p);if(typeof T!="function")throw Error(I(150));if(p=T.call(p),p==null)throw Error(I(151));for(var P=T=null,b=f,M=f=0,ue=null,W=p.next();b!==null&&!W.done;M++,W=p.next()){b.index>M?(ue=b,b=null):ue=b.sibling;var pt=d(v,b,W.value,E);if(pt===null){b===null&&(b=ue);break}t&&b&&pt.alternate===null&&e(v,b),f=o(pt,f,M),P===null?T=pt:P.sibling=pt,P=pt,b=ue}if(W.done)return n(v,b),we&&hr(v,M),T;if(b===null){for(;!W.done;M++,W=p.next())W=h(v,W.value,E),W!==null&&(f=o(W,f,M),P===null?T=W:P.sibling=W,P=W);return we&&hr(v,M),T}for(b=r(v,b);!W.done;M++,W=p.next())W=y(b,v,M,W.value,E),W!==null&&(t&&W.alternate!==null&&b.delete(W.key===null?M:W.key),f=o(W,f,M),P===null?T=W:P.sibling=W,P=W);return t&&b.forEach(function(Ft){return e(v,Ft)}),we&&hr(v,M),T}function k(v,f,p,E){if(typeof p=="object"&&p!==null&&p.type===qr&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case js:e:{for(var T=p.key,P=f;P!==null;){if(P.key===T){if(T=p.type,T===qr){if(P.tag===7){n(v,P.sibling),f=i(P,p.props.children),f.return=v,v=f;break e}}else if(P.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Dn&&wp(T)===P.type){n(v,P.sibling),f=i(P,p.props),f.ref=io(v,P,p),f.return=v,v=f;break e}n(v,P);break}else e(v,P);P=P.sibling}p.type===qr?(f=Sr(p.props.children,v.mode,E,p.key),f.return=v,v=f):(E=kl(p.type,p.key,p.props,null,v.mode,E),E.ref=io(v,f,p),E.return=v,v=E)}return s(v);case Hr:e:{for(P=p.key;f!==null;){if(f.key===P)if(f.tag===4&&f.stateNode.containerInfo===p.containerInfo&&f.stateNode.implementation===p.implementation){n(v,f.sibling),f=i(f,p.children||[]),f.return=v,v=f;break e}else{n(v,f);break}else e(v,f);f=f.sibling}f=Fu(p,v.mode,E),f.return=v,v=f}return s(v);case Dn:return P=p._init,k(v,f,P(p._payload),E)}if(co(p))return S(v,f,p,E);if(Zi(p))return C(v,f,p,E);Js(v,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,f!==null&&f.tag===6?(n(v,f.sibling),f=i(f,p),f.return=v,v=f):(n(v,f),f=Mu(p,v.mode,E),f.return=v,v=f),s(v)):n(v,f)}return k}var wi=gv(!0),vv=gv(!1),Ul=ir(null),jl=null,ei=null,Yh=null;function Jh(){Yh=ei=jl=null}function Zh(t){var e=Ul.current;ve(Ul),t._currentValue=e}function Rc(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ai(t,e){jl=t,Yh=ei=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(gt=!0),t.firstContext=null)}function Lt(t){var e=t._currentValue;if(Yh!==t)if(t={context:t,memoizedValue:e,next:null},ei===null){if(jl===null)throw Error(I(308));ei=t,jl.dependencies={lanes:0,firstContext:t}}else ei=ei.next=t;return e}var mr=null;function ef(t){mr===null?mr=[t]:mr.push(t)}function yv(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,ef(e)):(n.next=i.next,i.next=n),e.interleaved=n,Sn(t,r)}function Sn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Rn=!1;function tf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wv(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function vn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function zn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,re&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Sn(t,n)}return i=r.interleaved,i===null?(e.next=e,ef(r)):(e.next=i.next,i.next=e),r.interleaved=e,Sn(t,n)}function vl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Uh(t,n)}}function Ep(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Vl(t,e,n,r){var i=t.updateQueue;Rn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,s===null?o=u:s.next=u,s=a;var c=t.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==s&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(o!==null){var h=i.baseState;s=0,c=u=a=null,l=o;do{var d=l.lane,y=l.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var S=t,C=l;switch(d=e,y=n,C.tag){case 1:if(S=C.payload,typeof S=="function"){h=S.call(y,h,d);break e}h=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=C.payload,d=typeof S=="function"?S.call(y,h,d):S,d==null)break e;h=Ce({},h,d);break e;case 2:Rn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[l]:d.push(l))}else y={eventTime:y,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=y,a=h):c=c.next=y,s|=d;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;d=l,l=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(a=h),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Ar|=s,t.lanes=s,t.memoizedState=h}}function Sp(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(I(191,i));i.call(r)}}}var Cs={},on=ir(Cs),Ho=ir(Cs),qo=ir(Cs);function gr(t){if(t===Cs)throw Error(I(174));return t}function nf(t,e){switch(pe(qo,e),pe(Ho,t),pe(on,Cs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:fc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=fc(e,t)}ve(on),pe(on,e)}function Ei(){ve(on),ve(Ho),ve(qo)}function Ev(t){gr(qo.current);var e=gr(on.current),n=fc(e,t.type);e!==n&&(pe(Ho,t),pe(on,n))}function rf(t){Ho.current===t&&(ve(on),ve(Ho))}var Ee=ir(0);function zl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Du=[];function of(){for(var t=0;t<Du.length;t++)Du[t]._workInProgressVersionPrimary=null;Du.length=0}var yl=In.ReactCurrentDispatcher,Ru=In.ReactCurrentBatchConfig,_r=0,Se=null,$e=null,Ue=null,Wl=!1,_o=!1,Ko=0,vS=0;function Ye(){throw Error(I(321))}function sf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Qt(t[n],e[n]))return!1;return!0}function lf(t,e,n,r,i,o){if(_r=o,Se=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,yl.current=t===null||t.memoizedState===null?SS:CS,t=n(r,i),_o){o=0;do{if(_o=!1,Ko=0,25<=o)throw Error(I(301));o+=1,Ue=$e=null,e.updateQueue=null,yl.current=kS,t=n(r,i)}while(_o)}if(yl.current=Hl,e=$e!==null&&$e.next!==null,_r=0,Ue=$e=Se=null,Wl=!1,e)throw Error(I(300));return t}function af(){var t=Ko!==0;return Ko=0,t}function Jt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?Se.memoizedState=Ue=t:Ue=Ue.next=t,Ue}function Mt(){if($e===null){var t=Se.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var e=Ue===null?Se.memoizedState:Ue.next;if(e!==null)Ue=e,$e=t;else{if(t===null)throw Error(I(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},Ue===null?Se.memoizedState=Ue=t:Ue=Ue.next=t}return Ue}function Qo(t,e){return typeof e=="function"?e(t):e}function bu(t){var e=Mt(),n=e.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=t;var r=$e,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,a=null,u=o;do{var c=u.lane;if((_r&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=h,s=r):a=a.next=h,Se.lanes|=c,Ar|=c}u=u.next}while(u!==null&&u!==o);a===null?s=r:a.next=l,Qt(r,e.memoizedState)||(gt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Se.lanes|=o,Ar|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ou(t){var e=Mt(),n=e.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Qt(o,e.memoizedState)||(gt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Sv(){}function Cv(t,e){var n=Se,r=Mt(),i=e(),o=!Qt(r.memoizedState,i);if(o&&(r.memoizedState=i,gt=!0),r=r.queue,uf(_v.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Ue!==null&&Ue.memoizedState.tag&1){if(n.flags|=2048,Go(9,Tv.bind(null,n,r,i,e),void 0,null),je===null)throw Error(I(349));_r&30||kv(n,e,i)}return i}function kv(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Se.updateQueue,e===null?(e={lastEffect:null,stores:null},Se.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Tv(t,e,n,r){e.value=n,e.getSnapshot=r,Av(e)&&Iv(t)}function _v(t,e,n){return n(function(){Av(e)&&Iv(t)})}function Av(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Qt(t,n)}catch{return!0}}function Iv(t){var e=Sn(t,1);e!==null&&Kt(e,t,1,-1)}function Cp(t){var e=Jt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qo,lastRenderedState:t},e.queue=t,t=t.dispatch=ES.bind(null,Se,t),[e.memoizedState,t]}function Go(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Se.updateQueue,e===null?(e={lastEffect:null,stores:null},Se.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function xv(){return Mt().memoizedState}function wl(t,e,n,r){var i=Jt();Se.flags|=t,i.memoizedState=Go(1|e,n,void 0,r===void 0?null:r)}function Ta(t,e,n,r){var i=Mt();r=r===void 0?null:r;var o=void 0;if($e!==null){var s=$e.memoizedState;if(o=s.destroy,r!==null&&sf(r,s.deps)){i.memoizedState=Go(e,n,o,r);return}}Se.flags|=t,i.memoizedState=Go(1|e,n,o,r)}function kp(t,e){return wl(8390656,8,t,e)}function uf(t,e){return Ta(2048,8,t,e)}function Nv(t,e){return Ta(4,2,t,e)}function Pv(t,e){return Ta(4,4,t,e)}function Dv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Rv(t,e,n){return n=n!=null?n.concat([t]):null,Ta(4,4,Dv.bind(null,e,t),n)}function cf(){}function bv(t,e){var n=Mt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sf(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ov(t,e){var n=Mt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sf(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function $v(t,e,n){return _r&21?(Qt(n,e)||(n=Ug(),Se.lanes|=n,Ar|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,gt=!0),t.memoizedState=n)}function yS(t,e){var n=le;le=n!==0&&4>n?n:4,t(!0);var r=Ru.transition;Ru.transition={};try{t(!1),e()}finally{le=n,Ru.transition=r}}function Lv(){return Mt().memoizedState}function wS(t,e,n){var r=Hn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Mv(t))Fv(e,n);else if(n=yv(t,e,n,r),n!==null){var i=ht();Kt(n,t,r,i),Bv(n,e,r)}}function ES(t,e,n){var r=Hn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Mv(t))Fv(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,Qt(l,s)){var a=e.interleaved;a===null?(i.next=i,ef(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=yv(t,e,i,r),n!==null&&(i=ht(),Kt(n,t,r,i),Bv(n,e,r))}}function Mv(t){var e=t.alternate;return t===Se||e!==null&&e===Se}function Fv(t,e){_o=Wl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Bv(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Uh(t,n)}}var Hl={readContext:Lt,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useInsertionEffect:Ye,useLayoutEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useMutableSource:Ye,useSyncExternalStore:Ye,useId:Ye,unstable_isNewReconciler:!1},SS={readContext:Lt,useCallback:function(t,e){return Jt().memoizedState=[t,e===void 0?null:e],t},useContext:Lt,useEffect:kp,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,wl(4194308,4,Dv.bind(null,e,t),n)},useLayoutEffect:function(t,e){return wl(4194308,4,t,e)},useInsertionEffect:function(t,e){return wl(4,2,t,e)},useMemo:function(t,e){var n=Jt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Jt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=wS.bind(null,Se,t),[r.memoizedState,t]},useRef:function(t){var e=Jt();return t={current:t},e.memoizedState=t},useState:Cp,useDebugValue:cf,useDeferredValue:function(t){return Jt().memoizedState=t},useTransition:function(){var t=Cp(!1),e=t[0];return t=yS.bind(null,t[1]),Jt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Se,i=Jt();if(we){if(n===void 0)throw Error(I(407));n=n()}else{if(n=e(),je===null)throw Error(I(349));_r&30||kv(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,kp(_v.bind(null,r,o,t),[t]),r.flags|=2048,Go(9,Tv.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Jt(),e=je.identifierPrefix;if(we){var n=mn,r=pn;n=(r&~(1<<32-qt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ko++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=vS++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},CS={readContext:Lt,useCallback:bv,useContext:Lt,useEffect:uf,useImperativeHandle:Rv,useInsertionEffect:Nv,useLayoutEffect:Pv,useMemo:Ov,useReducer:bu,useRef:xv,useState:function(){return bu(Qo)},useDebugValue:cf,useDeferredValue:function(t){var e=Mt();return $v(e,$e.memoizedState,t)},useTransition:function(){var t=bu(Qo)[0],e=Mt().memoizedState;return[t,e]},useMutableSource:Sv,useSyncExternalStore:Cv,useId:Lv,unstable_isNewReconciler:!1},kS={readContext:Lt,useCallback:bv,useContext:Lt,useEffect:uf,useImperativeHandle:Rv,useInsertionEffect:Nv,useLayoutEffect:Pv,useMemo:Ov,useReducer:Ou,useRef:xv,useState:function(){return Ou(Qo)},useDebugValue:cf,useDeferredValue:function(t){var e=Mt();return $e===null?e.memoizedState=t:$v(e,$e.memoizedState,t)},useTransition:function(){var t=Ou(Qo)[0],e=Mt().memoizedState;return[t,e]},useMutableSource:Sv,useSyncExternalStore:Cv,useId:Lv,unstable_isNewReconciler:!1};function Vt(t,e){if(t&&t.defaultProps){e=Ce({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function bc(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ce({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var _a={isMounted:function(t){return(t=t._reactInternals)?Rr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ht(),i=Hn(t),o=vn(r,i);o.payload=e,n!=null&&(o.callback=n),e=zn(t,o,i),e!==null&&(Kt(e,t,i,r),vl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ht(),i=Hn(t),o=vn(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=zn(t,o,i),e!==null&&(Kt(e,t,i,r),vl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ht(),r=Hn(t),i=vn(n,r);i.tag=2,e!=null&&(i.callback=e),e=zn(t,i,r),e!==null&&(Kt(e,t,r,n),vl(e,t,r))}};function Tp(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!jo(n,r)||!jo(i,o):!0}function Uv(t,e,n){var r=!1,i=Jn,o=e.contextType;return typeof o=="object"&&o!==null?o=Lt(o):(i=yt(e)?kr:lt.current,r=e.contextTypes,o=(r=r!=null)?vi(t,i):Jn),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=_a,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function _p(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&_a.enqueueReplaceState(e,e.state,null)}function Oc(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},tf(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Lt(o):(o=yt(e)?kr:lt.current,i.context=vi(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(bc(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&_a.enqueueReplaceState(i,i.state,null),Vl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Si(t,e){try{var n="",r=e;do n+=Yw(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function $u(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function $c(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var TS=typeof WeakMap=="function"?WeakMap:Map;function jv(t,e,n){n=vn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Kl||(Kl=!0,Hc=r),$c(t,e)},n}function Vv(t,e,n){n=vn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){$c(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){$c(t,e),typeof r!="function"&&(Wn===null?Wn=new Set([this]):Wn.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Ap(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new TS;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=FS.bind(null,t,e,n),e.then(t,t))}function Ip(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function xp(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=vn(-1,1),e.tag=2,zn(n,e,1))),n.lanes|=1),t)}var _S=In.ReactCurrentOwner,gt=!1;function ut(t,e,n,r){e.child=t===null?vv(e,null,n,r):wi(e,t.child,n,r)}function Np(t,e,n,r,i){n=n.render;var o=e.ref;return ai(e,i),r=lf(t,e,n,r,o,i),n=af(),t!==null&&!gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Cn(t,e,i)):(we&&n&&Qh(e),e.flags|=1,ut(t,e,r,i),e.child)}function Pp(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!yf(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,zv(t,e,o,r,i)):(t=kl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:jo,n(s,r)&&t.ref===e.ref)return Cn(t,e,i)}return e.flags|=1,t=qn(o,r),t.ref=e.ref,t.return=e,e.child=t}function zv(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(jo(o,r)&&t.ref===e.ref)if(gt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(gt=!0);else return e.lanes=t.lanes,Cn(t,e,i)}return Lc(t,e,n,r,i)}function Wv(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},pe(ni,St),St|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,pe(ni,St),St|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,pe(ni,St),St|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,pe(ni,St),St|=r;return ut(t,e,i,n),e.child}function Hv(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Lc(t,e,n,r,i){var o=yt(n)?kr:lt.current;return o=vi(e,o),ai(e,i),n=lf(t,e,n,r,o,i),r=af(),t!==null&&!gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Cn(t,e,i)):(we&&r&&Qh(e),e.flags|=1,ut(t,e,n,i),e.child)}function Dp(t,e,n,r,i){if(yt(n)){var o=!0;Ml(e)}else o=!1;if(ai(e,i),e.stateNode===null)El(t,e),Uv(e,n,r),Oc(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,l=e.memoizedProps;s.props=l;var a=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Lt(u):(u=yt(n)?kr:lt.current,u=vi(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||a!==u)&&_p(e,s,r,u),Rn=!1;var d=e.memoizedState;s.state=d,Vl(e,r,s,i),a=e.memoizedState,l!==r||d!==a||vt.current||Rn?(typeof c=="function"&&(bc(e,n,c,r),a=e.memoizedState),(l=Rn||Tp(e,n,l,r,d,a,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),s.props=r,s.state=a,s.context=u,r=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,wv(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Vt(e.type,l),s.props=u,h=e.pendingProps,d=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=Lt(a):(a=yt(n)?kr:lt.current,a=vi(e,a));var y=n.getDerivedStateFromProps;(c=typeof y=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==h||d!==a)&&_p(e,s,r,a),Rn=!1,d=e.memoizedState,s.state=d,Vl(e,r,s,i);var S=e.memoizedState;l!==h||d!==S||vt.current||Rn?(typeof y=="function"&&(bc(e,n,y,r),S=e.memoizedState),(u=Rn||Tp(e,n,u,r,d,S,a)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,S,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,S,a)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),s.props=r,s.state=S,s.context=a,r=u):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Mc(t,e,n,r,o,i)}function Mc(t,e,n,r,i,o){Hv(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&gp(e,n,!1),Cn(t,e,o);r=e.stateNode,_S.current=e;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=wi(e,t.child,null,o),e.child=wi(e,null,l,o)):ut(t,e,l,o),e.memoizedState=r.state,i&&gp(e,n,!0),e.child}function qv(t){var e=t.stateNode;e.pendingContext?mp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&mp(t,e.context,!1),nf(t,e.containerInfo)}function Rp(t,e,n,r,i){return yi(),Xh(i),e.flags|=256,ut(t,e,n,r),e.child}var Fc={dehydrated:null,treeContext:null,retryLane:0};function Bc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Kv(t,e,n){var r=e.pendingProps,i=Ee.current,o=!1,s=(e.flags&128)!==0,l;if((l=s)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),pe(Ee,i&1),t===null)return Dc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=xa(s,r,0,null),t=Sr(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Bc(n),e.memoizedState=Fc,t):hf(e,s));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return AS(t,e,s,r,l,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=qn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=qn(l,o):(o=Sr(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Bc(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Fc,r}return o=t.child,t=o.sibling,r=qn(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function hf(t,e){return e=xa({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Zs(t,e,n,r){return r!==null&&Xh(r),wi(e,t.child,null,n),t=hf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function AS(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=$u(Error(I(422))),Zs(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=xa({mode:"visible",children:r.children},i,0,null),o=Sr(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&wi(e,t.child,null,s),e.child.memoizedState=Bc(s),e.memoizedState=Fc,o);if(!(e.mode&1))return Zs(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(I(419)),r=$u(o,r,void 0),Zs(t,e,s,r)}if(l=(s&t.childLanes)!==0,gt||l){if(r=je,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Sn(t,i),Kt(r,t,i,-1))}return vf(),r=$u(Error(I(421))),Zs(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=BS.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Ct=Vn(i.nextSibling),kt=e,we=!0,Wt=null,t!==null&&(Nt[Pt++]=pn,Nt[Pt++]=mn,Nt[Pt++]=Tr,pn=t.id,mn=t.overflow,Tr=e),e=hf(e,r.children),e.flags|=4096,e)}function bp(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Rc(t.return,e,n)}function Lu(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Qv(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(ut(t,e,r.children,n),r=Ee.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&bp(t,n,e);else if(t.tag===19)bp(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(pe(Ee,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&zl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Lu(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&zl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Lu(e,!0,n,null,o);break;case"together":Lu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function El(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Cn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ar|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(I(153));if(e.child!==null){for(t=e.child,n=qn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=qn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function IS(t,e,n){switch(e.tag){case 3:qv(e),yi();break;case 5:Ev(e);break;case 1:yt(e.type)&&Ml(e);break;case 4:nf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;pe(Ul,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(pe(Ee,Ee.current&1),e.flags|=128,null):n&e.child.childLanes?Kv(t,e,n):(pe(Ee,Ee.current&1),t=Cn(t,e,n),t!==null?t.sibling:null);pe(Ee,Ee.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Qv(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),pe(Ee,Ee.current),r)break;return null;case 22:case 23:return e.lanes=0,Wv(t,e,n)}return Cn(t,e,n)}var Gv,Uc,Xv,Yv;Gv=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Uc=function(){};Xv=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,gr(on.current);var o=null;switch(n){case"input":i=ac(t,i),r=ac(t,r),o=[];break;case"select":i=Ce({},i,{value:void 0}),r=Ce({},r,{value:void 0}),o=[];break;case"textarea":i=hc(t,i),r=hc(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=$l)}dc(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Oo.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(o||(o=[]),o.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(o=o||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Oo.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&me("scroll",t),o||l===a||(o=[])):(o=o||[]).push(u,a))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};Yv=function(t,e,n,r){n!==r&&(e.flags|=4)};function oo(t,e){if(!we)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Je(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function xS(t,e,n){var r=e.pendingProps;switch(Gh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(e),null;case 1:return yt(e.type)&&Ll(),Je(e),null;case 3:return r=e.stateNode,Ei(),ve(vt),ve(lt),of(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ys(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Wt!==null&&(Qc(Wt),Wt=null))),Uc(t,e),Je(e),null;case 5:rf(e);var i=gr(qo.current);if(n=e.type,t!==null&&e.stateNode!=null)Xv(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(I(166));return Je(e),null}if(t=gr(on.current),Ys(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Zt]=e,r[Wo]=o,t=(e.mode&1)!==0,n){case"dialog":me("cancel",r),me("close",r);break;case"iframe":case"object":case"embed":me("load",r);break;case"video":case"audio":for(i=0;i<fo.length;i++)me(fo[i],r);break;case"source":me("error",r);break;case"img":case"image":case"link":me("error",r),me("load",r);break;case"details":me("toggle",r);break;case"input":Vd(r,o),me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},me("invalid",r);break;case"textarea":Wd(r,o),me("invalid",r)}dc(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Xs(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Xs(r.textContent,l,t),i=["children",""+l]):Oo.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&me("scroll",r)}switch(n){case"input":Vs(r),zd(r,o,!0);break;case"textarea":Vs(r),Hd(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=$l)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=_g(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Zt]=e,t[Wo]=r,Gv(t,e,!1,!1),e.stateNode=t;e:{switch(s=pc(n,r),n){case"dialog":me("cancel",t),me("close",t),i=r;break;case"iframe":case"object":case"embed":me("load",t),i=r;break;case"video":case"audio":for(i=0;i<fo.length;i++)me(fo[i],t);i=r;break;case"source":me("error",t),i=r;break;case"img":case"image":case"link":me("error",t),me("load",t),i=r;break;case"details":me("toggle",t),i=r;break;case"input":Vd(t,r),i=ac(t,r),me("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ce({},r,{value:void 0}),me("invalid",t);break;case"textarea":Wd(t,r),i=hc(t,r),me("invalid",t);break;default:i=r}dc(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var a=l[o];o==="style"?xg(t,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Ag(t,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&$o(t,a):typeof a=="number"&&$o(t,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Oo.hasOwnProperty(o)?a!=null&&o==="onScroll"&&me("scroll",t):a!=null&&Oh(t,o,a,s))}switch(n){case"input":Vs(t),zd(t,r,!1);break;case"textarea":Vs(t),Hd(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Yn(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?ii(t,!!r.multiple,o,!1):r.defaultValue!=null&&ii(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=$l)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Je(e),null;case 6:if(t&&e.stateNode!=null)Yv(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(I(166));if(n=gr(qo.current),gr(on.current),Ys(e)){if(r=e.stateNode,n=e.memoizedProps,r[Zt]=e,(o=r.nodeValue!==n)&&(t=kt,t!==null))switch(t.tag){case 3:Xs(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Xs(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zt]=e,e.stateNode=r}return Je(e),null;case 13:if(ve(Ee),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(we&&Ct!==null&&e.mode&1&&!(e.flags&128))mv(),yi(),e.flags|=98560,o=!1;else if(o=Ys(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(I(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(I(317));o[Zt]=e}else yi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Je(e),o=!1}else Wt!==null&&(Qc(Wt),Wt=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ee.current&1?Me===0&&(Me=3):vf())),e.updateQueue!==null&&(e.flags|=4),Je(e),null);case 4:return Ei(),Uc(t,e),t===null&&Vo(e.stateNode.containerInfo),Je(e),null;case 10:return Zh(e.type._context),Je(e),null;case 17:return yt(e.type)&&Ll(),Je(e),null;case 19:if(ve(Ee),o=e.memoizedState,o===null)return Je(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)oo(o,!1);else{if(Me!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=zl(t),s!==null){for(e.flags|=128,oo(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return pe(Ee,Ee.current&1|2),e.child}t=t.sibling}o.tail!==null&&xe()>Ci&&(e.flags|=128,r=!0,oo(o,!1),e.lanes=4194304)}else{if(!r)if(t=zl(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),oo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!we)return Je(e),null}else 2*xe()-o.renderingStartTime>Ci&&n!==1073741824&&(e.flags|=128,r=!0,oo(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=xe(),e.sibling=null,n=Ee.current,pe(Ee,r?n&1|2:n&1),e):(Je(e),null);case 22:case 23:return gf(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?St&1073741824&&(Je(e),e.subtreeFlags&6&&(e.flags|=8192)):Je(e),null;case 24:return null;case 25:return null}throw Error(I(156,e.tag))}function NS(t,e){switch(Gh(e),e.tag){case 1:return yt(e.type)&&Ll(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ei(),ve(vt),ve(lt),of(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return rf(e),null;case 13:if(ve(Ee),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(I(340));yi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ve(Ee),null;case 4:return Ei(),null;case 10:return Zh(e.type._context),null;case 22:case 23:return gf(),null;case 24:return null;default:return null}}var el=!1,tt=!1,PS=typeof WeakSet=="function"?WeakSet:Set,L=null;function ti(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Te(t,e,r)}else n.current=null}function jc(t,e,n){try{n()}catch(r){Te(t,e,r)}}var Op=!1;function DS(t,e){if(Tc=Rl,t=nv(),Kh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var y;h!==n||i!==0&&h.nodeType!==3||(l=s+i),h!==o||r!==0&&h.nodeType!==3||(a=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(y=h.firstChild)!==null;)d=h,h=y;for(;;){if(h===t)break t;if(d===n&&++u===i&&(l=s),d===o&&++c===r&&(a=s),(y=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=y}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(_c={focusedElem:t,selectionRange:n},Rl=!1,L=e;L!==null;)if(e=L,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,L=t;else for(;L!==null;){e=L;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var C=S.memoizedProps,k=S.memoizedState,v=e.stateNode,f=v.getSnapshotBeforeUpdate(e.elementType===e.type?C:Vt(e.type,C),k);v.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var p=e.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(E){Te(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,L=t;break}L=e.return}return S=Op,Op=!1,S}function Ao(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&jc(e,n,o)}i=i.next}while(i!==r)}}function Aa(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Vc(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Jv(t){var e=t.alternate;e!==null&&(t.alternate=null,Jv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Zt],delete e[Wo],delete e[xc],delete e[dS],delete e[pS])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Zv(t){return t.tag===5||t.tag===3||t.tag===4}function $p(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Zv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=$l));else if(r!==4&&(t=t.child,t!==null))for(zc(t,e,n),t=t.sibling;t!==null;)zc(t,e,n),t=t.sibling}function Wc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Wc(t,e,n),t=t.sibling;t!==null;)Wc(t,e,n),t=t.sibling}var He=null,zt=!1;function Pn(t,e,n){for(n=n.child;n!==null;)ey(t,e,n),n=n.sibling}function ey(t,e,n){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(ya,n)}catch{}switch(n.tag){case 5:tt||ti(n,e);case 6:var r=He,i=zt;He=null,Pn(t,e,n),He=r,zt=i,He!==null&&(zt?(t=He,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):He.removeChild(n.stateNode));break;case 18:He!==null&&(zt?(t=He,n=n.stateNode,t.nodeType===8?Nu(t.parentNode,n):t.nodeType===1&&Nu(t,n),Bo(t)):Nu(He,n.stateNode));break;case 4:r=He,i=zt,He=n.stateNode.containerInfo,zt=!0,Pn(t,e,n),He=r,zt=i;break;case 0:case 11:case 14:case 15:if(!tt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&jc(n,e,s),i=i.next}while(i!==r)}Pn(t,e,n);break;case 1:if(!tt&&(ti(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Te(n,e,l)}Pn(t,e,n);break;case 21:Pn(t,e,n);break;case 22:n.mode&1?(tt=(r=tt)||n.memoizedState!==null,Pn(t,e,n),tt=r):Pn(t,e,n);break;default:Pn(t,e,n)}}function Lp(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new PS),e.forEach(function(r){var i=US.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function jt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 5:He=l.stateNode,zt=!1;break e;case 3:He=l.stateNode.containerInfo,zt=!0;break e;case 4:He=l.stateNode.containerInfo,zt=!0;break e}l=l.return}if(He===null)throw Error(I(160));ey(o,s,i),He=null,zt=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){Te(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ty(e,t),e=e.sibling}function ty(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(jt(e,t),Yt(t),r&4){try{Ao(3,t,t.return),Aa(3,t)}catch(C){Te(t,t.return,C)}try{Ao(5,t,t.return)}catch(C){Te(t,t.return,C)}}break;case 1:jt(e,t),Yt(t),r&512&&n!==null&&ti(n,n.return);break;case 5:if(jt(e,t),Yt(t),r&512&&n!==null&&ti(n,n.return),t.flags&32){var i=t.stateNode;try{$o(i,"")}catch(C){Te(t,t.return,C)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&kg(i,o),pc(l,s);var u=pc(l,o);for(s=0;s<a.length;s+=2){var c=a[s],h=a[s+1];c==="style"?xg(i,h):c==="dangerouslySetInnerHTML"?Ag(i,h):c==="children"?$o(i,h):Oh(i,c,h,u)}switch(l){case"input":uc(i,o);break;case"textarea":Tg(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var y=o.value;y!=null?ii(i,!!o.multiple,y,!1):d!==!!o.multiple&&(o.defaultValue!=null?ii(i,!!o.multiple,o.defaultValue,!0):ii(i,!!o.multiple,o.multiple?[]:"",!1))}i[Wo]=o}catch(C){Te(t,t.return,C)}}break;case 6:if(jt(e,t),Yt(t),r&4){if(t.stateNode===null)throw Error(I(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(C){Te(t,t.return,C)}}break;case 3:if(jt(e,t),Yt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Bo(e.containerInfo)}catch(C){Te(t,t.return,C)}break;case 4:jt(e,t),Yt(t);break;case 13:jt(e,t),Yt(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(pf=xe())),r&4&&Lp(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(tt=(u=tt)||c,jt(e,t),tt=u):jt(e,t),Yt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(L=t,c=t.child;c!==null;){for(h=L=c;L!==null;){switch(d=L,y=d.child,d.tag){case 0:case 11:case 14:case 15:Ao(4,d,d.return);break;case 1:ti(d,d.return);var S=d.stateNode;if(typeof S.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(C){Te(r,n,C)}}break;case 5:ti(d,d.return);break;case 22:if(d.memoizedState!==null){Fp(h);continue}}y!==null?(y.return=d,L=y):Fp(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=h.stateNode,a=h.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Ig("display",s))}catch(C){Te(t,t.return,C)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(C){Te(t,t.return,C)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:jt(e,t),Yt(t),r&4&&Lp(t);break;case 21:break;default:jt(e,t),Yt(t)}}function Yt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Zv(n)){var r=n;break e}n=n.return}throw Error(I(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&($o(i,""),r.flags&=-33);var o=$p(t);Wc(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=$p(t);zc(t,l,s);break;default:throw Error(I(161))}}catch(a){Te(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function RS(t,e,n){L=t,ny(t)}function ny(t,e,n){for(var r=(t.mode&1)!==0;L!==null;){var i=L,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||el;if(!s){var l=i.alternate,a=l!==null&&l.memoizedState!==null||tt;l=el;var u=tt;if(el=s,(tt=a)&&!u)for(L=i;L!==null;)s=L,a=s.child,s.tag===22&&s.memoizedState!==null?Bp(i):a!==null?(a.return=s,L=a):Bp(i);for(;o!==null;)L=o,ny(o),o=o.sibling;L=i,el=l,tt=u}Mp(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,L=o):Mp(t)}}function Mp(t){for(;L!==null;){var e=L;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:tt||Aa(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!tt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Vt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Sp(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Sp(e,s,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Bo(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}tt||e.flags&512&&Vc(e)}catch(d){Te(e,e.return,d)}}if(e===t){L=null;break}if(n=e.sibling,n!==null){n.return=e.return,L=n;break}L=e.return}}function Fp(t){for(;L!==null;){var e=L;if(e===t){L=null;break}var n=e.sibling;if(n!==null){n.return=e.return,L=n;break}L=e.return}}function Bp(t){for(;L!==null;){var e=L;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Aa(4,e)}catch(a){Te(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){Te(e,i,a)}}var o=e.return;try{Vc(e)}catch(a){Te(e,o,a)}break;case 5:var s=e.return;try{Vc(e)}catch(a){Te(e,s,a)}}}catch(a){Te(e,e.return,a)}if(e===t){L=null;break}var l=e.sibling;if(l!==null){l.return=e.return,L=l;break}L=e.return}}var bS=Math.ceil,ql=In.ReactCurrentDispatcher,ff=In.ReactCurrentOwner,Ot=In.ReactCurrentBatchConfig,re=0,je=null,be=null,Qe=0,St=0,ni=ir(0),Me=0,Xo=null,Ar=0,Ia=0,df=0,Io=null,mt=null,pf=0,Ci=1/0,fn=null,Kl=!1,Hc=null,Wn=null,tl=!1,Ln=null,Ql=0,xo=0,qc=null,Sl=-1,Cl=0;function ht(){return re&6?xe():Sl!==-1?Sl:Sl=xe()}function Hn(t){return t.mode&1?re&2&&Qe!==0?Qe&-Qe:gS.transition!==null?(Cl===0&&(Cl=Ug()),Cl):(t=le,t!==0||(t=window.event,t=t===void 0?16:Kg(t.type)),t):1}function Kt(t,e,n,r){if(50<xo)throw xo=0,qc=null,Error(I(185));ws(t,n,r),(!(re&2)||t!==je)&&(t===je&&(!(re&2)&&(Ia|=n),Me===4&&On(t,Qe)),wt(t,r),n===1&&re===0&&!(e.mode&1)&&(Ci=xe()+500,ka&&or()))}function wt(t,e){var n=t.callbackNode;gE(t,e);var r=Dl(t,t===je?Qe:0);if(r===0)n!==null&&Qd(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Qd(n),e===1)t.tag===0?mS(Up.bind(null,t)):fv(Up.bind(null,t)),hS(function(){!(re&6)&&or()}),n=null;else{switch(jg(r)){case 1:n=Bh;break;case 4:n=Fg;break;case 16:n=Pl;break;case 536870912:n=Bg;break;default:n=Pl}n=cy(n,ry.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ry(t,e){if(Sl=-1,Cl=0,re&6)throw Error(I(327));var n=t.callbackNode;if(ui()&&t.callbackNode!==n)return null;var r=Dl(t,t===je?Qe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Gl(t,r);else{e=r;var i=re;re|=2;var o=oy();(je!==t||Qe!==e)&&(fn=null,Ci=xe()+500,Er(t,e));do try{LS();break}catch(l){iy(t,l)}while(1);Jh(),ql.current=o,re=i,be!==null?e=0:(je=null,Qe=0,e=Me)}if(e!==0){if(e===2&&(i=wc(t),i!==0&&(r=i,e=Kc(t,i))),e===1)throw n=Xo,Er(t,0),On(t,r),wt(t,xe()),n;if(e===6)On(t,r);else{if(i=t.current.alternate,!(r&30)&&!OS(i)&&(e=Gl(t,r),e===2&&(o=wc(t),o!==0&&(r=o,e=Kc(t,o))),e===1))throw n=Xo,Er(t,0),On(t,r),wt(t,xe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(I(345));case 2:fr(t,mt,fn);break;case 3:if(On(t,r),(r&130023424)===r&&(e=pf+500-xe(),10<e)){if(Dl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ht(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ic(fr.bind(null,t,mt,fn),e);break}fr(t,mt,fn);break;case 4:if(On(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-qt(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bS(r/1960))-r,10<r){t.timeoutHandle=Ic(fr.bind(null,t,mt,fn),r);break}fr(t,mt,fn);break;case 5:fr(t,mt,fn);break;default:throw Error(I(329))}}}return wt(t,xe()),t.callbackNode===n?ry.bind(null,t):null}function Kc(t,e){var n=Io;return t.current.memoizedState.isDehydrated&&(Er(t,e).flags|=256),t=Gl(t,e),t!==2&&(e=mt,mt=n,e!==null&&Qc(e)),t}function Qc(t){mt===null?mt=t:mt.push.apply(mt,t)}function OS(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Qt(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function On(t,e){for(e&=~df,e&=~Ia,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-qt(e),r=1<<n;t[n]=-1,e&=~r}}function Up(t){if(re&6)throw Error(I(327));ui();var e=Dl(t,0);if(!(e&1))return wt(t,xe()),null;var n=Gl(t,e);if(t.tag!==0&&n===2){var r=wc(t);r!==0&&(e=r,n=Kc(t,r))}if(n===1)throw n=Xo,Er(t,0),On(t,e),wt(t,xe()),n;if(n===6)throw Error(I(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,fr(t,mt,fn),wt(t,xe()),null}function mf(t,e){var n=re;re|=1;try{return t(e)}finally{re=n,re===0&&(Ci=xe()+500,ka&&or())}}function Ir(t){Ln!==null&&Ln.tag===0&&!(re&6)&&ui();var e=re;re|=1;var n=Ot.transition,r=le;try{if(Ot.transition=null,le=1,t)return t()}finally{le=r,Ot.transition=n,re=e,!(re&6)&&or()}}function gf(){St=ni.current,ve(ni)}function Er(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,cS(n)),be!==null)for(n=be.return;n!==null;){var r=n;switch(Gh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ll();break;case 3:Ei(),ve(vt),ve(lt),of();break;case 5:rf(r);break;case 4:Ei();break;case 13:ve(Ee);break;case 19:ve(Ee);break;case 10:Zh(r.type._context);break;case 22:case 23:gf()}n=n.return}if(je=t,be=t=qn(t.current,null),Qe=St=e,Me=0,Xo=null,df=Ia=Ar=0,mt=Io=null,mr!==null){for(e=0;e<mr.length;e++)if(n=mr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}mr=null}return t}function iy(t,e){do{var n=be;try{if(Jh(),yl.current=Hl,Wl){for(var r=Se.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Wl=!1}if(_r=0,Ue=$e=Se=null,_o=!1,Ko=0,ff.current=null,n===null||n.return===null){Me=1,Xo=e,be=null;break}e:{var o=t,s=n.return,l=n,a=e;if(e=Qe,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var y=Ip(s);if(y!==null){y.flags&=-257,xp(y,s,l,o,e),y.mode&1&&Ap(o,u,e),e=y,a=u;var S=e.updateQueue;if(S===null){var C=new Set;C.add(a),e.updateQueue=C}else S.add(a);break e}else{if(!(e&1)){Ap(o,u,e),vf();break e}a=Error(I(426))}}else if(we&&l.mode&1){var k=Ip(s);if(k!==null){!(k.flags&65536)&&(k.flags|=256),xp(k,s,l,o,e),Xh(Si(a,l));break e}}o=a=Si(a,l),Me!==4&&(Me=2),Io===null?Io=[o]:Io.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var v=jv(o,a,e);Ep(o,v);break e;case 1:l=a;var f=o.type,p=o.stateNode;if(!(o.flags&128)&&(typeof f.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Wn===null||!Wn.has(p)))){o.flags|=65536,e&=-e,o.lanes|=e;var E=Vv(o,l,e);Ep(o,E);break e}}o=o.return}while(o!==null)}ly(n)}catch(T){e=T,be===n&&n!==null&&(be=n=n.return);continue}break}while(1)}function oy(){var t=ql.current;return ql.current=Hl,t===null?Hl:t}function vf(){(Me===0||Me===3||Me===2)&&(Me=4),je===null||!(Ar&268435455)&&!(Ia&268435455)||On(je,Qe)}function Gl(t,e){var n=re;re|=2;var r=oy();(je!==t||Qe!==e)&&(fn=null,Er(t,e));do try{$S();break}catch(i){iy(t,i)}while(1);if(Jh(),re=n,ql.current=r,be!==null)throw Error(I(261));return je=null,Qe=0,Me}function $S(){for(;be!==null;)sy(be)}function LS(){for(;be!==null&&!lE();)sy(be)}function sy(t){var e=uy(t.alternate,t,St);t.memoizedProps=t.pendingProps,e===null?ly(t):be=e,ff.current=null}function ly(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=NS(n,e),n!==null){n.flags&=32767,be=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Me=6,be=null;return}}else if(n=xS(n,e,St),n!==null){be=n;return}if(e=e.sibling,e!==null){be=e;return}be=e=t}while(e!==null);Me===0&&(Me=5)}function fr(t,e,n){var r=le,i=Ot.transition;try{Ot.transition=null,le=1,MS(t,e,n,r)}finally{Ot.transition=i,le=r}return null}function MS(t,e,n,r){do ui();while(Ln!==null);if(re&6)throw Error(I(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(I(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(vE(t,o),t===je&&(be=je=null,Qe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||tl||(tl=!0,cy(Pl,function(){return ui(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Ot.transition,Ot.transition=null;var s=le;le=1;var l=re;re|=4,ff.current=null,DS(t,n),ty(n,t),rS(_c),Rl=!!Tc,_c=Tc=null,t.current=n,RS(n),aE(),re=l,le=s,Ot.transition=o}else t.current=n;if(tl&&(tl=!1,Ln=t,Ql=i),o=t.pendingLanes,o===0&&(Wn=null),hE(n.stateNode),wt(t,xe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Kl)throw Kl=!1,t=Hc,Hc=null,t;return Ql&1&&t.tag!==0&&ui(),o=t.pendingLanes,o&1?t===qc?xo++:(xo=0,qc=t):xo=0,or(),null}function ui(){if(Ln!==null){var t=jg(Ql),e=Ot.transition,n=le;try{if(Ot.transition=null,le=16>t?16:t,Ln===null)var r=!1;else{if(t=Ln,Ln=null,Ql=0,re&6)throw Error(I(331));var i=re;for(re|=4,L=t.current;L!==null;){var o=L,s=o.child;if(L.flags&16){var l=o.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(L=u;L!==null;){var c=L;switch(c.tag){case 0:case 11:case 15:Ao(8,c,o)}var h=c.child;if(h!==null)h.return=c,L=h;else for(;L!==null;){c=L;var d=c.sibling,y=c.return;if(Jv(c),c===u){L=null;break}if(d!==null){d.return=y,L=d;break}L=y}}}var S=o.alternate;if(S!==null){var C=S.child;if(C!==null){S.child=null;do{var k=C.sibling;C.sibling=null,C=k}while(C!==null)}}L=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,L=s;else e:for(;L!==null;){if(o=L,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ao(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,L=v;break e}L=o.return}}var f=t.current;for(L=f;L!==null;){s=L;var p=s.child;if(s.subtreeFlags&2064&&p!==null)p.return=s,L=p;else e:for(s=f;L!==null;){if(l=L,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Aa(9,l)}}catch(T){Te(l,l.return,T)}if(l===s){L=null;break e}var E=l.sibling;if(E!==null){E.return=l.return,L=E;break e}L=l.return}}if(re=i,or(),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(ya,t)}catch{}r=!0}return r}finally{le=n,Ot.transition=e}}return!1}function jp(t,e,n){e=Si(n,e),e=jv(t,e,1),t=zn(t,e,1),e=ht(),t!==null&&(ws(t,1,e),wt(t,e))}function Te(t,e,n){if(t.tag===3)jp(t,t,n);else for(;e!==null;){if(e.tag===3){jp(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wn===null||!Wn.has(r))){t=Si(n,t),t=Vv(e,t,1),e=zn(e,t,1),t=ht(),e!==null&&(ws(e,1,t),wt(e,t));break}}e=e.return}}function FS(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ht(),t.pingedLanes|=t.suspendedLanes&n,je===t&&(Qe&n)===n&&(Me===4||Me===3&&(Qe&130023424)===Qe&&500>xe()-pf?Er(t,0):df|=n),wt(t,e)}function ay(t,e){e===0&&(t.mode&1?(e=Hs,Hs<<=1,!(Hs&130023424)&&(Hs=4194304)):e=1);var n=ht();t=Sn(t,e),t!==null&&(ws(t,e,n),wt(t,n))}function BS(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ay(t,n)}function US(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(I(314))}r!==null&&r.delete(e),ay(t,n)}var uy;uy=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||vt.current)gt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return gt=!1,IS(t,e,n);gt=!!(t.flags&131072)}else gt=!1,we&&e.flags&1048576&&dv(e,Bl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;El(t,e),t=e.pendingProps;var i=vi(e,lt.current);ai(e,n),i=lf(null,e,r,t,i,n);var o=af();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,yt(r)?(o=!0,Ml(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,tf(e),i.updater=_a,e.stateNode=i,i._reactInternals=e,Oc(e,r,t,n),e=Mc(null,e,r,!0,o,n)):(e.tag=0,we&&o&&Qh(e),ut(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(El(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=VS(r),t=Vt(r,t),i){case 0:e=Lc(null,e,r,t,n);break e;case 1:e=Dp(null,e,r,t,n);break e;case 11:e=Np(null,e,r,t,n);break e;case 14:e=Pp(null,e,r,Vt(r.type,t),n);break e}throw Error(I(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vt(r,i),Lc(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vt(r,i),Dp(t,e,r,i,n);case 3:e:{if(qv(e),t===null)throw Error(I(387));r=e.pendingProps,o=e.memoizedState,i=o.element,wv(t,e),Vl(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Si(Error(I(423)),e),e=Rp(t,e,r,n,i);break e}else if(r!==i){i=Si(Error(I(424)),e),e=Rp(t,e,r,n,i);break e}else for(Ct=Vn(e.stateNode.containerInfo.firstChild),kt=e,we=!0,Wt=null,n=vv(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(yi(),r===i){e=Cn(t,e,n);break e}ut(t,e,r,n)}e=e.child}return e;case 5:return Ev(e),t===null&&Dc(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Ac(r,i)?s=null:o!==null&&Ac(r,o)&&(e.flags|=32),Hv(t,e),ut(t,e,s,n),e.child;case 6:return t===null&&Dc(e),null;case 13:return Kv(t,e,n);case 4:return nf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=wi(e,null,r,n):ut(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vt(r,i),Np(t,e,r,i,n);case 7:return ut(t,e,e.pendingProps,n),e.child;case 8:return ut(t,e,e.pendingProps.children,n),e.child;case 12:return ut(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,pe(Ul,r._currentValue),r._currentValue=s,o!==null)if(Qt(o.value,s)){if(o.children===i.children&&!vt.current){e=Cn(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=vn(-1,n&-n),a.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Rc(o.return,n,e),l.lanes|=n;break}a=a.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(I(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Rc(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}ut(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ai(e,n),i=Lt(i),r=r(i),e.flags|=1,ut(t,e,r,n),e.child;case 14:return r=e.type,i=Vt(r,e.pendingProps),i=Vt(r.type,i),Pp(t,e,r,i,n);case 15:return zv(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vt(r,i),El(t,e),e.tag=1,yt(r)?(t=!0,Ml(e)):t=!1,ai(e,n),Uv(e,r,i),Oc(e,r,i,n),Mc(null,e,r,!0,t,n);case 19:return Qv(t,e,n);case 22:return Wv(t,e,n)}throw Error(I(156,e.tag))};function cy(t,e){return Mg(t,e)}function jS(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bt(t,e,n,r){return new jS(t,e,n,r)}function yf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function VS(t){if(typeof t=="function")return yf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Lh)return 11;if(t===Mh)return 14}return 2}function qn(t,e){var n=t.alternate;return n===null?(n=bt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function kl(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")yf(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case qr:return Sr(n.children,i,o,e);case $h:s=8,i|=8;break;case ic:return t=bt(12,n,e,i|2),t.elementType=ic,t.lanes=o,t;case oc:return t=bt(13,n,e,i),t.elementType=oc,t.lanes=o,t;case sc:return t=bt(19,n,e,i),t.elementType=sc,t.lanes=o,t;case Eg:return xa(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case yg:s=10;break e;case wg:s=9;break e;case Lh:s=11;break e;case Mh:s=14;break e;case Dn:s=16,r=null;break e}throw Error(I(130,t==null?t:typeof t,""))}return e=bt(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Sr(t,e,n,r){return t=bt(7,t,r,e),t.lanes=n,t}function xa(t,e,n,r){return t=bt(22,t,r,e),t.elementType=Eg,t.lanes=n,t.stateNode={isHidden:!1},t}function Mu(t,e,n){return t=bt(6,t,null,e),t.lanes=n,t}function Fu(t,e,n){return e=bt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function zS(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yu(0),this.expirationTimes=yu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function wf(t,e,n,r,i,o,s,l,a){return t=new zS(t,e,n,l,a),e===1?(e=1,o===!0&&(e|=8)):e=0,o=bt(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},tf(o),t}function WS(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function hy(t){if(!t)return Jn;t=t._reactInternals;e:{if(Rr(t)!==t||t.tag!==1)throw Error(I(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(yt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(I(171))}if(t.tag===1){var n=t.type;if(yt(n))return hv(t,n,e)}return e}function fy(t,e,n,r,i,o,s,l,a){return t=wf(n,r,!0,t,i,o,s,l,a),t.context=hy(null),n=t.current,r=ht(),i=Hn(n),o=vn(r,i),o.callback=e??null,zn(n,o,i),t.current.lanes=i,ws(t,i,r),wt(t,r),t}function Na(t,e,n,r){var i=e.current,o=ht(),s=Hn(i);return n=hy(n),e.context===null?e.context=n:e.pendingContext=n,e=vn(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=zn(i,e,s),t!==null&&(Kt(t,i,s,o),vl(t,i,s)),s}function Xl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Vp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ef(t,e){Vp(t,e),(t=t.alternate)&&Vp(t,e)}function HS(){return null}var dy=typeof reportError=="function"?reportError:function(t){console.error(t)};function Sf(t){this._internalRoot=t}Pa.prototype.render=Sf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(I(409));Na(t,e,null,null)};Pa.prototype.unmount=Sf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ir(function(){Na(null,t,null,null)}),e[En]=null}};function Pa(t){this._internalRoot=t}Pa.prototype.unstable_scheduleHydration=function(t){if(t){var e=Wg();t={blockedOn:null,target:t,priority:e};for(var n=0;n<bn.length&&e!==0&&e<bn[n].priority;n++);bn.splice(n,0,t),n===0&&qg(t)}};function Cf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Da(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function zp(){}function qS(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Xl(s);o.call(u)}}var s=fy(e,r,t,0,null,!1,!1,"",zp);return t._reactRootContainer=s,t[En]=s.current,Vo(t.nodeType===8?t.parentNode:t),Ir(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=Xl(a);l.call(u)}}var a=wf(t,0,!1,null,null,!1,!1,"",zp);return t._reactRootContainer=a,t[En]=a.current,Vo(t.nodeType===8?t.parentNode:t),Ir(function(){Na(e,a,n,r)}),a}function Ra(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var a=Xl(s);l.call(a)}}Na(e,s,t,i)}else s=qS(n,e,t,i,r);return Xl(s)}Vg=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ho(e.pendingLanes);n!==0&&(Uh(e,n|1),wt(e,xe()),!(re&6)&&(Ci=xe()+500,or()))}break;case 13:Ir(function(){var r=Sn(t,1);if(r!==null){var i=ht();Kt(r,t,1,i)}}),Ef(t,1)}};jh=function(t){if(t.tag===13){var e=Sn(t,134217728);if(e!==null){var n=ht();Kt(e,t,134217728,n)}Ef(t,134217728)}};zg=function(t){if(t.tag===13){var e=Hn(t),n=Sn(t,e);if(n!==null){var r=ht();Kt(n,t,e,r)}Ef(t,e)}};Wg=function(){return le};Hg=function(t,e){var n=le;try{return le=t,e()}finally{le=n}};gc=function(t,e,n){switch(e){case"input":if(uc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ca(r);if(!i)throw Error(I(90));Cg(r),uc(r,i)}}}break;case"textarea":Tg(t,n);break;case"select":e=n.value,e!=null&&ii(t,!!n.multiple,e,!1)}};Dg=mf;Rg=Ir;var KS={usingClientEntryPoint:!1,Events:[Ss,Xr,Ca,Ng,Pg,mf]},so={findFiberByHostInstance:pr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},QS={bundleType:so.bundleType,version:so.version,rendererPackageName:so.rendererPackageName,rendererConfig:so.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:In.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=$g(t),t===null?null:t.stateNode},findFiberByHostInstance:so.findFiberByHostInstance||HS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nl.isDisabled&&nl.supportsFiber)try{ya=nl.inject(QS),rn=nl}catch{}}At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KS;At.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cf(e))throw Error(I(200));return WS(t,e,null,n)};At.createRoot=function(t,e){if(!Cf(t))throw Error(I(299));var n=!1,r="",i=dy;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=wf(t,1,!1,null,null,n,!1,r,i),t[En]=e.current,Vo(t.nodeType===8?t.parentNode:t),new Sf(e)};At.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(I(188)):(t=Object.keys(t).join(","),Error(I(268,t)));return t=$g(e),t=t===null?null:t.stateNode,t};At.flushSync=function(t){return Ir(t)};At.hydrate=function(t,e,n){if(!Da(e))throw Error(I(200));return Ra(null,t,e,!0,n)};At.hydrateRoot=function(t,e,n){if(!Cf(t))throw Error(I(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=dy;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=fy(e,null,t,1,n??null,i,!1,o,s),t[En]=e.current,Vo(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Pa(e)};At.render=function(t,e,n){if(!Da(e))throw Error(I(200));return Ra(null,t,e,!1,n)};At.unmountComponentAtNode=function(t){if(!Da(t))throw Error(I(40));return t._reactRootContainer?(Ir(function(){Ra(null,null,t,!1,function(){t._reactRootContainer=null,t[En]=null})}),!0):!1};At.unstable_batchedUpdates=mf;At.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Da(n))throw Error(I(200));if(t==null||t._reactInternals===void 0)throw Error(I(38));return Ra(t,e,n,!1,r)};At.version="18.3.1-next-f1338f8080-20240426";function py(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(py)}catch(t){console.error(t)}}py(),pg.exports=At;var GS=pg.exports,Wp=GS;nc.createRoot=Wp.createRoot,nc.hydrateRoot=Wp.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yo(){return Yo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yo.apply(this,arguments)}var Mn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Mn||(Mn={}));const Hp="popstate";function XS(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:l}=r.location;return Gc("",{pathname:o,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Yl(i)}return JS(e,n,null,t)}function Oe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function my(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function YS(){return Math.random().toString(36).substr(2,8)}function qp(t,e){return{usr:t.state,key:t.key,idx:e}}function Gc(t,e,n,r){return n===void 0&&(n=null),Yo({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Oi(e):e,{state:n,key:e&&e.key||r||YS()})}function Yl(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Oi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function JS(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,l=Mn.Pop,a=null,u=c();u==null&&(u=0,s.replaceState(Yo({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function h(){l=Mn.Pop;let k=c(),v=k==null?null:k-u;u=k,a&&a({action:l,location:C.location,delta:v})}function d(k,v){l=Mn.Push;let f=Gc(C.location,k,v);n&&n(f,k),u=c()+1;let p=qp(f,u),E=C.createHref(f);try{s.pushState(p,"",E)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(E)}o&&a&&a({action:l,location:C.location,delta:1})}function y(k,v){l=Mn.Replace;let f=Gc(C.location,k,v);n&&n(f,k),u=c();let p=qp(f,u),E=C.createHref(f);s.replaceState(p,"",E),o&&a&&a({action:l,location:C.location,delta:0})}function S(k){let v=i.location.origin!=="null"?i.location.origin:i.location.href,f=typeof k=="string"?k:Yl(k);return f=f.replace(/ $/,"%20"),Oe(v,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,v)}let C={get action(){return l},get location(){return t(i,s)},listen(k){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(Hp,h),a=k,()=>{i.removeEventListener(Hp,h),a=null}},createHref(k){return e(i,k)},createURL:S,encodeLocation(k){let v=S(k);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:d,replace:y,go(k){return s.go(k)}};return C}var Kp;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Kp||(Kp={}));function ZS(t,e,n){return n===void 0&&(n="/"),eC(t,e,n,!1)}function eC(t,e,n,r){let i=typeof e=="string"?Oi(e):e,o=kf(i.pathname||"/",n);if(o==null)return null;let s=gy(t);tC(s);let l=null;for(let a=0;l==null&&a<s.length;++a){let u=fC(o);l=cC(s[a],u,r)}return l}function gy(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,l)=>{let a={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};a.relativePath.startsWith("/")&&(Oe(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let u=Kn([r,a.relativePath]),c=n.concat(a);o.children&&o.children.length>0&&(Oe(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),gy(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:aC(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,s);else for(let a of vy(o.path))i(o,s,a)}),e}function vy(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=vy(r.join("/")),l=[];return l.push(...s.map(a=>a===""?o:[o,a].join("/"))),i&&l.push(...s),l.map(a=>t.startsWith("/")&&a===""?"/":a)}function tC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:uC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const nC=/^:[\w-]+$/,rC=3,iC=2,oC=1,sC=10,lC=-2,Qp=t=>t==="*";function aC(t,e){let n=t.split("/"),r=n.length;return n.some(Qp)&&(r+=lC),e&&(r+=iC),n.filter(i=>!Qp(i)).reduce((i,o)=>i+(nC.test(o)?rC:o===""?oC:sC),r)}function uC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function cC(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},o="/",s=[];for(let l=0;l<r.length;++l){let a=r[l],u=l===r.length-1,c=o==="/"?e:e.slice(o.length)||"/",h=Gp({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},c),d=a.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=Gp({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},c)),!h)return null;Object.assign(i,h.params),s.push({params:i,pathname:Kn([o,h.pathname]),pathnameBase:gC(Kn([o,h.pathnameBase])),route:d}),h.pathnameBase!=="/"&&(o=Kn([o,h.pathnameBase]))}return s}function Gp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=hC(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,c,h)=>{let{paramName:d,isOptional:y}=c;if(d==="*"){let C=l[h]||"";s=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}const S=l[h];return y&&!S?u[d]=void 0:u[d]=(S||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:t}}function hC(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),my(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,a)=>(r.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function fC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return my(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function kf(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function dC(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Oi(t):t;return{pathname:n?n.startsWith("/")?n:pC(n,e):e,search:vC(r),hash:yC(i)}}function pC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Bu(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function mC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function yy(t,e){let n=mC(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function wy(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Oi(t):(i=Yo({},t),Oe(!i.pathname||!i.pathname.includes("?"),Bu("?","pathname","search",i)),Oe(!i.pathname||!i.pathname.includes("#"),Bu("#","pathname","hash",i)),Oe(!i.search||!i.search.includes("#"),Bu("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,l;if(s==null)l=n;else{let h=e.length-1;if(!r&&s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),h-=1;i.pathname=d.join("/")}l=h>=0?e[h]:"/"}let a=dC(i,l),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||c)&&(a.pathname+="/"),a}const Kn=t=>t.join("/").replace(/\/\/+/g,"/"),gC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),vC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,yC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function wC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Ey=["post","put","patch","delete"];new Set(Ey);const EC=["get",...Ey];new Set(EC);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jo(){return Jo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jo.apply(this,arguments)}const Tf=D.createContext(null),SC=D.createContext(null),br=D.createContext(null),ba=D.createContext(null),Or=D.createContext({outlet:null,matches:[],isDataRoute:!1}),Sy=D.createContext(null);function CC(t,e){let{relative:n}=e===void 0?{}:e;ks()||Oe(!1);let{basename:r,navigator:i}=D.useContext(br),{hash:o,pathname:s,search:l}=ky(t,{relative:n}),a=s;return r!=="/"&&(a=s==="/"?r:Kn([r,s])),i.createHref({pathname:a,search:l,hash:o})}function ks(){return D.useContext(ba)!=null}function Ts(){return ks()||Oe(!1),D.useContext(ba).location}function Cy(t){D.useContext(br).static||D.useLayoutEffect(t)}function kC(){let{isDataRoute:t}=D.useContext(Or);return t?LC():TC()}function TC(){ks()||Oe(!1);let t=D.useContext(Tf),{basename:e,future:n,navigator:r}=D.useContext(br),{matches:i}=D.useContext(Or),{pathname:o}=Ts(),s=JSON.stringify(yy(i,n.v7_relativeSplatPath)),l=D.useRef(!1);return Cy(()=>{l.current=!0}),D.useCallback(function(u,c){if(c===void 0&&(c={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=wy(u,JSON.parse(s),o,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Kn([e,h.pathname])),(c.replace?r.replace:r.push)(h,c.state,c)},[e,r,s,o,t])}function ky(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=D.useContext(br),{matches:i}=D.useContext(Or),{pathname:o}=Ts(),s=JSON.stringify(yy(i,r.v7_relativeSplatPath));return D.useMemo(()=>wy(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function _C(t,e){return AC(t,e)}function AC(t,e,n,r){ks()||Oe(!1);let{navigator:i}=D.useContext(br),{matches:o}=D.useContext(Or),s=o[o.length-1],l=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let u=Ts(),c;if(e){var h;let k=typeof e=="string"?Oi(e):e;a==="/"||(h=k.pathname)!=null&&h.startsWith(a)||Oe(!1),c=k}else c=u;let d=c.pathname||"/",y=d;if(a!=="/"){let k=a.replace(/^\//,"").split("/");y="/"+d.replace(/^\//,"").split("/").slice(k.length).join("/")}let S=ZS(t,{pathname:y}),C=DC(S&&S.map(k=>Object.assign({},k,{params:Object.assign({},l,k.params),pathname:Kn([a,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?a:Kn([a,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),o,n,r);return e&&C?D.createElement(ba.Provider,{value:{location:Jo({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Mn.Pop}},C):C}function IC(){let t=$C(),e=wC(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:i},n):null,o)}const xC=D.createElement(IC,null);class NC extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?D.createElement(Or.Provider,{value:this.props.routeContext},D.createElement(Sy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function PC(t){let{routeContext:e,match:n,children:r}=t,i=D.useContext(Tf);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),D.createElement(Or.Provider,{value:e},r)}function DC(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let c=s.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);c>=0||Oe(!1),s=s.slice(0,Math.min(s.length,c+1))}let a=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<s.length;c++){let h=s[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:d,errors:y}=n,S=h.route.loader&&d[h.route.id]===void 0&&(!y||y[h.route.id]===void 0);if(h.route.lazy||S){a=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,h,d)=>{let y,S=!1,C=null,k=null;n&&(y=l&&h.route.id?l[h.route.id]:void 0,C=h.route.errorElement||xC,a&&(u<0&&d===0?(MC("route-fallback",!1),S=!0,k=null):u===d&&(S=!0,k=h.route.hydrateFallbackElement||null)));let v=e.concat(s.slice(0,d+1)),f=()=>{let p;return y?p=C:S?p=k:h.route.Component?p=D.createElement(h.route.Component,null):h.route.element?p=h.route.element:p=c,D.createElement(PC,{match:h,routeContext:{outlet:c,matches:v,isDataRoute:n!=null},children:p})};return n&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?D.createElement(NC,{location:n.location,revalidation:n.revalidation,component:C,error:y,children:f(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):f()},null)}var Ty=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Ty||{}),Jl=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Jl||{});function RC(t){let e=D.useContext(Tf);return e||Oe(!1),e}function bC(t){let e=D.useContext(SC);return e||Oe(!1),e}function OC(t){let e=D.useContext(Or);return e||Oe(!1),e}function _y(t){let e=OC(),n=e.matches[e.matches.length-1];return n.route.id||Oe(!1),n.route.id}function $C(){var t;let e=D.useContext(Sy),n=bC(Jl.UseRouteError),r=_y(Jl.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function LC(){let{router:t}=RC(Ty.UseNavigateStable),e=_y(Jl.UseNavigateStable),n=D.useRef(!1);return Cy(()=>{n.current=!0}),D.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Jo({fromRouteId:e},o)))},[t,e])}const Xp={};function MC(t,e,n){!e&&!Xp[t]&&(Xp[t]=!0)}function po(t){Oe(!1)}function FC(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Mn.Pop,navigator:o,static:s=!1,future:l}=t;ks()&&Oe(!1);let a=e.replace(/^\/*/,"/"),u=D.useMemo(()=>({basename:a,navigator:o,static:s,future:Jo({v7_relativeSplatPath:!1},l)}),[a,l,o,s]);typeof r=="string"&&(r=Oi(r));let{pathname:c="/",search:h="",hash:d="",state:y=null,key:S="default"}=r,C=D.useMemo(()=>{let k=kf(c,a);return k==null?null:{location:{pathname:k,search:h,hash:d,state:y,key:S},navigationType:i}},[a,c,h,d,y,S,i]);return C==null?null:D.createElement(br.Provider,{value:u},D.createElement(ba.Provider,{children:n,value:C}))}function BC(t){let{children:e,location:n}=t;return _C(Xc(e),n)}new Promise(()=>{});function Xc(t,e){e===void 0&&(e=[]);let n=[];return D.Children.forEach(t,(r,i)=>{if(!D.isValidElement(r))return;let o=[...e,i];if(r.type===D.Fragment){n.push.apply(n,Xc(r.props.children,o));return}r.type!==po&&Oe(!1),!r.props.index||!r.props.children||Oe(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Xc(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yc(){return Yc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yc.apply(this,arguments)}function UC(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function jC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function VC(t,e){return t.button===0&&(!e||e==="_self")&&!jC(t)}const zC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],WC="6";try{window.__reactRouterVersion=WC}catch{}const HC="startTransition",Yp=Fw[HC];function qC(t){let{basename:e,children:n,future:r,window:i}=t,o=D.useRef();o.current==null&&(o.current=XS({window:i,v5Compat:!0}));let s=o.current,[l,a]=D.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},c=D.useCallback(h=>{u&&Yp?Yp(()=>a(h)):a(h)},[a,u]);return D.useLayoutEffect(()=>s.listen(c),[s,c]),D.createElement(FC,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:s,future:r})}const KC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",QC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mo=D.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:l,target:a,to:u,preventScrollReset:c,unstable_viewTransition:h}=e,d=UC(e,zC),{basename:y}=D.useContext(br),S,C=!1;if(typeof u=="string"&&QC.test(u)&&(S=u,KC))try{let p=new URL(window.location.href),E=u.startsWith("//")?new URL(p.protocol+u):new URL(u),T=kf(E.pathname,y);E.origin===p.origin&&T!=null?u=T+E.search+E.hash:C=!0}catch{}let k=CC(u,{relative:i}),v=GC(u,{replace:s,state:l,target:a,preventScrollReset:c,relative:i,unstable_viewTransition:h});function f(p){r&&r(p),p.defaultPrevented||v(p)}return D.createElement("a",Yc({},d,{href:S||k,onClick:C||o?r:f,ref:n,target:a}))});var Jp;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Jp||(Jp={}));var Zp;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Zp||(Zp={}));function GC(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:l}=e===void 0?{}:e,a=kC(),u=Ts(),c=ky(t,{relative:s});return D.useCallback(h=>{if(VC(h,n)){h.preventDefault();let d=r!==void 0?r:Yl(u)===Yl(c);a(t,{replace:d,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:l})}},[u,a,c,r,i,n,t,o,s,l])}var Ay={},Oa={};(function(){var t={},e="";try{e=location.hash.toString()}catch{}var n=a(e),r=v("initParams");if(r)for(var i in r)typeof n[i]>"u"&&(n[i]=r[i]);k("initParams",n);var o=!1,s;try{if(o=window.parent!=null&&window!=window.parent,o){window.addEventListener("message",function(f){if(f.source===window.parent){try{var p=JSON.parse(f.data)}catch{return}if(!(!p||!p.eventType))if(p.eventType=="set_custom_style")f.origin==="https://web.telegram.org"&&(s.innerHTML=p.eventData);else if(p.eventType=="reload_iframe"){try{window.parent.postMessage(JSON.stringify({eventType:"iframe_will_reload"}),"*")}catch{}location.reload()}else d(p.eventType,p.eventData)}}),s=document.createElement("style"),document.head.appendChild(s);try{window.parent.postMessage(JSON.stringify({eventType:"iframe_ready",eventData:{reload_supported:!0}}),"*")}catch{}}}catch{}function l(f){try{return f=f.replace(/\+/g,"%20"),decodeURIComponent(f)}catch{return f}}function a(f){f=f.replace(/^#/,"");var p={};if(!f.length)return p;if(f.indexOf("=")<0&&f.indexOf("?")<0)return p._path=l(f),p;var E=f.indexOf("?");if(E>=0){var T=f.substr(0,E);p._path=l(T),f=f.substr(E+1)}var P=u(f);for(var b in P)p[b]=P[b];return p}function u(f){var p={};if(!f.length)return p;var E=f.split("&"),T,P,b,M;for(T=0;T<E.length;T++)P=E[T].split("="),b=l(P[0]),M=P[1]==null?null:l(P[1]),p[b]=M;return p}function c(f,p){var E=f.indexOf("#");if(E<0)return f+"#"+p;var T=f.substr(E+1);return T.indexOf("=")>=0||T.indexOf("?")>=0?f+"&"+p:T.length>0?f+"?"+p:f+p}function h(f,p,E){if(p||(p=function(){}),E===void 0&&(E=""),console.log("[Telegram.WebView] > postEvent",f,E),window.TelegramWebviewProxy!==void 0)TelegramWebviewProxy.postEvent(f,JSON.stringify(E)),p();else if(window.external&&"notify"in window.external)window.external.notify(JSON.stringify({eventType:f,eventData:E})),p();else if(o)try{var T="https://web.telegram.org";T="*",window.parent.postMessage(JSON.stringify({eventType:f,eventData:E}),T),p()}catch(P){p(P)}else p({notAvailable:!0})}function d(f,p){console.log("[Telegram.WebView] < receiveEvent",f,p),y(f,function(E){E(f,p)})}function y(f,p){var E=t[f];if(!(E===void 0||!E.length))for(var T=0;T<E.length;T++)try{p(E[T])}catch{}}function S(f,p){t[f]===void 0&&(t[f]=[]);var E=t[f].indexOf(p);E===-1&&t[f].push(p)}function C(f,p){if(t[f]!==void 0){var E=t[f].indexOf(p);E!==-1&&t[f].splice(E,1)}}function k(f,p){try{return window.sessionStorage.setItem("__telegram__"+f,JSON.stringify(p)),!0}catch{}return!1}function v(f){try{return JSON.parse(window.sessionStorage.getItem("__telegram__"+f))}catch{}return null}window.Telegram||(window.Telegram={}),window.Telegram.WebView={initParams:n,isIframe:o,onEvent:S,offEvent:C,postEvent:h,receiveEvent:d,callEventCallbacks:y},window.Telegram.Utils={urlSafeDecode:l,urlParseQueryString:u,urlParseHashParams:a,urlAppendHashParams:c,sessionStorageSet:k,sessionStorageGet:v},window.TelegramGameProxy_receiveEvent=d,window.TelegramGameProxy={receiveEvent:d}})();(function(){var t=window.Telegram.Utils,e=window.Telegram.WebView,n=e.initParams,r=e.isIframe,i={},o="",s={},l={},a="light",u="6.0",c="unknown";if(n.tgWebAppData&&n.tgWebAppData.length){o=n.tgWebAppData,s=t.urlParseQueryString(o);for(var h in s){var d=s[h];try{(d.substr(0,1)=="{"&&d.substr(-1)=="}"||d.substr(0,1)=="["&&d.substr(-1)=="]")&&(s[h]=JSON.parse(d))}catch{}}}if(n.tgWebAppThemeParams&&n.tgWebAppThemeParams.length){var y=n.tgWebAppThemeParams;try{var S=JSON.parse(y);S&&ue(S)}catch{}}var S=t.sessionStorageGet("themeParams");S&&ue(S),n.tgWebAppVersion&&(u=n.tgWebAppVersion),n.tgWebAppPlatform&&(c=n.tgWebAppPlatform);function C(m,g){g.theme_params&&(ue(g.theme_params),window.Telegram.WebApp.MainButton.setParams({}),window.Telegram.WebApp.SecondaryButton.setParams({}),Ut(),lu(),au(),T("themeChanged"))}var k=window.innerHeight;function v(m,g){g.height&&(window.removeEventListener("resize",f),zi(g))}function f(m){k!=window.innerHeight&&(k=window.innerHeight,T("viewportChanged",{isStateStable:!0}))}function p(m){if(!(m.metaKey||m.ctrlKey)){for(var g=m.target;g.tagName!="A"&&g.parentNode;)g=g.parentNode;g.tagName=="A"&&g.target!="_blank"&&(g.protocol=="http:"||g.protocol=="https:")&&g.hostname=="t.me"&&(i.openTgLink(g.href),m.preventDefault())}}function E(m){return m.toString().replace(/^\s+|\s+$/g,"")}function T(m){var g=Array.prototype.slice.call(arguments);m=g.shift(),e.callEventCallbacks("webview:"+m,function(w){w.apply(i,g)})}function P(m,g){e.onEvent("webview:"+m,g)}function b(m,g){e.offEvent("webview:"+m,g)}function M(m,g){var w=document.documentElement;w&&w.style&&w.style.setProperty&&w.style.setProperty("--tg-"+m,g)}function ue(m){m.bg_color=="#1c1c1d"&&m.bg_color==m.secondary_bg_color&&(m.secondary_bg_color="#2c2c2e");var g;for(var w in m)(g=Br(m[w]))&&(l[w]=g,w=="bg_color"&&(a=Z1(g)?"dark":"light",M("color-scheme",a)),w="theme-"+w.split("_").join("-"),M(w,g));t.sessionStorageSet("themeParams",l)}var W={};function pt(m){for(var g=100;--g;){for(var w="",_="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",N=_.length,G=0;G<m;G++)w+=_[Math.floor(Math.random()*N)];if(!W[w])return W[w]={},w}throw Error("WebAppCallbackIdGenerateFailed")}var Ft=!1,Bt=!1,Vi=!0;function zi(m){typeof m<"u"&&(Vi=!!m.is_expanded,Ft=m.height,m.is_state_stable&&(Bt=m.height),T("viewportChanged",{isStateStable:!!m.is_state_stable}));var g,w;Ft!==!1?g=Ft-Et+"px":g=Et?"calc(100vh - "+Et+"px)":"100vh",Bt!==!1?w=Bt-Et+"px":w=Et?"calc(100vh - "+Et+"px)":"100vh",M("viewport-height",g),M("viewport-stable-height",w)}var ar=!1;function Wi(m){if(!se("6.2")){console.warn("[Telegram.WebApp] Closing confirmation is not supported in version "+u);return}ar=!!m,e.postEvent("web_app_setup_closing_behavior",!1,{need_confirmation:ar})}var $=!0;function Y(m){if(!se("7.7")){console.warn("[Telegram.WebApp] Changing swipes behavior is not supported in version "+u);return}$=!!m,e.postEvent("web_app_setup_swipe_behavior",!1,{allow_vertical_swipe:$})}var q="bg_color",ce=null;function Ne(){return q=="secondary_bg_color"?l.secondary_bg_color:q=="bg_color"?l.bg_color:ce}function Fr(m){if(!se("6.1")){console.warn("[Telegram.WebApp] Header color is not supported in version "+u);return}se("6.9")||(l.bg_color&&l.bg_color==m?m="bg_color":l.secondary_bg_color&&l.secondary_bg_color==m&&(m="secondary_bg_color"));var g=null,w=null;if(m=="bg_color"||m=="secondary_bg_color")w=m;else if(se("6.9")&&(g=Br(m),!g))throw console.error("[Telegram.WebApp] Header color format is invalid",m),Error("WebAppHeaderColorInvalid");if(!se("6.9")&&w!="bg_color"&&w!="secondary_bg_color")throw console.error("[Telegram.WebApp] Header color key should be one of Telegram.WebApp.themeParams.bg_color, Telegram.WebApp.themeParams.secondary_bg_color, 'bg_color', 'secondary_bg_color'",m),Error("WebAppHeaderColorKeyInvalid");q=w,ce=g,Ut()}var Xt=null,ur=null;function Ut(){(Xt!=q||ur!=ce)&&(Xt=q,ur=ce,ur?e.postEvent("web_app_set_header_color",!1,{color:ce}):e.postEvent("web_app_set_header_color",!1,{color_key:q}))}var un="bg_color";function Td(){return un=="secondary_bg_color"?l.secondary_bg_color:un=="bg_color"?l.bg_color:un}function Y1(m){if(!se("6.1")){console.warn("[Telegram.WebApp] Background color is not supported in version "+u);return}var g;if(m=="bg_color"||m=="secondary_bg_color")g=m;else if(g=Br(m),!g)throw console.error("[Telegram.WebApp] Background color format is invalid",m),Error("WebAppBackgroundColorInvalid");un=g,lu()}var _d=null;function lu(){var m=Td();_d!=m&&(_d=m,e.postEvent("web_app_set_background_color",!1,{color:m}))}var Hi="bottom_bar_bg_color";function qi(){return Hi=="bottom_bar_bg_color"?l.bottom_bar_bg_color||l.secondary_bg_color||"#ffffff":Hi=="secondary_bg_color"?l.secondary_bg_color:Hi=="bg_color"?l.bg_color:Hi}function J1(m){if(!se("7.10")){console.warn("[Telegram.WebApp] Bottom bar color is not supported in version "+u);return}var g;if(m=="bg_color"||m=="secondary_bg_color"||m=="bottom_bar_bg_color")g=m;else if(g=Br(m),!g)throw console.error("[Telegram.WebApp] Bottom bar color format is invalid",m),Error("WebAppBottomBarColorInvalid");Hi=g,au(),window.Telegram.WebApp.SecondaryButton.setParams({})}var Ad=null;function au(){var m=qi();Ad!=m&&(Ad=m,e.postEvent("web_app_set_bottom_bar_color",!1,{color:m})),n.tgWebAppDebug&&Pd()}function Br(m){m+="";var g;if(g=/^\s*#([0-9a-f]{6})\s*$/i.exec(m))return"#"+g[1].toLowerCase();if(g=/^\s*#([0-9a-f])([0-9a-f])([0-9a-f])\s*$/i.exec(m))return("#"+g[1]+g[1]+g[2]+g[2]+g[3]+g[3]).toLowerCase();if(g=/^\s*rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+\.{0,1}\d*))?\)\s*$/.exec(m)){var w=parseInt(g[1]),_=parseInt(g[2]),N=parseInt(g[3]);return w=(w<16?"0":"")+w.toString(16),_=(_<16?"0":"")+_.toString(16),N=(N<16?"0":"")+N.toString(16),"#"+w+_+N}return!1}function Z1(m){m=m.replace(/[\s#]/g,""),m.length==3&&(m=m[0]+m[0]+m[1]+m[1]+m[2]+m[2]);var g=parseInt(m.substr(0,2),16),w=parseInt(m.substr(2,2),16),_=parseInt(m.substr(4,2),16),N=Math.sqrt(.299*(g*g)+.587*(w*w)+.114*(_*_));return N<120}function ew(m,g){typeof m!="string"&&(m=""),typeof g!="string"&&(g=""),m=m.replace(/^\s+|\s+$/g,"").split("."),g=g.replace(/^\s+|\s+$/g,"").split(".");var w=Math.max(m.length,g.length),_,N,G;for(_=0;_<w;_++)if(N=parseInt(m[_])||0,G=parseInt(g[_])||0,N!=G)return N>G?1:-1;return 0}function se(m){return ew(u,m)>=0}function tw(m){if(window.Blob)try{return new Blob([m]).size}catch{}for(var g=m.length,w=m.length-1;w>=0;w--){var _=m.charCodeAt(w);_>127&&_<=2047?g++:_>2047&&_<=65535&&(g+=2),_>=56320&&_<=57343&&w--}return g}var nw=function(){var m=!1,g={};Object.defineProperty(g,"isVisible",{set:function(V){fe({is_visible:V})},get:function(){return m},enumerable:!0});var w=null;e.onEvent("back_button_pressed",_);function _(){T("backButtonClicked")}function N(){return{is_visible:m}}function G(V){return typeof V>"u"&&(V=N()),JSON.stringify(V)}function he(){return se("6.1")?!0:(console.warn("[Telegram.WebApp] BackButton is not supported in version "+u),!1)}function H(){var V=N(),de=G(V);w!==de&&(w=de,e.postEvent("web_app_setup_back_button",!1,V))}function fe(V){return he()&&(typeof V.is_visible<"u"&&(m=!!V.is_visible),H()),g}return g.onClick=function(V){return he()&&P("backButtonClicked",V),g},g.offClick=function(V){return he()&&b("backButtonClicked",V),g},g.show=function(){return fe({is_visible:!0})},g.hide=function(){return fe({is_visible:!1})},g}(),xt=null,uu={},Et=0;if(n.tgWebAppDebug){xt=document.createElement("tg-bottom-bar");var Id={display:"flex",gap:"7px",font:"600 14px/18px sans-serif",width:"100%",background:qi(),position:"fixed",left:"0",right:"0",bottom:"0",margin:"0",padding:"7px",textAlign:"center",boxSizing:"border-box",zIndex:"10000"};for(var xd in Id)xt.style[xd]=Id[xd];document.addEventListener("DOMContentLoaded",function m(g){document.removeEventListener("DOMContentLoaded",m),document.body.appendChild(xt)});var Nd=document.createElement("style");Nd.innerHTML='tg-bottom-button.shine { position: relative; overflow: hidden; } tg-bottom-button.shine:before { content:""; position: absolute; top: 0; width: 100%; height: 100%; background: linear-gradient(120deg, transparent, rgba(255, 255, 255, .2), transparent); animation: tg-bottom-button-shine 5s ease-in-out infinite; } @-webkit-keyframes tg-bottom-button-shine { 0% {left: -100%;} 12%,100% {left: 100%}} @keyframes tg-bottom-button-shine { 0% {left: -100%;} 12%,100% {left: 100%}}',xt.appendChild(Nd)}function Pd(){var m=uu.main._bottomButton,g=uu.secondary._bottomButton;m.isVisible||g.isVisible?(xt.style.display="flex",Et=58,m.isVisible&&g.isVisible&&(g.position=="top"?(xt.style.flexDirection="column-reverse",Et+=51):g.position=="bottom"?(xt.style.flexDirection="column",Et+=51):g.position=="left"?xt.style.flexDirection="row-reverse":g.position=="right"&&(xt.style.flexDirection="row"))):(xt.style.display="none",Et=0),xt.style.background=qi(),document.documentElement&&(document.documentElement.style.boxSizing="border-box",document.documentElement.style.paddingBottom=Et+"px"),zi()}var Dd=function(m){var g=m=="main";if(g)var w="web_app_setup_main_button",_="main_button_pressed",N="mainButtonClicked",G="Continue",he=function(){return l.button_color||"#2481cc"},H=function(){return l.button_text_color||"#ffffff"};else var w="web_app_setup_secondary_button",_="secondary_button_pressed",N="secondaryButtonClicked",G="Cancel",he=function(){return qi()},H=function(){return l.button_color||"#2481cc"};var fe=!1,V=!0,de=!1,We=!1,hu=m,Yi=G,Ji=!1,cn=!1,xn="left",B={};Object.defineProperty(B,"type",{get:function(){return hu},enumerable:!0}),Object.defineProperty(B,"text",{set:function(O){B.setParams({text:O})},get:function(){return Yi},enumerable:!0}),Object.defineProperty(B,"color",{set:function(O){B.setParams({color:O})},get:function(){return Ji||he()},enumerable:!0}),Object.defineProperty(B,"textColor",{set:function(O){B.setParams({text_color:O})},get:function(){return cn||H()},enumerable:!0}),Object.defineProperty(B,"isVisible",{set:function(O){B.setParams({is_visible:O})},get:function(){return fe},enumerable:!0}),Object.defineProperty(B,"isProgressVisible",{get:function(){return We},enumerable:!0}),Object.defineProperty(B,"isActive",{set:function(O){B.setParams({is_active:O})},get:function(){return V},enumerable:!0}),Object.defineProperty(B,"hasShineEffect",{set:function(O){B.setParams({has_shine_effect:O})},get:function(){return de},enumerable:!0}),g||Object.defineProperty(B,"position",{set:function(O){B.setParams({position:O})},get:function(){return xn},enumerable:!0});var Ie=null;e.onEvent(_,bd);var te=null;if(n.tgWebAppDebug){te=document.createElement("tg-bottom-button");var Pe={display:"none",width:"100%",height:"44px",borderRadius:"0",background:"no-repeat right center",padding:"13px 15px",textAlign:"center",boxSizing:"border-box"};for(var Nn in Pe)te.style[Nn]=Pe[Nn];xt.appendChild(te),te.addEventListener("click",bd,!1),te._bottomButton=B,uu[m]=te}function bd(){V&&T(N)}function Od(){var O=B.color,hn=B.textColor;if(fe){var Ur={is_visible:!0,is_active:V,is_progress_visible:We,text:Yi,color:O,text_color:hn,has_shine_effect:de&&V&&!We};g||(Ur.position=xn)}else var Ur={is_visible:!1};return Ur}function vw(O){return typeof O>"u"&&(O=Od()),JSON.stringify(O)}function fu(){var O=Od(),hn=vw(O);Ie!==hn&&(Ie=hn,e.postEvent(w,!1,O),n.tgWebAppDebug&&yw(O))}function yw(O){O.is_visible?(te.style.display="block",te.style.opacity=O.is_active?"1":"0.8",te.style.cursor=O.is_active?"pointer":"auto",te.disabled=!O.is_active,te.innerText=O.text,te.className=O.has_shine_effect?"shine":"",te.style.backgroundImage=O.is_progress_visible?"url('data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewport="0 0 48 48" width="48px" height="48px"><circle cx="50%" cy="50%" stroke="'+O.text_color+'" stroke-width="2.25" stroke-linecap="round" fill="none" stroke-dashoffset="106" r="9" stroke-dasharray="56.52" rotate="-90"><animate attributeName="stroke-dashoffset" attributeType="XML" dur="360s" from="0" to="12500" repeatCount="indefinite"></animate><animateTransform attributeName="transform" attributeType="XML" type="rotate" dur="1s" from="-90 24 24" to="630 24 24" repeatCount="indefinite"></animateTransform></circle></svg>')+"')":"none",te.style.backgroundColor=O.color,te.style.color=O.text_color):te.style.display="none",Pd()}function ww(O){if(typeof O.text<"u"){var hn=E(O.text);if(!hn.length)throw console.error("[Telegram.WebApp] Bottom button text is required",O.text),Error("WebAppBottomButtonParamInvalid");if(hn.length>64)throw console.error("[Telegram.WebApp] Bottom button text is too long",hn),Error("WebAppBottomButtonParamInvalid");Yi=hn}if(typeof O.color<"u")if(O.color===!1||O.color===null)Ji=!1;else{var Ur=Br(O.color);if(!Ur)throw console.error("[Telegram.WebApp] Bottom button color format is invalid",O.color),Error("WebAppBottomButtonParamInvalid");Ji=Ur}if(typeof O.text_color<"u")if(O.text_color===!1||O.text_color===null)cn=!1;else{var $d=Br(O.text_color);if(!$d)throw console.error("[Telegram.WebApp] Bottom button text color format is invalid",O.text_color),Error("WebAppBottomButtonParamInvalid");cn=$d}if(typeof O.is_visible<"u"){if(O.is_visible&&!B.text.length)throw console.error("[Telegram.WebApp] Bottom button text is required"),Error("WebAppBottomButtonParamInvalid");fe=!!O.is_visible}if(typeof O.has_shine_effect<"u"&&(de=!!O.has_shine_effect),!g&&typeof O.position<"u"){if(O.position!="left"&&O.position!="right"&&O.position!="top"&&O.position!="bottom")throw console.error("[Telegram.WebApp] Bottom button posiition is invalid",O.position),Error("WebAppBottomButtonParamInvalid");xn=O.position}return typeof O.is_active<"u"&&(V=!!O.is_active),fu(),B}return B.setText=function(O){return B.setParams({text:O})},B.onClick=function(O){return P(N,O),B},B.offClick=function(O){return b(N,O),B},B.show=function(){return B.setParams({is_visible:!0})},B.hide=function(){return B.setParams({is_visible:!1})},B.enable=function(){return B.setParams({is_active:!0})},B.disable=function(){return B.setParams({is_active:!1})},B.showProgress=function(O){return V=!!O,We=!0,fu(),B},B.hideProgress=function(){return B.isActive||(V=!0),We=!1,fu(),B},B.setParams=ww,B},rw=Dd("main"),iw=Dd("secondary"),Rd=function(){var m=!1,g={};Object.defineProperty(g,"isVisible",{set:function(V){fe({is_visible:V})},get:function(){return m},enumerable:!0});var w=null;e.onEvent("settings_button_pressed",_);function _(){T("settingsButtonClicked")}function N(){return{is_visible:m}}function G(V){return typeof V>"u"&&(V=N()),JSON.stringify(V)}function he(){return se("6.10")?!0:(console.warn("[Telegram.WebApp] SettingsButton is not supported in version "+u),!1)}function H(){var V=N(),de=G(V);w!==de&&(w=de,e.postEvent("web_app_setup_settings_button",!1,V))}function fe(V){return he()&&(typeof V.is_visible<"u"&&(m=!!V.is_visible),H()),g}return g.onClick=function(V){return he()&&P("settingsButtonClicked",V),g},g.offClick=function(V){return he()&&b("settingsButtonClicked",V),g},g.show=function(){return fe({is_visible:!0})},g.hide=function(){return fe({is_visible:!1})},g}(),ow=function(){var m={};function g(w){if(!se("6.1"))return console.warn("[Telegram.WebApp] HapticFeedback is not supported in version "+u),m;if(w.type=="impact"){if(w.impact_style!="light"&&w.impact_style!="medium"&&w.impact_style!="heavy"&&w.impact_style!="rigid"&&w.impact_style!="soft")throw console.error("[Telegram.WebApp] Haptic impact style is invalid",w.impact_style),Error("WebAppHapticImpactStyleInvalid")}else if(w.type=="notification"){if(w.notification_type!="error"&&w.notification_type!="success"&&w.notification_type!="warning")throw console.error("[Telegram.WebApp] Haptic notification type is invalid",w.notification_type),Error("WebAppHapticNotificationTypeInvalid")}else if(w.type!="selection_change")throw console.error("[Telegram.WebApp] Haptic feedback type is invalid",w.type),Error("WebAppHapticFeedbackTypeInvalid");return e.postEvent("web_app_trigger_haptic_feedback",!1,w),m}return m.impactOccurred=function(w){return g({type:"impact",impact_style:w})},m.notificationOccurred=function(w){return g({type:"notification",notification_type:w})},m.selectionChanged=function(){return g({type:"selection_change"})},m}(),sw=function(){var m={};function g(w,_,N){if(!se("6.9"))throw console.error("[Telegram.WebApp] CloudStorage is not supported in version "+u),Error("WebAppMethodUnsupported");return cu(w,_,N),m}return m.setItem=function(w,_,N){return g("saveStorageValue",{key:w,value:_},N)},m.getItem=function(w,_){return m.getItems([w],_?function(N,G){N?_(N):_(null,G[w])}:null)},m.getItems=function(w,_){return g("getStorageValues",{keys:w},_)},m.removeItem=function(w,_){return m.removeItems([w],_)},m.removeItems=function(w,_){return g("deleteStorageValues",{keys:w},_)},m.getKeys=function(w){return g("getStorageKeys",{},w)},m}(),lw=function(){var m=!1,g=!1,w="unknown",_=!1,N=!1,G=!1,he="",H={};Object.defineProperty(H,"isInited",{get:function(){return m},enumerable:!0}),Object.defineProperty(H,"isBiometricAvailable",{get:function(){return m&&g},enumerable:!0}),Object.defineProperty(H,"biometricType",{get:function(){return w||"unknown"},enumerable:!0}),Object.defineProperty(H,"isAccessRequested",{get:function(){return _},enumerable:!0}),Object.defineProperty(H,"isAccessGranted",{get:function(){return _&&N},enumerable:!0}),Object.defineProperty(H,"isBiometricTokenSaved",{get:function(){return G},enumerable:!0}),Object.defineProperty(H,"deviceId",{get:function(){return he||""},enumerable:!0});var fe={callbacks:[]},V=!1,de=!1,We=!1;e.onEvent("biometry_info_received",hu),e.onEvent("biometry_auth_requested",Yi),e.onEvent("biometry_token_updated",Ji);function hu(B,Ie){if(m=!0,Ie.available?(g=!0,w=Ie.type||"unknown",Ie.access_requested?(_=!0,N=!!Ie.access_granted,G=!!Ie.token_saved):(_=!1,N=!1,G=!1)):(g=!1,w="unknown",_=!1,N=!1,G=!1),he=Ie.device_id||"",fe.callbacks.length>0)for(var te=0;te<fe.callbacks.length;te++){var Pe=fe.callbacks[te];Pe()}if(V){var Nn=V;V=!1,Nn.callback&&Nn.callback(N)}T("biometricManagerUpdated")}function Yi(B,Ie){var te=Ie.status=="authorized",Pe=Ie.token||"";if(de){var Nn=de;de=!1,Nn.callback&&Nn.callback(te,te?Pe:null)}T("biometricAuthRequested",te?{isAuthenticated:!0,biometricToken:Pe}:{isAuthenticated:!1})}function Ji(B,Ie){var te=!1;if(g&&_&&(Ie.status=="updated"?(G=!0,te=!0):Ie.status=="removed"&&(G=!1,te=!0)),We){var Pe=We;We=!1,Pe.callback&&Pe.callback(te)}T("biometricTokenUpdated",{isUpdated:te})}function cn(){return se("7.2")?!0:(console.warn("[Telegram.WebApp] BiometricManager is not supported in version "+u),!1)}function xn(){if(!m)throw console.error("[Telegram.WebApp] BiometricManager should be inited before using."),Error("WebAppBiometricManagerNotInited");return!0}return H.init=function(B){return!cn()||m||(B&&fe.callbacks.push(B),e.postEvent("web_app_biometry_get_info",!1)),H},H.requestAccess=function(B,Ie){if(!cn())return H;if(xn(),!g)throw console.error("[Telegram.WebApp] Biometrics is not available on this device."),Error("WebAppBiometricManagerBiometricsNotAvailable");if(V)throw console.error("[Telegram.WebApp] Access is already requested"),Error("WebAppBiometricManagerAccessRequested");var te={};if(typeof B.reason<"u"){var Pe=E(B.reason);if(Pe.length>128)throw console.error("[Telegram.WebApp] Biometric reason is too long",Pe),Error("WebAppBiometricRequestAccessParamInvalid");Pe.length>0&&(te.reason=Pe)}return V={callback:Ie},e.postEvent("web_app_biometry_request_access",!1,te),H},H.authenticate=function(B,Ie){if(!cn())return H;if(xn(),!g)throw console.error("[Telegram.WebApp] Biometrics is not available on this device."),Error("WebAppBiometricManagerBiometricsNotAvailable");if(!N)throw console.error("[Telegram.WebApp] Biometric access was not granted by the user."),Error("WebAppBiometricManagerBiometricAccessNotGranted");if(de)throw console.error("[Telegram.WebApp] Authentication request is already in progress."),Error("WebAppBiometricManagerAuthenticationRequested");var te={};if(typeof B.reason<"u"){var Pe=E(B.reason);if(Pe.length>128)throw console.error("[Telegram.WebApp] Biometric reason is too long",Pe),Error("WebAppBiometricRequestAccessParamInvalid");Pe.length>0&&(te.reason=Pe)}return de={callback:Ie},e.postEvent("web_app_biometry_request_auth",!1,te),H},H.updateBiometricToken=function(B,Ie){if(!cn())return H;if(B=B||"",B.length>1024)throw console.error("[Telegram.WebApp] Token is too long",B),Error("WebAppBiometricManagerTokenInvalid");if(xn(),!g)throw console.error("[Telegram.WebApp] Biometrics is not available on this device."),Error("WebAppBiometricManagerBiometricsNotAvailable");if(!N)throw console.error("[Telegram.WebApp] Biometric access was not granted by the user."),Error("WebAppBiometricManagerBiometricAccessNotGranted");if(We)throw console.error("[Telegram.WebApp] Token request is already in progress."),Error("WebAppBiometricManagerTokenUpdateRequested");return We={callback:Ie},e.postEvent("web_app_biometry_update_token",!1,{token:B}),H},H.openSettings=function(){if(!cn())return H;if(xn(),!g)throw console.error("[Telegram.WebApp] Biometrics is not available on this device."),Error("WebAppBiometricManagerBiometricsNotAvailable");if(!_)throw console.error("[Telegram.WebApp] Biometric access was not requested yet."),Error("WebAppBiometricManagerBiometricsAccessNotRequested");return N?(console.warn("[Telegram.WebApp] Biometric access was granted by the user, no need to go to settings."),H):(e.postEvent("web_app_biometry_open_settings",!1),H)},H}(),Ki={};function aw(m,g){if(g.slug&&Ki[g.slug]){var w=Ki[g.slug];delete Ki[g.slug],w.callback&&w.callback(g.status),T("invoiceClosed",{url:w.url,status:g.status})}}var Qi=!1;function uw(m,g){if(Qi){var w=Qi;Qi=!1;var _=null;typeof g.button_id<"u"&&(_=g.button_id),w.callback&&w.callback(_),T("popupClosed",{button_id:_})}}var cr=!1;function cw(m,g){if(cr){var w=cr,_=null;typeof g.data<"u"&&(_=g.data),w.callback&&w.callback(_)&&(cr=!1,e.postEvent("web_app_close_scan_qr_popup",!1)),T("qrTextReceived",{data:_})}}function hw(m,g){cr=!1,T("scanQrPopupClosed")}function fw(m,g){if(g.req_id&&W[g.req_id]){var w=W[g.req_id];delete W[g.req_id];var _=null;typeof g.data<"u"&&(_=g.data),w.callback&&w.callback(_),T("clipboardTextReceived",{data:_})}}var Gi=!1;function dw(m,g){if(Gi){var w=Gi;Gi=!1,w.callback&&w.callback(g.status=="allowed"),T("writeAccessRequested",{status:g.status})}}function pw(m,g){var w,_,N=0,G=function(){cu("getRequestedContact",{},function(H,fe){fe&&fe.length?(clearTimeout(_),m(fe)):(N+=50,w=setTimeout(G,N))})},he=function(){clearTimeout(w),m("")};_=setTimeout(he,g),G()}var Xi=!1;function mw(m,g){if(Xi){var w=Xi;Xi=!1;var _=g.status=="sent",N={status:g.status};_?pw(function(G){if(G&&G.length){N.response=G,N.responseUnsafe=t.urlParseQueryString(G);for(var he in N.responseUnsafe){var H=N.responseUnsafe[he];try{(H.substr(0,1)=="{"&&H.substr(-1)=="}"||H.substr(0,1)=="["&&H.substr(-1)=="]")&&(N.responseUnsafe[he]=JSON.parse(H))}catch{}}}w.callback&&w.callback(_,N),T("contactRequested",N)},3e3):(w.callback&&w.callback(_,N),T("contactRequested",N))}}function gw(m,g){if(g.req_id&&W[g.req_id]){var w=W[g.req_id];delete W[g.req_id];var _=null,N=null;typeof g.result<"u"&&(_=g.result),typeof g.error<"u"&&(N=g.error),w.callback&&w.callback(N,_)}}function cu(m,g,w){if(!se("6.9"))throw console.error("[Telegram.WebApp] Method invokeCustomMethod is not supported in version "+u),Error("WebAppMethodUnsupported");var _=pt(16),N={req_id:_,method:m,params:g||{}};W[_]={callback:w},e.postEvent("web_app_invoke_custom_method",!1,N)}window.Telegram||(window.Telegram={}),Object.defineProperty(i,"initData",{get:function(){return o},enumerable:!0}),Object.defineProperty(i,"initDataUnsafe",{get:function(){return s},enumerable:!0}),Object.defineProperty(i,"version",{get:function(){return u},enumerable:!0}),Object.defineProperty(i,"platform",{get:function(){return c},enumerable:!0}),Object.defineProperty(i,"colorScheme",{get:function(){return a},enumerable:!0}),Object.defineProperty(i,"themeParams",{get:function(){return l},enumerable:!0}),Object.defineProperty(i,"isExpanded",{get:function(){return Vi},enumerable:!0}),Object.defineProperty(i,"viewportHeight",{get:function(){return(Ft===!1?window.innerHeight:Ft)-Et},enumerable:!0}),Object.defineProperty(i,"viewportStableHeight",{get:function(){return(Bt===!1?window.innerHeight:Bt)-Et},enumerable:!0}),Object.defineProperty(i,"isClosingConfirmationEnabled",{set:function(m){Wi(m)},get:function(){return ar},enumerable:!0}),Object.defineProperty(i,"isVerticalSwipesEnabled",{set:function(m){Y(m)},get:function(){return $},enumerable:!0}),Object.defineProperty(i,"headerColor",{set:function(m){Fr(m)},get:function(){return Ne()},enumerable:!0}),Object.defineProperty(i,"backgroundColor",{set:function(m){Y1(m)},get:function(){return Td()},enumerable:!0}),Object.defineProperty(i,"bottomBarColor",{set:function(m){J1(m)},get:function(){return qi()},enumerable:!0}),Object.defineProperty(i,"BackButton",{value:nw,enumerable:!0}),Object.defineProperty(i,"MainButton",{value:rw,enumerable:!0}),Object.defineProperty(i,"SecondaryButton",{value:iw,enumerable:!0}),Object.defineProperty(i,"SettingsButton",{value:Rd,enumerable:!0}),Object.defineProperty(i,"HapticFeedback",{value:ow,enumerable:!0}),Object.defineProperty(i,"CloudStorage",{value:sw,enumerable:!0}),Object.defineProperty(i,"BiometricManager",{value:lw,enumerable:!0}),i.setHeaderColor=function(m){i.headerColor=m},i.setBackgroundColor=function(m){i.backgroundColor=m},i.setBottomBarColor=function(m){i.bottomBarColor=m},i.enableClosingConfirmation=function(){i.isClosingConfirmationEnabled=!0},i.disableClosingConfirmation=function(){i.isClosingConfirmationEnabled=!1},i.enableVerticalSwipes=function(){i.isVerticalSwipesEnabled=!0},i.disableVerticalSwipes=function(){i.isVerticalSwipesEnabled=!1},i.isVersionAtLeast=function(m){return se(m)},i.onEvent=function(m,g){P(m,g)},i.offEvent=function(m,g){b(m,g)},i.sendData=function(m){if(!m||!m.length)throw console.error("[Telegram.WebApp] Data is required",m),Error("WebAppDataInvalid");if(tw(m)>4096)throw console.error("[Telegram.WebApp] Data is too long",m),Error("WebAppDataInvalid");e.postEvent("web_app_data_send",!1,{data:m})},i.switchInlineQuery=function(m,g){if(!se("6.6"))throw console.error("[Telegram.WebApp] Method switchInlineQuery is not supported in version "+u),Error("WebAppMethodUnsupported");if(!n.tgWebAppBotInline)throw console.error("[Telegram.WebApp] Inline mode is disabled for this bot. Read more about inline mode: https://core.telegram.org/bots/inline"),Error("WebAppInlineModeDisabled");if(m=m||"",m.length>256)throw console.error("[Telegram.WebApp] Inline query is too long",m),Error("WebAppInlineQueryInvalid");var w=[];if(g){if(!Array.isArray(g))throw console.error("[Telegram.WebApp] Choose chat types should be an array",g),Error("WebAppInlineChooseChatTypesInvalid");for(var _={users:1,bots:1,groups:1,channels:1},N=0;N<g.length;N++){var G=g[N];if(!_[G])throw console.error("[Telegram.WebApp] Choose chat type is invalid",G),Error("WebAppInlineChooseChatTypeInvalid");_[G]!=2&&(_[G]=2,w.push(G))}}e.postEvent("web_app_switch_inline_query",!1,{query:m,chat_types:w})},i.openLink=function(_,g){var w=document.createElement("A");if(w.href=_,w.protocol!="http:"&&w.protocol!="https:")throw console.error("[Telegram.WebApp] Url protocol is not supported",_),Error("WebAppTgUrlInvalid");var _=w.href;if(g=g||{},se("6.1")){var N={url:_};se("6.4")&&g.try_instant_view&&(N.try_instant_view=!0),se("7.6")&&g.try_browser&&(N.try_browser=g.try_browser),e.postEvent("web_app_open_link",!1,N)}else window.open(_,"_blank")},i.openTelegramLink=function(m){var g=document.createElement("A");if(g.href=m,g.protocol!="http:"&&g.protocol!="https:")throw console.error("[Telegram.WebApp] Url protocol is not supported",m),Error("WebAppTgUrlInvalid");if(g.hostname!="t.me")throw console.error("[Telegram.WebApp] Url host is not supported",m),Error("WebAppTgUrlInvalid");var w=g.pathname+g.search;r||se("6.1")?e.postEvent("web_app_open_tg_link",!1,{path_full:w}):location.href="https://t.me"+w},i.openInvoice=function(m,g){var w=document.createElement("A"),_,N;if(w.href=m,w.protocol!="http:"&&w.protocol!="https:"||w.hostname!="t.me"||!(_=w.pathname.match(/^\/(\$|invoice\/)([A-Za-z0-9\-_=]+)$/))||!(N=_[2]))throw console.error("[Telegram.WebApp] Invoice url is invalid",m),Error("WebAppInvoiceUrlInvalid");if(!se("6.1"))throw console.error("[Telegram.WebApp] Method openInvoice is not supported in version "+u),Error("WebAppMethodUnsupported");if(Ki[N])throw console.error("[Telegram.WebApp] Invoice is already opened"),Error("WebAppInvoiceOpened");Ki[N]={url:m,callback:g},e.postEvent("web_app_open_invoice",!1,{slug:N})},i.showPopup=function(m,g){if(!se("6.2"))throw console.error("[Telegram.WebApp] Method showPopup is not supported in version "+u),Error("WebAppMethodUnsupported");if(Qi)throw console.error("[Telegram.WebApp] Popup is already opened"),Error("WebAppPopupOpened");var w="",_="",N=[],G={};if(typeof m.title<"u"){if(w=E(m.title),w.length>64)throw console.error("[Telegram.WebApp] Popup title is too long",w),Error("WebAppPopupParamInvalid");w.length>0&&(G.title=w)}if(typeof m.message<"u"&&(_=E(m.message)),!_.length)throw console.error("[Telegram.WebApp] Popup message is required",m.message),Error("WebAppPopupParamInvalid");if(_.length>256)throw console.error("[Telegram.WebApp] Popup message is too long",_),Error("WebAppPopupParamInvalid");if(G.message=_,typeof m.buttons<"u"){if(!Array.isArray(m.buttons))throw console.error("[Telegram.WebApp] Popup buttons should be an array",m.buttons),Error("WebAppPopupParamInvalid");for(var he=0;he<m.buttons.length;he++){var H=m.buttons[he],fe={},V="";if(typeof H.id<"u"&&(V=H.id.toString(),V.length>64))throw console.error("[Telegram.WebApp] Popup button id is too long",V),Error("WebAppPopupParamInvalid");fe.id=V;var de=H.type;if(typeof de>"u"&&(de="default"),fe.type=de,!(de=="ok"||de=="close"||de=="cancel"))if(de=="default"||de=="destructive"){var We="";if(typeof H.text<"u"&&(We=E(H.text)),!We.length)throw console.error("[Telegram.WebApp] Popup button text is required for type "+de,H.text),Error("WebAppPopupParamInvalid");if(We.length>64)throw console.error("[Telegram.WebApp] Popup button text is too long",We),Error("WebAppPopupParamInvalid");fe.text=We}else throw console.error("[Telegram.WebApp] Popup button type is invalid",de),Error("WebAppPopupParamInvalid");N.push(fe)}}else N.push({id:"",type:"close"});if(N.length<1)throw console.error("[Telegram.WebApp] Popup should have at least one button"),Error("WebAppPopupParamInvalid");if(N.length>3)throw console.error("[Telegram.WebApp] Popup should not have more than 3 buttons"),Error("WebAppPopupParamInvalid");G.buttons=N,Qi={callback:g},e.postEvent("web_app_open_popup",!1,G)},i.showAlert=function(m,g){i.showPopup({message:m},g?function(){g()}:null)},i.showConfirm=function(m,g){i.showPopup({message:m,buttons:[{type:"ok",id:"ok"},{type:"cancel"}]},g?function(w){g(w=="ok")}:null)},i.showScanQrPopup=function(m,g){if(!se("6.4"))throw console.error("[Telegram.WebApp] Method showScanQrPopup is not supported in version "+u),Error("WebAppMethodUnsupported");if(cr)throw console.error("[Telegram.WebApp] Popup is already opened"),Error("WebAppScanQrPopupOpened");var w="",_={};if(typeof m.text<"u"){if(w=E(m.text),w.length>64)throw console.error("[Telegram.WebApp] Scan QR popup text is too long",w),Error("WebAppScanQrPopupParamInvalid");w.length>0&&(_.text=w)}cr={callback:g},e.postEvent("web_app_open_scan_qr_popup",!1,_)},i.closeScanQrPopup=function(){if(!se("6.4"))throw console.error("[Telegram.WebApp] Method closeScanQrPopup is not supported in version "+u),Error("WebAppMethodUnsupported");cr=!1,e.postEvent("web_app_close_scan_qr_popup",!1)},i.readTextFromClipboard=function(m){if(!se("6.4"))throw console.error("[Telegram.WebApp] Method readTextFromClipboard is not supported in version "+u),Error("WebAppMethodUnsupported");var g=pt(16),w={req_id:g};W[g]={callback:m},e.postEvent("web_app_read_text_from_clipboard",!1,w)},i.requestWriteAccess=function(m){if(!se("6.9"))throw console.error("[Telegram.WebApp] Method requestWriteAccess is not supported in version "+u),Error("WebAppMethodUnsupported");if(Gi)throw console.error("[Telegram.WebApp] Write access is already requested"),Error("WebAppWriteAccessRequested");Gi={callback:m},e.postEvent("web_app_request_write_access")},i.requestContact=function(m){if(!se("6.9"))throw console.error("[Telegram.WebApp] Method requestContact is not supported in version "+u),Error("WebAppMethodUnsupported");if(Xi)throw console.error("[Telegram.WebApp] Contact is already requested"),Error("WebAppContactRequested");Xi={callback:m},e.postEvent("web_app_request_phone")},i.shareToStory=function(m,g){if(g=g||{},!se("7.8"))throw console.error("[Telegram.WebApp] Method shareToStory is not supported in version "+u),Error("WebAppMethodUnsupported");var w=document.createElement("A");if(w.href=m,w.protocol!="http:"&&w.protocol!="https:")throw console.error("[Telegram.WebApp] Media url protocol is not supported",url),Error("WebAppMediaUrlInvalid");var _={};if(_.media_url=w.href,typeof g.text<"u"){var N=E(g.text);if(N.length>2048)throw console.error("[Telegram.WebApp] Text is too long",N),Error("WebAppShareToStoryParamInvalid");N.length>0&&(_.text=N)}if(typeof g.widget_link<"u"){if(g.widget_link=g.widget_link||{},w.href=g.widget_link.url,w.protocol!="http:"&&w.protocol!="https:")throw console.error("[Telegram.WebApp] Link protocol is not supported",url),Error("WebAppShareToStoryParamInvalid");var G={url:w.href};if(typeof g.widget_link.name<"u"){var he=E(g.widget_link.name);if(he.length>48)throw console.error("[Telegram.WebApp] Link name is too long",he),Error("WebAppShareToStoryParamInvalid");he.length>0&&(G.name=he)}_.widget_link=G}e.postEvent("web_app_share_to_story",!1,_)},i.invokeCustomMethod=function(m,g,w){cu(m,g,w)},i.ready=function(){e.postEvent("web_app_ready")},i.expand=function(){e.postEvent("web_app_expand")},i.close=function(m){m=m||{};var g={};se("7.6")&&m.return_back&&(g.return_back=!0),e.postEvent("web_app_close",!1,g)},window.Telegram.WebApp=i,Ut(),lu(),au(),zi(),n.tgWebAppShowSettings&&Rd.show(),window.addEventListener("resize",f),r&&document.addEventListener("click",p),e.onEvent("theme_changed",C),e.onEvent("viewport_changed",v),e.onEvent("invoice_closed",aw),e.onEvent("popup_closed",uw),e.onEvent("qr_text_received",cw),e.onEvent("scan_qr_popup_closed",hw),e.onEvent("clipboard_text_received",fw),e.onEvent("write_access_requested",dw),e.onEvent("phone_requested",mw),e.onEvent("custom_method_invoked",gw),e.postEvent("web_app_request_theme"),e.postEvent("web_app_request_viewport")})();Object.defineProperty(Oa,"__esModule",{value:!0});Oa.WebApp=void 0;var XC=window;Oa.WebApp=XC.Telegram.WebApp;Object.defineProperty(Ay,"__esModule",{value:!0});var YC=Oa,ci=Ay.default=YC.WebApp;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},JC=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],l=t[n++],a=((i&7)<<18|(o&63)<<12|(s&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},xy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,l=s?t[i+1]:0,a=i+2<t.length,u=a?t[i+2]:0,c=o>>2,h=(o&3)<<4|l>>4;let d=(l&15)<<2|u>>6,y=u&63;a||(y=64,s||(d=64)),r.push(n[c],n[h],n[d],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Iy(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):JC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||l==null||u==null||h==null)throw new ZC;const d=o<<2|l>>4;if(r.push(d),u!==64){const y=l<<4&240|u>>2;if(r.push(y),h!==64){const S=u<<6&192|h;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ZC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ek=function(t){const e=Iy(t);return xy.encodeByteArray(e,!0)},Zl=function(t){return ek(t).replace(/\./g,"")},tk=function(t){try{return xy.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk=()=>nk().__FIREBASE_DEFAULTS__,ik=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ok=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&tk(t[1]);return e&&JSON.parse(e)},Ny=()=>{try{return rk()||ik()||ok()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sk=t=>{var e,n;return(n=(e=Ny())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},lk=t=>{const e=sk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Py=()=>{var t;return(t=Ny())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[Zl(JSON.stringify(n)),Zl(JSON.stringify(s)),l].join(".")}function ck(){try{return typeof indexedDB=="object"}catch{return!1}}function hk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk="FirebaseError";class $i extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=fk,Object.setPrototypeOf(this,$i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dy.prototype.create)}}class Dy{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?dk(o,r):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new $i(i,l,r)}}function dk(t,e){return t.replace(pk,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const pk=/\{\$([^}]+)}/g;function Jc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(em(o)&&em(s)){if(!Jc(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function em(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ea(t){return t&&t._delegate?t._delegate:t}class Zo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ak;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vk(e))try{this.getOrInitializeService({instanceIdentifier:dr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=dr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=dr){return this.instances.has(e)}getOptions(e=dr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:gk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=dr){return this.component?this.component.multipleInstances?e:dr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gk(t){return t===dr?void 0:t}function vk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new mk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(oe||(oe={}));const wk={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},Ek=oe.INFO,Sk={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},Ck=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Sk[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ry{constructor(e){this.name=e,this._logLevel=Ek,this._logHandler=Ck,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...e),this._logHandler(this,oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...e),this._logHandler(this,oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...e),this._logHandler(this,oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...e),this._logHandler(this,oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...e),this._logHandler(this,oe.ERROR,...e)}}const kk=(t,e)=>e.some(n=>t instanceof n);let tm,nm;function Tk(){return tm||(tm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _k(){return nm||(nm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const by=new WeakMap,Zc=new WeakMap,Oy=new WeakMap,Uu=new WeakMap,_f=new WeakMap;function Ak(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Qn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&by.set(n,t)}).catch(()=>{}),_f.set(e,t),e}function Ik(t){if(Zc.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Zc.set(t,e)}let eh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Zc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Oy.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xk(t){eh=t(eh)}function Nk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ju(this),e,...n);return Oy.set(r,e.sort?e.sort():[e]),Qn(r)}:_k().includes(t)?function(...e){return t.apply(ju(this),e),Qn(by.get(this))}:function(...e){return Qn(t.apply(ju(this),e))}}function Pk(t){return typeof t=="function"?Nk(t):(t instanceof IDBTransaction&&Ik(t),kk(t,Tk())?new Proxy(t,eh):t)}function Qn(t){if(t instanceof IDBRequest)return Ak(t);if(Uu.has(t))return Uu.get(t);const e=Pk(t);return e!==t&&(Uu.set(t,e),_f.set(e,t)),e}const ju=t=>_f.get(t);function Dk(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),l=Qn(s);return r&&s.addEventListener("upgradeneeded",a=>{r(Qn(s.result),a.oldVersion,a.newVersion,Qn(s.transaction),a)}),n&&s.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{o&&a.addEventListener("close",()=>o()),i&&a.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const Rk=["get","getKey","getAll","getAllKeys","count"],bk=["put","add","delete","clear"],Vu=new Map;function rm(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vu.get(e))return Vu.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=bk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Rk.includes(n)))return;const o=async function(s,...l){const a=this.transaction(s,i?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&a.done]))[0]};return Vu.set(e,o),o}xk(t=>({...t,get:(e,n,r)=>rm(e,n)||t.get(e,n,r),has:(e,n)=>!!rm(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($k(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function $k(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const th="@firebase/app",im="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr=new Ry("@firebase/app"),Lk="@firebase/app-compat",Mk="@firebase/analytics-compat",Fk="@firebase/analytics",Bk="@firebase/app-check-compat",Uk="@firebase/app-check",jk="@firebase/auth",Vk="@firebase/auth-compat",zk="@firebase/database",Wk="@firebase/database-compat",Hk="@firebase/functions",qk="@firebase/functions-compat",Kk="@firebase/installations",Qk="@firebase/installations-compat",Gk="@firebase/messaging",Xk="@firebase/messaging-compat",Yk="@firebase/performance",Jk="@firebase/performance-compat",Zk="@firebase/remote-config",eT="@firebase/remote-config-compat",tT="@firebase/storage",nT="@firebase/storage-compat",rT="@firebase/firestore",iT="@firebase/firestore-compat",oT="firebase",sT="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh="[DEFAULT]",lT={[th]:"fire-core",[Lk]:"fire-core-compat",[Fk]:"fire-analytics",[Mk]:"fire-analytics-compat",[Uk]:"fire-app-check",[Bk]:"fire-app-check-compat",[jk]:"fire-auth",[Vk]:"fire-auth-compat",[zk]:"fire-rtdb",[Wk]:"fire-rtdb-compat",[Hk]:"fire-fn",[qk]:"fire-fn-compat",[Kk]:"fire-iid",[Qk]:"fire-iid-compat",[Gk]:"fire-fcm",[Xk]:"fire-fcm-compat",[Yk]:"fire-perf",[Jk]:"fire-perf-compat",[Zk]:"fire-rc",[eT]:"fire-rc-compat",[tT]:"fire-gcs",[nT]:"fire-gcs-compat",[rT]:"fire-fst",[iT]:"fire-fst-compat","fire-js":"fire-js",[oT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta=new Map,rh=new Map;function aT(t,e){try{t.container.addComponent(e)}catch(n){xr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function na(t){const e=t.name;if(rh.has(e))return xr.debug(`There were multiple attempts to register component ${e}.`),!1;rh.set(e,t);for(const n of ta.values())aT(n,t);return!0}function uT(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Gn=new Dy("app","Firebase",cT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT=sT;function Af(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:nh,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Gn.create("bad-app-name",{appName:String(i)});if(n||(n=Py()),!n)throw Gn.create("no-options");const o=ta.get(i);if(o){if(Jc(n,o.options)&&Jc(r,o.config))return o;throw Gn.create("duplicate-app",{appName:i})}const s=new yk(i);for(const a of rh.values())s.addComponent(a);const l=new hT(n,r,s);return ta.set(i,l),l}function dT(t=nh){const e=ta.get(t);if(!e&&t===nh&&Py())return Af();if(!e)throw Gn.create("no-app",{appName:t});return e}function hi(t,e,n){var r;let i=(r=lT[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const l=[`Unable to register library "${i}" with version "${e}":`];o&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xr.warn(l.join(" "));return}na(new Zo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="firebase-heartbeat-database",mT=1,es="firebase-heartbeat-store";let zu=null;function $y(){return zu||(zu=Dk(pT,mT,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(es)}}}).catch(t=>{throw Gn.create("idb-open",{originalErrorMessage:t.message})})),zu}async function gT(t){try{return await(await $y()).transaction(es).objectStore(es).get(Ly(t))}catch(e){if(e instanceof $i)xr.warn(e.message);else{const n=Gn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xr.warn(n.message)}}}async function om(t,e){try{const r=(await $y()).transaction(es,"readwrite");await r.objectStore(es).put(e,Ly(t)),await r.done}catch(n){if(n instanceof $i)xr.warn(n.message);else{const r=Gn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});xr.warn(r.message)}}}function Ly(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT=1024,yT=30*24*60*60*1e3;class wT{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ST(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=sm();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const o=new Date(i.date).valueOf();return Date.now()-o<=yT}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=sm(),{heartbeatsToSend:n,unsentEntries:r}=ET(this._heartbeatsCache.heartbeats),i=Zl(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function sm(){return new Date().toISOString().substring(0,10)}function ET(t,e=vT){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),lm(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),lm(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ST{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ck()?hk().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await gT(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return om(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return om(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function lm(t){return Zl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(t){na(new Zo("platform-logger",e=>new Ok(e),"PRIVATE")),na(new Zo("heartbeat",e=>new wT(e),"PRIVATE")),hi(th,im,t),hi(th,im,"esm2017"),hi("fire-js","")}CT("");var kT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},R,If=If||{},K=kT||self;function $a(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function _s(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function TT(t){return Object.prototype.hasOwnProperty.call(t,Wu)&&t[Wu]||(t[Wu]=++_T)}var Wu="closure_uid_"+(1e9*Math.random()>>>0),_T=0;function AT(t,e,n){return t.call.apply(t.bind,arguments)}function IT(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function it(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?it=AT:it=IT,it.apply(null,arguments)}function rl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function ze(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),l=2;l<arguments.length;l++)s[l-2]=arguments[l];return e.prototype[i].apply(r,s)}}function sr(){this.s=this.s,this.o=this.o}var xT=0;sr.prototype.s=!1;sr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),xT!=0)&&TT(this)};sr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const My=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function xf(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function am(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if($a(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function ot(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ot.prototype.h=function(){this.defaultPrevented=!0};var NT=function(){if(!K.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{K.addEventListener("test",()=>{},e),K.removeEventListener("test",()=>{},e)}catch{}return t}();function ts(t){return/^[\s\xa0]*$/.test(t)}function La(){var t=K.navigator;return t&&(t=t.userAgent)?t:""}function en(t){return La().indexOf(t)!=-1}function Nf(t){return Nf[" "](t),t}Nf[" "]=function(){};function PT(t,e){var n=C_;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var DT=en("Opera"),ki=en("Trident")||en("MSIE"),Fy=en("Edge"),ih=Fy||ki,By=en("Gecko")&&!(La().toLowerCase().indexOf("webkit")!=-1&&!en("Edge"))&&!(en("Trident")||en("MSIE"))&&!en("Edge"),RT=La().toLowerCase().indexOf("webkit")!=-1&&!en("Edge");function Uy(){var t=K.document;return t?t.documentMode:void 0}var oh;e:{var Hu="",qu=function(){var t=La();if(By)return/rv:([^\);]+)(\)|;)/.exec(t);if(Fy)return/Edge\/([\d\.]+)/.exec(t);if(ki)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(RT)return/WebKit\/(\S+)/.exec(t);if(DT)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(qu&&(Hu=qu?qu[1]:""),ki){var Ku=Uy();if(Ku!=null&&Ku>parseFloat(Hu)){oh=String(Ku);break e}}oh=Hu}var sh;if(K.document&&ki){var um=Uy();sh=um||parseInt(oh,10)||void 0}else sh=void 0;var bT=sh;function ns(t,e){if(ot.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(By){e:{try{Nf(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:OT[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ns.$.h.call(this)}}ze(ns,ot);var OT={2:"touch",3:"pen",4:"mouse"};ns.prototype.h=function(){ns.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var As="closure_listenable_"+(1e6*Math.random()|0),$T=0;function LT(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++$T,this.fa=this.ia=!1}function Ma(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Pf(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function MT(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function jy(t){const e={};for(const n in t)e[n]=t[n];return e}const cm="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Vy(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<cm.length;o++)n=cm[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Fa(t){this.src=t,this.g={},this.h=0}Fa.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=ah(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new LT(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function lh(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=My(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Ma(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function ah(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var Df="closure_lm_"+(1e6*Math.random()|0),Qu={};function zy(t,e,n,r,i){if(r&&r.once)return Hy(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)zy(t,e[o],n,r,i);return null}return n=Of(n),t&&t[As]?t.O(e,n,_s(r)?!!r.capture:!!r,i):Wy(t,e,n,!1,r,i)}function Wy(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=_s(i)?!!i.capture:!!i,l=bf(t);if(l||(t[Df]=l=new Fa(t)),n=l.add(e,n,r,s,o),n.proxy)return n;if(r=FT(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)NT||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ky(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function FT(){function t(n){return e.call(t.src,t.listener,n)}const e=BT;return t}function Hy(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Hy(t,e[o],n,r,i);return null}return n=Of(n),t&&t[As]?t.P(e,n,_s(r)?!!r.capture:!!r,i):Wy(t,e,n,!0,r,i)}function qy(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)qy(t,e[o],n,r,i);else r=_s(r)?!!r.capture:!!r,n=Of(n),t&&t[As]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=ah(o,n,r,i),-1<n&&(Ma(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=bf(t))&&(e=t.g[e.toString()],t=-1,e&&(t=ah(e,n,r,i)),(n=-1<t?e[t]:null)&&Rf(n))}function Rf(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[As])lh(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ky(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=bf(e))?(lh(n,t),n.h==0&&(n.src=null,e[Df]=null)):Ma(t)}}}function Ky(t){return t in Qu?Qu[t]:Qu[t]="on"+t}function BT(t,e){if(t.fa)t=!0;else{e=new ns(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Rf(t),t=n.call(r,e)}return t}function bf(t){return t=t[Df],t instanceof Fa?t:null}var Gu="__closure_events_fn_"+(1e9*Math.random()>>>0);function Of(t){return typeof t=="function"?t:(t[Gu]||(t[Gu]=function(e){return t.handleEvent(e)}),t[Gu])}function Ve(){sr.call(this),this.i=new Fa(this),this.S=this,this.J=null}ze(Ve,sr);Ve.prototype[As]=!0;Ve.prototype.removeEventListener=function(t,e,n,r){qy(this,t,e,n,r)};function Ge(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new ot(e,t);else if(e instanceof ot)e.target=e.target||t;else{var i=e;e=new ot(r,t),Vy(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=il(s,r,!0,e)&&i}if(s=e.g=t,i=il(s,r,!0,e)&&i,i=il(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=il(s,r,!1,e)&&i}Ve.prototype.N=function(){if(Ve.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ma(n[r]);delete t.g[e],t.h--}}this.J=null};Ve.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Ve.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function il(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var l=s.listener,a=s.la||s.src;s.ia&&lh(t.i,s),i=l.call(a,r)!==!1&&i}}return i&&!r.defaultPrevented}var $f=K.JSON.stringify;class UT{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function jT(){var t=Lf;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class VT{constructor(){this.h=this.g=null}add(e,n){const r=Qy.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Qy=new UT(()=>new zT,t=>t.reset());class zT{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function WT(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function HT(t){K.setTimeout(()=>{throw t},0)}let rs,is=!1,Lf=new VT,Gy=()=>{const t=K.Promise.resolve(void 0);rs=()=>{t.then(qT)}};var qT=()=>{for(var t;t=jT();){try{t.h.call(t.g)}catch(n){HT(n)}var e=Qy;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}is=!1};function Ba(t,e){Ve.call(this),this.h=t||1,this.g=e||K,this.j=it(this.qb,this),this.l=Date.now()}ze(Ba,Ve);R=Ba.prototype;R.ga=!1;R.T=null;R.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ge(this,"tick"),this.ga&&(Mf(this),this.start()))}};R.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Mf(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}R.N=function(){Ba.$.N.call(this),Mf(this),delete this.g};function Ff(t,e,n){if(typeof t=="function")n&&(t=it(t,n));else if(t&&typeof t.handleEvent=="function")t=it(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:K.setTimeout(t,e||0)}function Xy(t){t.g=Ff(()=>{t.g=null,t.i&&(t.i=!1,Xy(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class KT extends sr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Xy(this)}N(){super.N(),this.g&&(K.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function os(t){sr.call(this),this.h=t,this.g={}}ze(os,sr);var hm=[];function Yy(t,e,n,r){Array.isArray(n)||(n&&(hm[0]=n.toString()),n=hm);for(var i=0;i<n.length;i++){var o=zy(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function Jy(t){Pf(t.g,function(e,n){this.g.hasOwnProperty(n)&&Rf(e)},t),t.g={}}os.prototype.N=function(){os.$.N.call(this),Jy(this)};os.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ua(){this.g=!0}Ua.prototype.Ea=function(){this.g=!1};function QT(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",l=o.split("&"),a=0;a<l.length;a++){var u=l[a].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");s=2<=h.length&&h[1]=="type"?s+(c+"="+u+"&"):s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function GT(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function ri(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+YT(t,n)+(r?" "+r:"")})}function XT(t,e){t.info(function(){return"TIMEOUT: "+e})}Ua.prototype.info=function(){};function YT(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return $f(n)}catch{return e}}var $r={},fm=null;function ja(){return fm=fm||new Ve}$r.Ta="serverreachability";function Zy(t){ot.call(this,$r.Ta,t)}ze(Zy,ot);function ss(t){const e=ja();Ge(e,new Zy(e))}$r.STAT_EVENT="statevent";function e0(t,e){ot.call(this,$r.STAT_EVENT,t),this.stat=e}ze(e0,ot);function ct(t){const e=ja();Ge(e,new e0(e,t))}$r.Ua="timingevent";function t0(t,e){ot.call(this,$r.Ua,t),this.size=e}ze(t0,ot);function Is(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return K.setTimeout(function(){t()},e)}var Va={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},n0={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Bf(){}Bf.prototype.h=null;function dm(t){return t.h||(t.h=t.i())}function r0(){}var xs={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Uf(){ot.call(this,"d")}ze(Uf,ot);function jf(){ot.call(this,"c")}ze(jf,ot);var uh;function za(){}ze(za,Bf);za.prototype.g=function(){return new XMLHttpRequest};za.prototype.i=function(){return{}};uh=new za;function Ns(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new os(this),this.P=JT,t=ih?125:void 0,this.V=new Ba(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new i0}function i0(){this.i=null,this.g="",this.h=!1}var JT=45e3,ch={},ra={};R=Ns.prototype;R.setTimeout=function(t){this.P=t};function hh(t,e,n){t.L=1,t.v=Ha(kn(e)),t.s=n,t.S=!0,o0(t,null)}function o0(t,e){t.G=Date.now(),Ps(t),t.A=kn(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),d0(n.i,"t",r),t.C=0,n=t.l.J,t.h=new i0,t.g=O0(t.l,n?e:null,!t.s),0<t.O&&(t.M=new KT(it(t.Pa,t,t.g),t.O)),Yy(t.U,t.g,"readystatechange",t.nb),e=t.I?jy(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),ss(),QT(t.j,t.u,t.A,t.m,t.W,t.s)}R.nb=function(t){t=t.target;const e=this.M;e&&tn(t)==3?e.l():this.Pa(t)};R.Pa=function(t){try{if(t==this.g)e:{const c=tn(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||ih||this.g&&(this.h.h||this.g.ja()||vm(this.g)))){this.J||c!=4||e==7||(e==8||0>=h?ss(3):ss(2)),Wa(this);var n=this.g.da();this.ca=n;t:if(s0(this)){var r=vm(this.g);t="";var i=r.length,o=tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vr(this),No(this);var s="";break t}this.h.i=new K.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,GT(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var l,a=this.g;if((l=a.g?a.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ts(l)){var u=l;break t}}u=null}if(n=u)ri(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fh(this,n);else{this.i=!1,this.o=3,ct(12),vr(this),No(this);break e}}this.S?(l0(this,c,s),ih&&this.i&&c==3&&(Yy(this.U,this.V,"tick",this.mb),this.V.start())):(ri(this.j,this.m,s,null),fh(this,s)),c==4&&vr(this),this.i&&!this.J&&(c==4?P0(this.l,this):(this.i=!1,Ps(this)))}else w_(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.o=3,ct(12)):(this.o=0,ct(13)),vr(this),No(this)}}}catch{}finally{}};function s0(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function l0(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=ZT(t,n),i==ra){e==4&&(t.o=4,ct(14),r=!1),ri(t.j,t.m,null,"[Incomplete Response]");break}else if(i==ch){t.o=4,ct(15),ri(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ri(t.j,t.m,i,null),fh(t,i);s0(t)&&i!=ra&&i!=ch&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,ct(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Kf(e),e.M=!0,ct(11))):(ri(t.j,t.m,n,"[Invalid Chunked Response]"),vr(t),No(t))}R.mb=function(){if(this.g){var t=tn(this.g),e=this.g.ja();this.C<e.length&&(Wa(this),l0(this,t,e),this.i&&t!=4&&Ps(this))}};function ZT(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?ra:(n=Number(e.substring(n,r)),isNaN(n)?ch:(r+=1,r+n>e.length?ra:(e=e.slice(r,r+n),t.C=r+n,e)))}R.cancel=function(){this.J=!0,vr(this)};function Ps(t){t.Y=Date.now()+t.P,a0(t,t.P)}function a0(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Is(it(t.lb,t),e)}function Wa(t){t.B&&(K.clearTimeout(t.B),t.B=null)}R.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(XT(this.j,this.A),this.L!=2&&(ss(),ct(17)),vr(this),this.o=2,No(this)):a0(this,this.Y-t)};function No(t){t.l.H==0||t.J||P0(t.l,t)}function vr(t){Wa(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Mf(t.V),Jy(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function fh(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||dh(n.i,t))){if(!t.K&&dh(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)sa(n),Qa(n);else break e;qf(n),ct(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Is(it(n.ib,n),6e3));if(1>=g0(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else yr(n,11)}else if((t.K||n.g==t)&&sa(n),!ts(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const y=t.g;if(y){const S=y.g?y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(S){var o=r.i;o.g||S.indexOf("spdy")==-1&&S.indexOf("quic")==-1&&S.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(Vf(o,o.h),o.h=null))}if(r.F){const C=y.g?y.g.getResponseHeader("X-HTTP-Session-Id"):null;C&&(r.Da=C,ge(r.I,r.F,C))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=b0(r,r.J?r.pa:null,r.Y),s.K){v0(r.i,s);var l=s,a=r.L;a&&l.setTimeout(a),l.B&&(Wa(l),Ps(l)),r.g=s}else x0(r);0<n.j.length&&Ga(n)}else u[0]!="stop"&&u[0]!="close"||yr(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?yr(n,7):Hf(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}ss(4)}catch{}}function e_(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if($a(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function t_(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if($a(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function u0(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if($a(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=t_(t),r=e_(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var c0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function n_(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Cr(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Cr){this.h=t.h,ia(this,t.j),this.s=t.s,this.g=t.g,oa(this,t.m),this.l=t.l;var e=t.i,n=new ls;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),pm(this,n),this.o=t.o}else t&&(e=String(t).match(c0))?(this.h=!1,ia(this,e[1]||"",!0),this.s=go(e[2]||""),this.g=go(e[3]||"",!0),oa(this,e[4]),this.l=go(e[5]||"",!0),pm(this,e[6]||"",!0),this.o=go(e[7]||"")):(this.h=!1,this.i=new ls(null,this.h))}Cr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(vo(e,mm,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(vo(e,mm,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(vo(n,n.charAt(0)=="/"?o_:i_,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",vo(n,l_)),t.join("")};function kn(t){return new Cr(t)}function ia(t,e,n){t.j=n?go(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function oa(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function pm(t,e,n){e instanceof ls?(t.i=e,a_(t.i,t.h)):(n||(e=vo(e,s_)),t.i=new ls(e,t.h))}function ge(t,e,n){t.i.set(e,n)}function Ha(t){return ge(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function go(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function vo(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,r_),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function r_(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var mm=/[#\/\?@]/g,i_=/[#\?:]/g,o_=/[#\?]/g,s_=/[#\?@]/g,l_=/#/g;function ls(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function lr(t){t.g||(t.g=new Map,t.h=0,t.i&&n_(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}R=ls.prototype;R.add=function(t,e){lr(this),this.i=null,t=Li(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function h0(t,e){lr(t),e=Li(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function f0(t,e){return lr(t),e=Li(t,e),t.g.has(e)}R.forEach=function(t,e){lr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};R.ta=function(){lr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};R.Z=function(t){lr(this);let e=[];if(typeof t=="string")f0(this,t)&&(e=e.concat(this.g.get(Li(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};R.set=function(t,e){return lr(this),this.i=null,t=Li(this,t),f0(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};R.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function d0(t,e,n){h0(t,e),0<n.length&&(t.i=null,t.g.set(Li(t,e),xf(n)),t.h+=n.length)}R.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function Li(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function a_(t,e){e&&!t.j&&(lr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(h0(this,r),d0(this,i,n))},t)),t.j=e}var u_=class{constructor(t,e){this.g=t,this.map=e}};function p0(t){this.l=t||c_,K.PerformanceNavigationTiming?(t=K.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(K.g&&K.g.Ka&&K.g.Ka()&&K.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var c_=10;function m0(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function g0(t){return t.h?1:t.g?t.g.size:0}function dh(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Vf(t,e){t.g?t.g.add(e):t.h=e}function v0(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}p0.prototype.cancel=function(){if(this.i=y0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function y0(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return xf(t.i)}var h_=class{stringify(t){return K.JSON.stringify(t,void 0)}parse(t){return K.JSON.parse(t,void 0)}};function f_(){this.g=new h_}function d_(t,e,n){const r=n||"";try{u0(t,function(i,o){let s=i;_s(i)&&(s=$f(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function p_(t,e){const n=new Ua;if(K.Image){const r=new Image;r.onload=rl(ol,n,r,"TestLoadImage: loaded",!0,e),r.onerror=rl(ol,n,r,"TestLoadImage: error",!1,e),r.onabort=rl(ol,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=rl(ol,n,r,"TestLoadImage: timeout",!1,e),K.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function ol(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ds(t){this.l=t.fc||null,this.j=t.ob||!1}ze(Ds,Bf);Ds.prototype.g=function(){return new qa(this.l,this.j)};Ds.prototype.i=function(t){return function(){return t}}({});function qa(t,e){Ve.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=zf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ze(qa,Ve);var zf=0;R=qa.prototype;R.open=function(t,e){if(this.readyState!=zf)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,as(this)};R.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||K).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};R.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Rs(this)),this.readyState=zf};R.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,as(this)),this.g&&(this.readyState=3,as(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof K.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;w0(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function w0(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}R.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Rs(this):as(this),this.readyState==3&&w0(this)}};R.Za=function(t){this.g&&(this.response=this.responseText=t,Rs(this))};R.Ya=function(t){this.g&&(this.response=t,Rs(this))};R.ka=function(){this.g&&Rs(this)};function Rs(t){t.readyState=4,t.l=null,t.j=null,t.A=null,as(t)}R.setRequestHeader=function(t,e){this.v.append(t,e)};R.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};R.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function as(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(qa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var m_=K.JSON.parse;function Ae(t){Ve.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=E0,this.L=this.M=!1}ze(Ae,Ve);var E0="",g_=/^https?$/i,v_=["POST","PUT"];R=Ae.prototype;R.Oa=function(t){this.M=t};R.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():uh.g(),this.C=this.u?dm(this.u):dm(uh),this.g.onreadystatechange=it(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){gm(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=K.FormData&&t instanceof K.FormData,!(0<=My(v_,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{k0(this),0<this.B&&((this.L=y_(this.g))?(this.g.timeout=this.B,this.g.ontimeout=it(this.ua,this)):this.A=Ff(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){gm(this,o)}};function y_(t){return ki&&typeof t.timeout=="number"&&t.ontimeout!==void 0}R.ua=function(){typeof If<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ge(this,"timeout"),this.abort(8))};function gm(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,S0(t),Ka(t)}function S0(t){t.F||(t.F=!0,Ge(t,"complete"),Ge(t,"error"))}R.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ge(this,"complete"),Ge(this,"abort"),Ka(this))};R.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ka(this,!0)),Ae.$.N.call(this)};R.La=function(){this.s||(this.G||this.v||this.l?C0(this):this.kb())};R.kb=function(){C0(this)};function C0(t){if(t.h&&typeof If<"u"&&(!t.C[1]||tn(t)!=4||t.da()!=2)){if(t.v&&tn(t)==4)Ff(t.La,0,t);else if(Ge(t,"readystatechange"),tn(t)==4){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(c0)[1]||null;!i&&K.self&&K.self.location&&(i=K.self.location.protocol.slice(0,-1)),r=!g_.test(i?i.toLowerCase():"")}n=r}if(n)Ge(t,"complete"),Ge(t,"success");else{t.m=6;try{var o=2<tn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",S0(t)}}finally{Ka(t)}}}}function Ka(t,e){if(t.g){k0(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Ge(t,"ready");try{n.onreadystatechange=r}catch{}}}function k0(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(K.clearTimeout(t.A),t.A=null)}R.isActive=function(){return!!this.g};function tn(t){return t.g?t.g.readyState:0}R.da=function(){try{return 2<tn(this)?this.g.status:-1}catch{return-1}};R.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};R.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),m_(e)}};function vm(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case E0:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function w_(t){const e={};t=(t.g&&2<=tn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(ts(t[r]))continue;var n=WT(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}MT(e,function(r){return r.join(", ")})}R.Ia=function(){return this.m};R.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function T0(t){let e="";return Pf(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Wf(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=T0(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ge(t,e,n))}function lo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function _0(t){this.Ga=0,this.j=[],this.l=new Ua,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=lo("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=lo("baseRetryDelayMs",5e3,t),this.hb=lo("retryDelaySeedMs",1e4,t),this.eb=lo("forwardChannelMaxRetries",2,t),this.xa=lo("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new p0(t&&t.concurrentRequestLimit),this.Ja=new f_,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}R=_0.prototype;R.ra=8;R.H=1;function Hf(t){if(A0(t),t.H==3){var e=t.W++,n=kn(t.I);if(ge(n,"SID",t.K),ge(n,"RID",e),ge(n,"TYPE","terminate"),bs(t,n),e=new Ns(t,t.l,e),e.L=2,e.v=Ha(kn(n)),n=!1,K.navigator&&K.navigator.sendBeacon)try{n=K.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&K.Image&&(new Image().src=e.v,n=!0),n||(e.g=O0(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Ps(e)}R0(t)}function Qa(t){t.g&&(Kf(t),t.g.cancel(),t.g=null)}function A0(t){Qa(t),t.u&&(K.clearTimeout(t.u),t.u=null),sa(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&K.clearTimeout(t.m),t.m=null)}function Ga(t){if(!m0(t.i)&&!t.m){t.m=!0;var e=t.Na;rs||Gy(),is||(rs(),is=!0),Lf.add(e,t),t.C=0}}function E_(t,e){return g0(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Is(it(t.Na,t,e),D0(t,t.C)),t.C++,!0)}R.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Ns(this,this.l,t);let o=this.s;if(this.U&&(o?(o=jy(o),Vy(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=I0(this,i,e),n=kn(this.I),ge(n,"RID",t),ge(n,"CVER",22),this.F&&ge(n,"X-HTTP-Session-Id",this.F),bs(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(T0(o)))+"&"+e:this.o&&Wf(n,this.o,o)),Vf(this.i,i),this.bb&&ge(n,"TYPE","init"),this.P?(ge(n,"$req",e),ge(n,"SID","null"),i.aa=!0,hh(i,n,null)):hh(i,n,e),this.H=2}}else this.H==3&&(t?ym(this,t):this.j.length==0||m0(this.i)||ym(this))};function ym(t,e){var n;e?n=e.m:n=t.W++;const r=kn(t.I);ge(r,"SID",t.K),ge(r,"RID",n),ge(r,"AID",t.V),bs(t,r),t.o&&t.s&&Wf(r,t.o,t.s),n=new Ns(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=I0(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Vf(t.i,n),hh(n,r,e)}function bs(t,e){t.na&&Pf(t.na,function(n,r){ge(e,r,n)}),t.h&&u0({},function(n,r){ge(e,r,n)})}function I0(t,e,n){n=Math.min(t.j.length,n);var r=t.h?it(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let l=!0;for(let a=0;a<n;a++){let u=i[a].g;const c=i[a].map;if(u-=o,0>u)o=Math.max(0,i[a].g-100),l=!1;else try{d_(c,s,"req"+u+"_")}catch{r&&r(c)}}if(l){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function x0(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;rs||Gy(),is||(rs(),is=!0),Lf.add(e,t),t.A=0}}function qf(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Is(it(t.Ma,t),D0(t,t.A)),t.A++,!0)}R.Ma=function(){if(this.u=null,N0(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Is(it(this.jb,this),t)}};R.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ct(10),Qa(this),N0(this))};function Kf(t){t.B!=null&&(K.clearTimeout(t.B),t.B=null)}function N0(t){t.g=new Ns(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=kn(t.wa);ge(e,"RID","rpc"),ge(e,"SID",t.K),ge(e,"AID",t.V),ge(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ge(e,"TO",t.qa),ge(e,"TYPE","xmlhttp"),bs(t,e),t.o&&t.s&&Wf(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Ha(kn(e)),n.s=null,n.S=!0,o0(n,t)}R.ib=function(){this.v!=null&&(this.v=null,Qa(this),qf(this),ct(19))};function sa(t){t.v!=null&&(K.clearTimeout(t.v),t.v=null)}function P0(t,e){var n=null;if(t.g==e){sa(t),Kf(t),t.g=null;var r=2}else if(dh(t.i,e))n=e.F,v0(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=ja(),Ge(r,new t0(r,n)),Ga(t)}else x0(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&E_(t,e)||r==2&&qf(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:yr(t,5);break;case 4:yr(t,10);break;case 3:yr(t,6);break;default:yr(t,2)}}}function D0(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function yr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=it(t.pb,t);n||(n=new Cr("//www.google.com/images/cleardot.gif"),K.location&&K.location.protocol=="http"||ia(n,"https"),Ha(n)),p_(n.toString(),r)}else ct(2);t.H=0,t.h&&t.h.za(e),R0(t),A0(t)}R.pb=function(t){t?(this.l.info("Successfully pinged google.com"),ct(2)):(this.l.info("Failed to ping google.com"),ct(1))};function R0(t){if(t.H=0,t.ma=[],t.h){const e=y0(t.i);(e.length!=0||t.j.length!=0)&&(am(t.ma,e),am(t.ma,t.j),t.i.i.length=0,xf(t.j),t.j.length=0),t.h.ya()}}function b0(t,e,n){var r=n instanceof Cr?kn(n):new Cr(n);if(r.g!="")e&&(r.g=e+"."+r.g),oa(r,r.m);else{var i=K.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Cr(null);r&&ia(o,r),e&&(o.g=e),i&&oa(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&ge(r,n,e),ge(r,"VER",t.ra),bs(t,r),r}function O0(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Ae(new Ds({ob:!0})):new Ae(t.va),e.Oa(t.J),e}R.isActive=function(){return!!this.h&&this.h.isActive(this)};function $0(){}R=$0.prototype;R.Ba=function(){};R.Aa=function(){};R.za=function(){};R.ya=function(){};R.isActive=function(){return!0};R.Va=function(){};function la(){if(ki&&!(10<=Number(bT)))throw Error("Environmental error: no available transport.")}la.prototype.g=function(t,e){return new _t(t,e)};function _t(t,e){Ve.call(this),this.g=new _0(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!ts(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ts(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Mi(this)}ze(_t,Ve);_t.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;ct(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=b0(t,null,t.Y),Ga(t)};_t.prototype.close=function(){Hf(this.g)};_t.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=$f(t),t=n);e.j.push(new u_(e.fb++,t)),e.H==3&&Ga(e)};_t.prototype.N=function(){this.g.h=null,delete this.j,Hf(this.g),delete this.g,_t.$.N.call(this)};function L0(t){Uf.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}ze(L0,Uf);function M0(){jf.call(this),this.status=1}ze(M0,jf);function Mi(t){this.g=t}ze(Mi,$0);Mi.prototype.Ba=function(){Ge(this.g,"a")};Mi.prototype.Aa=function(t){Ge(this.g,new L0(t))};Mi.prototype.za=function(t){Ge(this.g,new M0)};Mi.prototype.ya=function(){Ge(this.g,"b")};function S_(){this.blockSize=-1}function Gt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}ze(Gt,S_);Gt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Xu(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}Gt.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)Xu(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){Xu(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){Xu(this,r),i=0;break}}this.h=i,this.i+=e};Gt.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function ae(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var C_={};function Qf(t){return-128<=t&&128>t?PT(t,function(e){return new ae([e|0],0>e?-1:0)}):new ae([t|0],0>t?-1:0)}function nn(t){if(isNaN(t)||!isFinite(t))return fi;if(0>t)return Ke(nn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=ph;return new ae(e,0)}function F0(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ke(F0(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=nn(Math.pow(e,8)),r=fi,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=nn(Math.pow(e,o)),r=r.R(o).add(nn(s))):(r=r.R(n),r=r.add(nn(s)))}return r}var ph=4294967296,fi=Qf(0),mh=Qf(1),wm=Qf(16777216);R=ae.prototype;R.ea=function(){if(Dt(this))return-Ke(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:ph+r)*e,e*=ph}return t};R.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(gn(this))return"0";if(Dt(this))return"-"+Ke(this).toString(t);for(var e=nn(Math.pow(t,6)),n=this,r="";;){var i=ua(n,e).g;n=aa(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,gn(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};R.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function gn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Dt(t){return t.h==-1}R.X=function(t){return t=aa(this,t),Dt(t)?-1:gn(t)?0:1};function Ke(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ae(n,~t.h).add(mh)}R.abs=function(){return Dt(this)?Ke(this):this};R.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new ae(n,n[n.length-1]&-2147483648?-1:0)};function aa(t,e){return t.add(Ke(e))}R.R=function(t){if(gn(this)||gn(t))return fi;if(Dt(this))return Dt(t)?Ke(this).R(Ke(t)):Ke(Ke(this).R(t));if(Dt(t))return Ke(this.R(Ke(t)));if(0>this.X(wm)&&0>t.X(wm))return nn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,l=t.D(i)>>>16,a=t.D(i)&65535;n[2*r+2*i]+=s*a,sl(n,2*r+2*i),n[2*r+2*i+1]+=o*a,sl(n,2*r+2*i+1),n[2*r+2*i+1]+=s*l,sl(n,2*r+2*i+1),n[2*r+2*i+2]+=o*l,sl(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ae(n,0)};function sl(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ao(t,e){this.g=t,this.h=e}function ua(t,e){if(gn(e))throw Error("division by zero");if(gn(t))return new ao(fi,fi);if(Dt(t))return e=ua(Ke(t),e),new ao(Ke(e.g),Ke(e.h));if(Dt(e))return e=ua(t,Ke(e)),new ao(Ke(e.g),e.h);if(30<t.g.length){if(Dt(t)||Dt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=mh,r=e;0>=r.X(t);)n=Em(n),r=Em(r);var i=Vr(n,1),o=Vr(r,1);for(r=Vr(r,2),n=Vr(n,2);!gn(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=Vr(r,1),n=Vr(n,1)}return e=aa(t,i.R(e)),new ao(i,e)}for(i=fi;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=nn(n),s=o.R(e);Dt(s)||0<s.X(t);)n-=r,o=nn(n),s=o.R(e);gn(o)&&(o=mh),i=i.add(o),t=aa(t,s)}return new ao(i,t)}R.gb=function(t){return ua(this,t).h};R.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ae(n,this.h&t.h)};R.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ae(n,this.h|t.h)};R.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ae(n,this.h^t.h)};function Em(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ae(n,t.h)}function Vr(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new ae(i,t.h)}la.prototype.createWebChannel=la.prototype.g;_t.prototype.send=_t.prototype.u;_t.prototype.open=_t.prototype.m;_t.prototype.close=_t.prototype.close;Va.NO_ERROR=0;Va.TIMEOUT=8;Va.HTTP_ERROR=6;n0.COMPLETE="complete";r0.EventType=xs;xs.OPEN="a";xs.CLOSE="b";xs.ERROR="c";xs.MESSAGE="d";Ve.prototype.listen=Ve.prototype.O;Ae.prototype.listenOnce=Ae.prototype.P;Ae.prototype.getLastError=Ae.prototype.Sa;Ae.prototype.getLastErrorCode=Ae.prototype.Ia;Ae.prototype.getStatus=Ae.prototype.da;Ae.prototype.getResponseJson=Ae.prototype.Wa;Ae.prototype.getResponseText=Ae.prototype.ja;Ae.prototype.send=Ae.prototype.ha;Ae.prototype.setWithCredentials=Ae.prototype.Oa;Gt.prototype.digest=Gt.prototype.l;Gt.prototype.reset=Gt.prototype.reset;Gt.prototype.update=Gt.prototype.j;ae.prototype.add=ae.prototype.add;ae.prototype.multiply=ae.prototype.R;ae.prototype.modulo=ae.prototype.gb;ae.prototype.compare=ae.prototype.X;ae.prototype.toNumber=ae.prototype.ea;ae.prototype.toString=ae.prototype.toString;ae.prototype.getBits=ae.prototype.D;ae.fromNumber=nn;ae.fromString=F0;var k_=function(){return new la},T_=function(){return ja()},Yu=Va,__=n0,A_=$r,Sm={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},I_=Ds,ll=r0,x_=Ae,N_=Gt,di=ae;const Cm="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}et.UNAUTHENTICATED=new et(null),et.GOOGLE_CREDENTIALS=new et("google-credentials-uid"),et.FIRST_PARTY=new et("first-party-uid"),et.MOCK_USER=new et("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fi="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zn=new Ry("@firebase/firestore");function km(){return Zn.logLevel}function P_(t){Zn.setLogLevel(t)}function U(t,...e){if(Zn.logLevel<=oe.DEBUG){const n=e.map(Gf);Zn.debug(`Firestore (${Fi}): ${t}`,...n)}}function Tn(t,...e){if(Zn.logLevel<=oe.ERROR){const n=e.map(Gf);Zn.error(`Firestore (${Fi}): ${t}`,...n)}}function Ti(t,...e){if(Zn.logLevel<=oe.WARN){const n=e.map(Gf);Zn.warn(`Firestore (${Fi}): ${t}`,...n)}}function Gf(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(t="Unexpected state"){const e=`FIRESTORE (${Fi}) INTERNAL ASSERTION FAILED: `+t;throw Tn(e),new Error(e)}function ye(t,e){t||Q()}function J(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class z extends $i{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class D_{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(et.UNAUTHENTICATED))}shutdown(){}}class R_{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class b_{constructor(e){this.t=e,this.currentUser=et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=a=>this.i!==r?(r=this.i,n(a)):Promise.resolve();let o=new Xn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Xn,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const a=o;e.enqueueRetryable(async()=>{await a.promise,await i(this.currentUser)})},l=a=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=a,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(a=>l(a)),setTimeout(()=>{if(!this.auth){const a=this.t.getImmediate({optional:!0});a?l(a):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Xn)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ye(typeof r.accessToken=="string"),new B0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ye(e===null||typeof e=="string"),new et(e)}}class O_{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=et.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class $_{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new O_(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(et.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class L_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class M_{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=o=>{o.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.T;return this.T=o.token,U("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?i(o):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ye(typeof n.token=="string"),this.T=n.token,new L_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=F_(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function ie(t,e){return t<e?-1:t>e?1:0}function _i(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new z(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new z(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new z(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new z(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Fe.fromMillis(Date.now())}static fromDate(e){return Fe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Fe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ie(this.nanoseconds,e.nanoseconds):ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.timestamp=e}static fromTimestamp(e){return new X(e)}static min(){return new X(new Fe(0,0))}static max(){return new X(new Fe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e,n,r){n===void 0?n=0:n>e.length&&Q(),r===void 0?r=e.length-n:r>e.length-n&&Q(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return us.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof us?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class _e extends us{construct(e,n,r){return new _e(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new z(A.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new _e(n)}static emptyPath(){return new _e([])}}const B_=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rt extends us{construct(e,n,r){return new rt(e,n,r)}static isValidIdentifier(e){return B_.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new rt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new z(A.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new z(A.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const a=e[i+1];if(a!=="\\"&&a!=="."&&a!=="`")throw new z(A.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=a,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(r+=l,i++):(o(),i++)}if(o(),s)throw new z(A.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rt(n)}static emptyPath(){return new rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.path=e}static fromPath(e){return new j(_e.fromString(e))}static fromName(e){return new j(_e.fromString(e).popFirst(5))}static empty(){return new j(_e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new j(new _e(e.slice()))}}function U_(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=X.fromTimestamp(r===1e9?new Fe(n+1,0):new Fe(n,r));return new er(i,j.empty(),e)}function j_(t){return new er(t.readTime,t.key,-1)}class er{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new er(X.min(),j.empty(),-1)}static max(){return new er(X.max(),j.empty(),-1)}}function V_(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=j.comparator(t.documentKey,e.documentKey),n!==0?n:ie(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class W_{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Os(t){if(t.code!==A.FAILED_PRECONDITION||t.message!==z_)throw t;U("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new x((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof x?n:x.resolve(n)}catch(n){return x.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):x.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):x.reject(n)}static resolve(e){return new x((n,r)=>{n(e)})}static reject(e){return new x((n,r)=>{r(e)})}static waitFor(e){return new x((n,r)=>{let i=0,o=0,s=!1;e.forEach(l=>{++i,l.next(()=>{++o,s&&o===i&&n()},a=>r(a))}),s=!0,o===i&&n()})}static or(e){let n=x.resolve(!1);for(const r of e)n=n.next(i=>i?x.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new x((r,i)=>{const o=e.length,s=new Array(o);let l=0;for(let a=0;a<o;a++){const u=a;n(e[u]).next(c=>{s[u]=c,++l,l===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new x((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function $s(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}Xf.ct=-1;function Xa(t){return t==null}function ca(t){return t===0&&1/t==-1/0}function H_(t){return typeof t=="number"&&Number.isInteger(t)&&!ca(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function j0(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e,n){this.comparator=e,this.root=n||qe.EMPTY}insert(e,n){return new ke(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qe.BLACK,null,null))}remove(e){return new ke(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qe.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new al(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new al(this.root,e,this.comparator,!1)}getReverseIterator(){return new al(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new al(this.root,e,this.comparator,!0)}}class al{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qe{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??qe.RED,this.left=i??qe.EMPTY,this.right=o??qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new qe(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return qe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return qe.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Q();const e=this.left.check();if(e!==this.right.check())throw Q();return e+(this.isRed()?0:1)}}qe.EMPTY=null,qe.RED=!0,qe.BLACK=!1;qe.EMPTY=new class{constructor(){this.size=0}get key(){throw Q()}get value(){throw Q()}get color(){throw Q()}get left(){throw Q()}get right(){throw Q()}copy(t,e,n,r,i){return this}insert(t,e,n){return new qe(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.comparator=e,this.data=new ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _m(this.data.getIterator())}getIteratorFrom(e){return new _m(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof st)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new st(this.comparator);return n.data=e,n}}class _m{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.fields=e,e.sort(rt.comparator)}static empty(){return new Ht([])}unionWith(e){let n=new st(rt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ht(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _i(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new V0("Invalid base64 string: "+i):i}}(e);return new at(n)}static fromUint8Array(e){const n=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new at(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}at.EMPTY_BYTE_STRING=new at("");const q_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tr(t){if(ye(!!t),typeof t=="string"){let e=0;const n=q_.exec(t);if(ye(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Re(t.seconds),nanos:Re(t.nanos)}}function Re(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Nr(t){return typeof t=="string"?at.fromBase64String(t):at.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Jf(t){const e=t.mapValue.fields.__previous_value__;return Yf(e)?Jf(e):e}function cs(t){const e=tr(t.mapValue.fields.__local_write_time__.timestampValue);return new Fe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,n,r,i,o,s,l,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=a,this.useFetchStreams=u}}class hs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new hs("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof hs&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Pr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Yf(t)?4:Q_(t)?9007199254740991:10:Q()}function ln(t,e){if(t===e)return!0;const n=Pr(t);if(n!==Pr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return cs(t).isEqual(cs(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=tr(r.timestampValue),s=tr(i.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Nr(r.bytesValue).isEqual(Nr(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Re(r.geoPointValue.latitude)===Re(i.geoPointValue.latitude)&&Re(r.geoPointValue.longitude)===Re(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Re(r.integerValue)===Re(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=Re(r.doubleValue),s=Re(i.doubleValue);return o===s?ca(o)===ca(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return _i(t.arrayValue.values||[],e.arrayValue.values||[],ln);case 10:return function(r,i){const o=r.mapValue.fields||{},s=i.mapValue.fields||{};if(Tm(o)!==Tm(s))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(s[l]===void 0||!ln(o[l],s[l])))return!1;return!0}(t,e);default:return Q()}}function fs(t,e){return(t.values||[]).find(n=>ln(n,e))!==void 0}function Ai(t,e){if(t===e)return 0;const n=Pr(t),r=Pr(e);if(n!==r)return ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ie(t.booleanValue,e.booleanValue);case 2:return function(i,o){const s=Re(i.integerValue||i.doubleValue),l=Re(o.integerValue||o.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return Am(t.timestampValue,e.timestampValue);case 4:return Am(cs(t),cs(e));case 5:return ie(t.stringValue,e.stringValue);case 6:return function(i,o){const s=Nr(i),l=Nr(o);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const s=i.split("/"),l=o.split("/");for(let a=0;a<s.length&&a<l.length;a++){const u=ie(s[a],l[a]);if(u!==0)return u}return ie(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const s=ie(Re(i.latitude),Re(o.latitude));return s!==0?s:ie(Re(i.longitude),Re(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const s=i.values||[],l=o.values||[];for(let a=0;a<s.length&&a<l.length;++a){const u=Ai(s[a],l[a]);if(u)return u}return ie(s.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===ul.mapValue&&o===ul.mapValue)return 0;if(i===ul.mapValue)return 1;if(o===ul.mapValue)return-1;const s=i.fields||{},l=Object.keys(s),a=o.fields||{},u=Object.keys(a);l.sort(),u.sort();for(let c=0;c<l.length&&c<u.length;++c){const h=ie(l[c],u[c]);if(h!==0)return h;const d=Ai(s[l[c]],a[u[c]]);if(d!==0)return d}return ie(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Q()}}function Am(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ie(t,e);const n=tr(t),r=tr(e),i=ie(n.seconds,r.seconds);return i!==0?i:ie(n.nanos,r.nanos)}function Ii(t){return gh(t)}function gh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=tr(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Nr(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,j.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",o=!0;for(const s of r.values||[])o?o=!1:i+=",",i+=gh(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",s=!0;for(const l of i)s?s=!1:o+=",",o+=`${l}:${gh(r.fields[l])}`;return o+"}"}(t.mapValue):Q();var e,n}function vh(t){return!!t&&"integerValue"in t}function Zf(t){return!!t&&"arrayValue"in t}function Im(t){return!!t&&"nullValue"in t}function xm(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Tl(t){return!!t&&"mapValue"in t}function Po(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Bi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Po(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Po(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Q_(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.value=e}static empty(){return new Rt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Tl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Po(n)}setAll(e){let n=rt.emptyPath(),r={},i=[];e.forEach((s,l)=>{if(!n.isImmediateParentOf(l)){const a=this.getFieldsMap(n);this.applyChanges(a,r,i),r={},i=[],n=l.popLast()}s?r[l.lastSegment()]=Po(s):i.push(l.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Tl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ln(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Tl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Bi(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Rt(Po(this.value))}}function z0(t){const e=[];return Bi(t.fields,(n,r)=>{const i=new rt([n]);if(Tl(r)){const o=z0(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Ht(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n,r,i,o,s,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=l}static newInvalidDocument(e){return new nt(e,0,X.min(),X.min(),X.min(),Rt.empty(),0)}static newFoundDocument(e,n,r,i){return new nt(e,1,n,X.min(),r,i,0)}static newNoDocument(e,n){return new nt(e,2,n,X.min(),X.min(),Rt.empty(),0)}static newUnknownDocument(e,n){return new nt(e,3,n,X.min(),X.min(),Rt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(X.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,n){this.position=e,this.inclusive=n}}function Nm(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=j.comparator(j.fromName(s.referenceValue),n.key):r=Ai(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Pm(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ln(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,n="asc"){this.field=e,this.dir=n}}function G_(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{}class Le extends W0{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Y_(e,n,r):n==="array-contains"?new e2(e,r):n==="in"?new t2(e,r):n==="not-in"?new n2(e,r):n==="array-contains-any"?new r2(e,r):new Le(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new J_(e,r):new Z_(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ai(n,this.value)):n!==null&&Pr(this.value)===Pr(n)&&this.matchesComparison(Ai(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class an extends W0{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new an(e,n)}matches(e){return H0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function H0(t){return t.op==="and"}function q0(t){return X_(t)&&H0(t)}function X_(t){for(const e of t.filters)if(e instanceof an)return!1;return!0}function yh(t){if(t instanceof Le)return t.field.canonicalString()+t.op.toString()+Ii(t.value);if(q0(t))return t.filters.map(e=>yh(e)).join(",");{const e=t.filters.map(n=>yh(n)).join(",");return`${t.op}(${e})`}}function K0(t,e){return t instanceof Le?function(n,r){return r instanceof Le&&n.op===r.op&&n.field.isEqual(r.field)&&ln(n.value,r.value)}(t,e):t instanceof an?function(n,r){return r instanceof an&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,o,s)=>i&&K0(o,r.filters[s]),!0):!1}(t,e):void Q()}function Q0(t){return t instanceof Le?function(e){return`${e.field.canonicalString()} ${e.op} ${Ii(e.value)}`}(t):t instanceof an?function(e){return e.op.toString()+" {"+e.getFilters().map(Q0).join(" ,")+"}"}(t):"Filter"}class Y_ extends Le{constructor(e,n,r){super(e,n,r),this.key=j.fromName(r.referenceValue)}matches(e){const n=j.comparator(e.key,this.key);return this.matchesComparison(n)}}class J_ extends Le{constructor(e,n){super(e,"in",n),this.keys=G0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Z_ extends Le{constructor(e,n){super(e,"not-in",n),this.keys=G0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function G0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>j.fromName(r.referenceValue))}class e2 extends Le{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Zf(n)&&fs(n.arrayValue,this.value)}}class t2 extends Le{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fs(this.value.arrayValue,n)}}class n2 extends Le{constructor(e,n){super(e,"not-in",n)}matches(e){if(fs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!fs(this.value.arrayValue,n)}}class r2 extends Le{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Zf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>fs(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e,n=null,r=[],i=[],o=null,s=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=l,this.dt=null}}function Dm(t,e=null,n=[],r=[],i=null,o=null,s=null){return new i2(t,e,n,r,i,o,s)}function ed(t){const e=J(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>yh(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Xa(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ii(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ii(r)).join(",")),e.dt=n}return e.dt}function td(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!G_(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!K0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Pm(t.startAt,e.startAt)&&Pm(t.endAt,e.endAt)}function wh(t){return j.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,n=null,r=[],i=[],o=null,s="F",l=null,a=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=l,this.endAt=a,this.wt=null,this._t=null,this.startAt,this.endAt}}function o2(t,e,n,r,i,o,s,l){return new Ya(t,e,n,r,i,o,s,l)}function nd(t){return new Ya(t)}function Rm(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function s2(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function l2(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function a2(t){return t.collectionGroup!==null}function pi(t){const e=J(t);if(e.wt===null){e.wt=[];const n=l2(e),r=s2(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new Do(n)),e.wt.push(new Do(rt.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Do(rt.keyField(),o))}}}return e.wt}function _n(t){const e=J(t);if(!e._t)if(e.limitType==="F")e._t=Dm(e.path,e.collectionGroup,pi(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const o of pi(e)){const s=o.dir==="desc"?"asc":"desc";n.push(new Do(o.field,s))}const r=e.endAt?new ha(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ha(e.startAt.position,e.startAt.inclusive):null;e._t=Dm(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Eh(t,e,n){return new Ya(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ja(t,e){return td(_n(t),_n(e))&&t.limitType===e.limitType}function X0(t){return`${ed(_n(t))}|lt:${t.limitType}`}function Sh(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>Q0(r)).join(", ")}]`),Xa(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ii(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ii(r)).join(",")),`Target(${n})`}(_n(t))}; limitType=${t.limitType})`}function Za(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):j.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of pi(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,o,s){const l=Nm(i,o,s);return i.inclusive?l<=0:l<0}(n.startAt,pi(n),r)||n.endAt&&!function(i,o,s){const l=Nm(i,o,s);return i.inclusive?l>=0:l>0}(n.endAt,pi(n),r))}(t,e)}function u2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Y0(t){return(e,n)=>{let r=!1;for(const i of pi(t)){const o=c2(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function c2(t,e,n){const r=t.field.isKeyField()?j.comparator(e.key,n.key):function(i,o,s){const l=o.data.field(i),a=s.data.field(i);return l!==null&&a!==null?Ai(l,a):Q()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Q()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Bi(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return j0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=new ke(j.comparator);function An(){return h2}const J0=new ke(j.comparator);function yo(...t){let e=J0;for(const n of t)e=e.insert(n.key,n);return e}function Z0(t){let e=J0;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function wr(){return Ro()}function e1(){return Ro()}function Ro(){return new Ui(t=>t.toString(),(t,e)=>t.isEqual(e))}const f2=new ke(j.comparator),d2=new st(j.comparator);function ee(...t){let e=d2;for(const n of t)e=e.add(n);return e}const p2=new st(ie);function m2(){return p2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ca(e)?"-0":e}}function n1(t){return{integerValue:""+t}}function g2(t,e){return H_(e)?n1(e):t1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(){this._=void 0}}function v2(t,e,n){return t instanceof fa?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Yf(i)&&(i=Jf(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof ds?i1(t,e):t instanceof ps?o1(t,e):function(r,i){const o=r1(r,i),s=bm(o)+bm(r.gt);return vh(o)&&vh(r.gt)?n1(s):t1(r.serializer,s)}(t,e)}function y2(t,e,n){return t instanceof ds?i1(t,e):t instanceof ps?o1(t,e):n}function r1(t,e){return t instanceof da?vh(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class fa extends eu{}class ds extends eu{constructor(e){super(),this.elements=e}}function i1(t,e){const n=s1(e);for(const r of t.elements)n.some(i=>ln(i,r))||n.push(r);return{arrayValue:{values:n}}}class ps extends eu{constructor(e){super(),this.elements=e}}function o1(t,e){let n=s1(e);for(const r of t.elements)n=n.filter(i=>!ln(i,r));return{arrayValue:{values:n}}}class da extends eu{constructor(e,n){super(),this.serializer=e,this.gt=n}}function bm(t){return Re(t.integerValue||t.doubleValue)}function s1(t){return Zf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function w2(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof ds&&r instanceof ds||n instanceof ps&&r instanceof ps?_i(n.elements,r.elements,ln):n instanceof da&&r instanceof da?ln(n.gt,r.gt):n instanceof fa&&r instanceof fa}(t.transform,e.transform)}class E2{constructor(e,n){this.version=e,this.transformResults=n}}class yn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new yn}static exists(e){return new yn(void 0,e)}static updateTime(e){return new yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _l(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class tu{}function l1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new u1(t.key,yn.none()):new Ls(t.key,t.data,yn.none());{const n=t.data,r=Rt.empty();let i=new st(rt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Lr(t.key,r,new Ht(i.toArray()),yn.none())}}function S2(t,e,n){t instanceof Ls?function(r,i,o){const s=r.value.clone(),l=$m(r.fieldTransforms,i,o.transformResults);s.setAll(l),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):t instanceof Lr?function(r,i,o){if(!_l(r.precondition,i))return void i.convertToUnknownDocument(o.version);const s=$m(r.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(a1(r)),l.setAll(s),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function bo(t,e,n,r){return t instanceof Ls?function(i,o,s,l){if(!_l(i.precondition,o))return s;const a=i.value.clone(),u=Lm(i.fieldTransforms,l,o);return a.setAll(u),o.convertToFoundDocument(o.version,a).setHasLocalMutations(),null}(t,e,n,r):t instanceof Lr?function(i,o,s,l){if(!_l(i.precondition,o))return s;const a=Lm(i.fieldTransforms,l,o),u=o.data;return u.setAll(a1(i)),u.setAll(a),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),s===null?null:s.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,o,s){return _l(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,n)}function C2(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=r1(r.transform,i||null);o!=null&&(n===null&&(n=Rt.empty()),n.set(r.field,o))}return n||null}function Om(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&_i(n,r,(i,o)=>w2(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ls extends tu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Lr extends tu{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function a1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function $m(t,e,n){const r=new Map;ye(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,l=e.data.field(o.field);r.set(o.field,y2(s,l,n[i]))}return r}function Lm(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,v2(o,s,e))}return r}class u1 extends tu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class k2 extends tu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&S2(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=bo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=bo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=e1();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let l=this.applyToLocalView(s,o.mutatedFields);l=n.has(i.key)?null:l;const a=l1(s,l);a!==null&&r.set(i.key,a),s.isValidDocument()||s.convertToNoDocument(X.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ee())}isEqual(e){return this.batchId===e.batchId&&_i(this.mutations,e.mutations,(n,r)=>Om(n,r))&&_i(this.baseMutations,e.baseMutations,(n,r)=>Om(n,r))}}class rd{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ye(e.mutations.length===r.length);let i=f2;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new rd(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De,ne;function I2(t){switch(t){default:return Q();case A.CANCELLED:case A.UNKNOWN:case A.DEADLINE_EXCEEDED:case A.RESOURCE_EXHAUSTED:case A.INTERNAL:case A.UNAVAILABLE:case A.UNAUTHENTICATED:return!1;case A.INVALID_ARGUMENT:case A.NOT_FOUND:case A.ALREADY_EXISTS:case A.PERMISSION_DENIED:case A.FAILED_PRECONDITION:case A.ABORTED:case A.OUT_OF_RANGE:case A.UNIMPLEMENTED:case A.DATA_LOSS:return!0}}function c1(t){if(t===void 0)return Tn("GRPC error has no .code"),A.UNKNOWN;switch(t){case De.OK:return A.OK;case De.CANCELLED:return A.CANCELLED;case De.UNKNOWN:return A.UNKNOWN;case De.DEADLINE_EXCEEDED:return A.DEADLINE_EXCEEDED;case De.RESOURCE_EXHAUSTED:return A.RESOURCE_EXHAUSTED;case De.INTERNAL:return A.INTERNAL;case De.UNAVAILABLE:return A.UNAVAILABLE;case De.UNAUTHENTICATED:return A.UNAUTHENTICATED;case De.INVALID_ARGUMENT:return A.INVALID_ARGUMENT;case De.NOT_FOUND:return A.NOT_FOUND;case De.ALREADY_EXISTS:return A.ALREADY_EXISTS;case De.PERMISSION_DENIED:return A.PERMISSION_DENIED;case De.FAILED_PRECONDITION:return A.FAILED_PRECONDITION;case De.ABORTED:return A.ABORTED;case De.OUT_OF_RANGE:return A.OUT_OF_RANGE;case De.UNIMPLEMENTED:return A.UNIMPLEMENTED;case De.DATA_LOSS:return A.DATA_LOSS;default:return Q()}}(ne=De||(De={}))[ne.OK=0]="OK",ne[ne.CANCELLED=1]="CANCELLED",ne[ne.UNKNOWN=2]="UNKNOWN",ne[ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ne[ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ne[ne.NOT_FOUND=5]="NOT_FOUND",ne[ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",ne[ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",ne[ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",ne[ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ne[ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ne[ne.ABORTED=10]="ABORTED",ne[ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",ne[ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",ne[ne.INTERNAL=13]="INTERNAL",ne[ne.UNAVAILABLE=14]="UNAVAILABLE",ne[ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return cl}static getOrCreateInstance(){return cl===null&&(cl=new id),cl}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let cl=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=new di([4294967295,4294967295],0);function Mm(t){const e=x2().encode(t),n=new N_;return n.update(e),new Uint8Array(n.digest())}function Fm(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new di([n,r],0),new di([i,o],0)]}class od{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new wo(`Invalid padding: ${n}`);if(r<0)throw new wo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new wo(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=di.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(di.fromNumber(r)));return i.compare(N2)===1&&(i=new di([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=Mm(e),[r,i]=Fm(n);for(let o=0;o<this.hashCount;o++){const s=this.Et(r,i,o);if(!this.At(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new od(o,i,n);return r.forEach(l=>s.insert(l)),s}insert(e){if(this.It===0)return;const n=Mm(e),[r,i]=Fm(n);for(let o=0;o<this.hashCount;o++){const s=this.Et(r,i,o);this.Rt(s)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class wo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ms.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new nu(X.min(),i,new ke(ie),An(),ee())}}class Ms{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ms(r,n,ee(),ee(),ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class h1{constructor(e,n){this.targetId=e,this.Vt=n}}class f1{constructor(e,n,r=at.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Bm{constructor(){this.St=0,this.Dt=jm(),this.Ct=at.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ee(),n=ee(),r=ee();return this.Dt.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Q()}}),new Ms(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=jm()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class P2{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=An(),this.zt=Um(),this.Wt=new ke(ie)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:Q()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,o=this.se(r);if(o){const s=o.target;if(wh(s))if(i===0){const l=new j(s.path);this.Yt(r,l,nt.newNoDocument(l,X.min()))}else ye(i===1);else{const l=this.ie(r);if(l!==i){const a=this.re(e,l);if(a!==0){this.ee(r);const u=a===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,u)}(n=id.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(u,c,h){var d,y,S,C,k,v;const f={localCacheCount:c,existenceFilterCount:h.count},p=h.unchangedNames;return p&&(f.bloomFilter={applied:u===0,hashCount:(d=p==null?void 0:p.hashCount)!==null&&d!==void 0?d:0,bitmapLength:(C=(S=(y=p==null?void 0:p.bits)===null||y===void 0?void 0:y.bitmap)===null||S===void 0?void 0:S.length)!==null&&C!==void 0?C:0,padding:(v=(k=p==null?void 0:p.bits)===null||k===void 0?void 0:k.padding)!==null&&v!==void 0?v:0}),f}(a,l,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:o="",padding:s=0},hashCount:l=0}=r;let a,u;try{a=Nr(o).toUint8Array()}catch(c){if(c instanceof V0)return Ti("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw c}try{u=new od(a,s,l)}catch(c){return Ti(c instanceof wo?"BloomFilter error: ":"Applying bloom filter failed: ",c),1}return u.It===0?1:i!==n-this.oe(e.targetId,u)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(o=>{const s=this.Gt.ue(),l=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;n.vt(l)||(this.Yt(e,o,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((o,s)=>{const l=this.se(s);if(l){if(o.current&&wh(l.target)){const a=new j(l.target.path);this.jt.get(a)!==null||this.ae(s,a)||this.Yt(s,a,nt.newNoDocument(a,e))}o.Mt&&(n.set(s,o.Ot()),o.Ft())}});let r=ee();this.zt.forEach((o,s)=>{let l=!0;s.forEachWhile(a=>{const u=this.se(a);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(o))}),this.jt.forEach((o,s)=>s.setReadTime(e));const i=new nu(e,n,this.Wt,this.jt,r);return this.jt=An(),this.zt=Um(),this.Wt=new ke(ie),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new Bm,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new st(ie),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||U("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Bm),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function Um(){return new ke(j.comparator)}function jm(){return new ke(j.comparator)}const D2=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),R2=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),b2=(()=>({and:"AND",or:"OR"}))();class O2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ch(t,e){return t.useProto3Json||Xa(e)?e:{value:e}}function pa(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function d1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function $2(t,e){return pa(t,e.toTimestamp())}function sn(t){return ye(!!t),X.fromTimestamp(function(e){const n=tr(e);return new Fe(n.seconds,n.nanos)}(t))}function sd(t,e){return function(n){return new _e(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function p1(t){const e=_e.fromString(t);return ye(y1(e)),e}function kh(t,e){return sd(t.databaseId,e.path)}function Ju(t,e){const n=p1(e);if(n.get(1)!==t.databaseId.projectId)throw new z(A.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new z(A.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new j(m1(n))}function Th(t,e){return sd(t.databaseId,e)}function L2(t){const e=p1(t);return e.length===4?_e.emptyPath():m1(e)}function _h(t){return new _e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function m1(t){return ye(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Vm(t,e,n){return{name:kh(t,e),fields:n.value.mapValue.fields}}function M2(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(a){return a==="NO_CHANGE"?0:a==="ADD"?1:a==="REMOVE"?2:a==="CURRENT"?3:a==="RESET"?4:Q()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(a,u){return a.useProto3Json?(ye(u===void 0||typeof u=="string"),at.fromBase64String(u||"")):(ye(u===void 0||u instanceof Uint8Array),at.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&function(a){const u=a.code===void 0?A.UNKNOWN:c1(a.code);return new z(u,a.message||"")}(s);n=new f1(r,i,o,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ju(t,r.document.name),o=sn(r.document.updateTime),s=r.document.createTime?sn(r.document.createTime):X.min(),l=new Rt({mapValue:{fields:r.document.fields}}),a=nt.newFoundDocument(i,o,s,l),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Al(u,c,a.key,a)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ju(t,r.document),o=r.readTime?sn(r.readTime):X.min(),s=nt.newNoDocument(i,o),l=r.removedTargetIds||[];n=new Al([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ju(t,r.document),o=r.removedTargetIds||[];n=new Al([],o,i,null)}else{if(!("filter"in e))return Q();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new A2(i,o),l=r.targetId;n=new h1(l,s)}}return n}function F2(t,e){let n;if(e instanceof Ls)n={update:Vm(t,e.key,e.value)};else if(e instanceof u1)n={delete:kh(t,e.key)};else if(e instanceof Lr)n={update:Vm(t,e.key,e.data),updateMask:K2(e.fieldMask)};else{if(!(e instanceof k2))return Q();n={verify:kh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const s=o.transform;if(s instanceof fa)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof ds)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof ps)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof da)return{fieldPath:o.field.canonicalString(),increment:s.gt};throw Q()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:$2(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Q()}(t,e.precondition)),n}function B2(t,e){return t&&t.length>0?(ye(e!==void 0),t.map(n=>function(r,i){let o=r.updateTime?sn(r.updateTime):sn(i);return o.isEqual(X.min())&&(o=sn(i)),new E2(o,r.transformResults||[])}(n,e))):[]}function U2(t,e){return{documents:[Th(t,e.path)]}}function j2(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Th(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Th(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(a){if(a.length!==0)return v1(an.create(a,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(a){if(a.length!==0)return a.map(u=>function(c){return{field:zr(c.field),direction:W2(c.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=Ch(t,e.limit);var l;return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt={before:(l=e.startAt).inclusive,values:l.position}),e.endAt&&(n.structuredQuery.endAt=function(a){return{before:!a.inclusive,values:a.position}}(e.endAt)),n}function V2(t){let e=L2(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ye(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(c){const h=g1(c);return h instanceof an&&q0(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(c=>function(h){return new Do(Wr(h.field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(c)));let l=null;n.limit&&(l=function(c){let h;return h=typeof c=="object"?c.value:c,Xa(h)?null:h}(n.limit));let a=null;n.startAt&&(a=function(c){const h=!!c.before,d=c.values||[];return new ha(d,h)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const h=!c.before,d=c.values||[];return new ha(d,h)}(n.endAt)),o2(e,i,s,o,l,"F",a,u)}function z2(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function g1(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Wr(e.unaryFilter.field);return Le.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Wr(e.unaryFilter.field);return Le.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Wr(e.unaryFilter.field);return Le.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Wr(e.unaryFilter.field);return Le.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Q()}}(t):t.fieldFilter!==void 0?function(e){return Le.create(Wr(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Q()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return an.create(e.compositeFilter.filters.map(n=>g1(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Q()}}(e.compositeFilter.op))}(t):Q()}function W2(t){return D2[t]}function H2(t){return R2[t]}function q2(t){return b2[t]}function zr(t){return{fieldPath:t.canonicalString()}}function Wr(t){return rt.fromServerFormat(t.fieldPath)}function v1(t){return t instanceof Le?function(e){if(e.op==="=="){if(xm(e.value))return{unaryFilter:{field:zr(e.field),op:"IS_NAN"}};if(Im(e.value))return{unaryFilter:{field:zr(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(xm(e.value))return{unaryFilter:{field:zr(e.field),op:"IS_NOT_NAN"}};if(Im(e.value))return{unaryFilter:{field:zr(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zr(e.field),op:H2(e.op),value:e.value}}}(t):t instanceof an?function(e){const n=e.getFilters().map(r=>v1(r));return n.length===1?n[0]:{compositeFilter:{op:q2(e.op),filters:n}}}(t):Q()}function K2(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function y1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,n,r,i,o=X.min(),s=X.min(),l=at.EMPTY_BYTE_STRING,a=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=a}withSequenceNumber(e){return new Fn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e){this.fe=e}}function G2(t){const e=V2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Eh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(){this.rn=new Y2}addToCollectionParentIndex(e,n){return this.rn.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(er.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(er.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}}class Y2{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new st(_e.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new st(_e.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new xi(0)}static Mn(){return new xi(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(){this.changes=new Ui(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&bo(r.mutation,i,Ht.empty(),Fe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ee()){const i=wr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=yo();return o.forEach((l,a)=>{s=s.insert(l,a.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=wr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ee()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,l)=>{n.set(s,l)})})}computeViews(e,n,r,i){let o=An();const s=Ro(),l=Ro();return n.forEach((a,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Lr)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),bo(c.mutation,u,c.mutation.getFieldMask(),Fe.now())):s.set(u.key,Ht.empty())}),this.recalculateAndSaveOverlays(e,o).next(a=>(a.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var h;return l.set(u,new Z2(c,(h=s.get(u))!==null&&h!==void 0?h:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Ro();let i=new ke((s,l)=>s-l),o=ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const l of s)l.keys().forEach(a=>{const u=n.get(a);if(u===null)return;let c=r.get(a)||Ht.empty();c=l.applyToLocalView(u,c),r.set(a,c);const h=(i.get(l.batchId)||ee()).add(a);i=i.insert(l.batchId,h)})}).next(()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const a=l.getNext(),u=a.key,c=a.value,h=e1();c.forEach(d=>{if(!o.has(d)){const y=l1(n.get(d),r.get(d));y!==null&&h.set(d,y),o=o.add(d)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,h))}return x.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return j.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):a2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):x.resolve(wr());let l=-1,a=o;return s.next(u=>x.forEach(u,(c,h)=>(l<h.largestBatchId&&(l=h.largestBatchId),o.get(c)?x.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{a=a.insert(c,d)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,a,u,ee())).next(c=>({batchId:l,changes:Z0(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new j(n)).next(r=>{let i=yo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let o=yo();return this.indexManager.getCollectionParents(e,i).next(s=>x.forEach(s,l=>{const a=function(u,c){return new Ya(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,r).next(u=>{u.forEach((c,h)=>{o=o.insert(c,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(o=>{i.forEach((l,a)=>{const u=a.getKey();o.get(u)===null&&(o=o.insert(u,nt.newInvalidDocument(u)))});let s=yo();return o.forEach((l,a)=>{const u=i.get(l);u!==void 0&&bo(u.mutation,a,Ht.empty(),Fe.now()),Za(n,a)&&(s=s.insert(l,a))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return x.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:sn(r.createTime)}),x.resolve()}getNamedQuery(e,n){return x.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:G2(r.bundledQuery),readTime:sn(r.readTime)}}(n)),x.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(){this.overlays=new ke(j.comparator),this.ls=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){const r=wr();return x.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.we(e,n,o)}),x.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){const i=wr(),o=n.length+1,s=new j(n.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const a=l.getNext().value,u=a.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&a.largestBatchId>r&&i.set(a.getKey(),a)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new ke((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=wr(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const l=wr(),a=o.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((u,c)=>l.set(u,c)),!(l.size()>=i)););return x.resolve(l)}we(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new _2(n,r));let o=this.ls.get(n);o===void 0&&(o=ee(),this.ls.set(n,o)),this.ls.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(){this.fs=new st(Be.ds),this.ws=new st(Be._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Be(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Be(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new j(new _e([])),r=new Be(n,e),i=new Be(n,e+1),o=[];return this.ws.forEachInRange([r,i],s=>{this.ys(s),o.push(s.key)}),o}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new j(new _e([])),r=new Be(n,e),i=new Be(n,e+1);let o=ee();return this.ws.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Be(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Be{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return j.comparator(e.key,n.key)||ie(e.As,n.As)}static _s(e,n){return ie(e.As,n.As)||j.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new st(Be.ds)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new T2(o,n,r,i);this.mutationQueue.push(s);for(const l of i)this.Rs=this.Rs.add(new Be(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return x.resolve(s)}lookupMutationBatch(e,n){return x.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.bs(r),o=i<0?0:i;return x.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Be(n,0),i=new Be(n,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([r,i],s=>{const l=this.Ps(s.As);o.push(l)}),x.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new st(ie);return n.forEach(i=>{const o=new Be(i,0),s=new Be(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,s],l=>{r=r.add(l.As)})}),x.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;j.isDocumentKey(o)||(o=o.child(""));const s=new Be(new j(o),0);let l=new st(ie);return this.Rs.forEachWhile(a=>{const u=a.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(l=l.add(a.As)),!0)},s),x.resolve(this.Vs(l))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ye(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return x.forEach(n.mutations,i=>{const o=new Be(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Be(n,0),i=this.Rs.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e){this.Ds=e,this.docs=new ke(j.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():nt.newInvalidDocument(n))}getEntries(e,n){let r=An();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():nt.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=An();const s=n.path,l=new j(s.child("")),a=this.docs.getIteratorFrom(l);for(;a.hasNext();){const{key:u,value:{document:c}}=a.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||V_(j_(c),r)<=0||(i.has(c.key)||Za(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return x.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Q()}Cs(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new oA(this)}getSize(e){return x.resolve(this.size)}}class oA extends J2{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e){this.persistence=e,this.xs=new Ui(n=>ed(n),td),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this.Ns=0,this.ks=new ld,this.targetCount=0,this.Ms=xi.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),x.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new xi(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.Fn(n),x.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.xs.forEach((s,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.xs.delete(s),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),x.waitFor(o).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),x.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),x.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),x.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e,n){this.$s={},this.overlays={},this.Os=new Xf(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new sA(this),this.indexManager=new X2,this.remoteDocumentCache=function(r){return new iA(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new Q2(n),this.qs=new tA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new nA,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new rA(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){U("MemoryPersistence","Starting transaction:",e);const i=new aA(this.Os.next());return this.referenceDelegate.Us(),r(i).next(o=>this.referenceDelegate.Ks(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gs(e,n){return x.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class aA extends W_{constructor(e){super(),this.currentSequenceNumber=e}}class ad{constructor(e){this.persistence=e,this.Qs=new ld,this.js=null}static zs(e){return new ad(e)}get Ws(){if(this.js)return this.js;throw Q()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),x.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Ws.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Ws,r=>{const i=j.fromPath(r);return this.Hs(e,i).next(o=>{o||n.removeEntry(i,X.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return x.or([()=>x.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=ee(),i=ee();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new ud(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(o=>o||this.Gi(e,n,i,r)).next(o=>o||this.Qi(e,n))}Ki(e,n){if(Rm(n))return x.resolve(null);let r=_n(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Eh(n,null,"F"),r=_n(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=ee(...o);return this.Ui.getDocuments(e,s).next(l=>this.indexManager.getMinOffset(e,r).next(a=>{const u=this.ji(n,l);return this.zi(n,u,s,a.readTime)?this.Ki(e,Eh(n,null,"F")):this.Wi(e,u,n,a)}))})))}Gi(e,n,r,i){return Rm(n)||i.isEqual(X.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(o=>{const s=this.ji(n,o);return this.zi(n,s,r,i)?this.Qi(e,n):(km()<=oe.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Sh(n)),this.Wi(e,s,n,U_(i,-1)))})}ji(e,n){let r=new st(Y0(e));return n.forEach((i,o)=>{Za(e,o)&&(r=r.add(o))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Qi(e,n){return km()<=oe.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",Sh(n)),this.Ui.getDocumentsMatchingQuery(e,n,er.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new ke(ie),this.Yi=new Ui(o=>ed(o),td),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new eA(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function hA(t,e,n,r){return new cA(t,e,n,r)}async function w1(t,e){const n=J(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],l=[];let a=ee();for(const u of i){s.push(u.batchId);for(const c of u.mutations)a=a.add(c.key)}for(const u of o){l.push(u.batchId);for(const c of u.mutations)a=a.add(c.key)}return n.localDocuments.getDocuments(r,a).next(u=>({er:u,removedBatchIds:s,addedBatchIds:l}))})})}function fA(t,e){const n=J(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Zi.newChangeBuffer({trackRemovals:!0});return function(s,l,a,u){const c=a.batch,h=c.keys();let d=x.resolve();return h.forEach(y=>{d=d.next(()=>u.getEntry(l,y)).next(S=>{const C=a.docVersions.get(y);ye(C!==null),S.version.compareTo(C)<0&&(c.applyToRemoteDocument(S,a),S.isValidDocument()&&(S.setReadTime(a.commitVersion),u.addEntry(S)))})}),d.next(()=>s.mutationQueue.removeMutationBatch(l,c))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let l=ee();for(let a=0;a<s.mutationResults.length;++a)s.mutationResults[a].transformResults.length>0&&(l=l.add(s.batch.mutations[a].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function E1(t){const e=J(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function dA(t,e){const n=J(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const l=[];e.targetChanges.forEach((c,h)=>{const d=i.get(h);if(!d)return;l.push(n.Bs.removeMatchingKeys(o,c.removedDocuments,h).next(()=>n.Bs.addMatchingKeys(o,c.addedDocuments,h)));let y=d.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?y=y.withResumeToken(at.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):c.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(c.resumeToken,r)),i=i.insert(h,y),function(S,C,k){return S.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(d,y,c)&&l.push(n.Bs.updateTargetData(o,y))});let a=An(),u=ee();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),l.push(pA(o,s,e.documentUpdates).next(c=>{a=c.nr,u=c.sr})),!r.isEqual(X.min())){const c=n.Bs.getLastRemoteSnapshotVersion(o).next(h=>n.Bs.setTargetsMetadata(o,o.currentSequenceNumber,r));l.push(c)}return x.waitFor(l).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,a,u)).next(()=>a)}).then(o=>(n.Ji=i,o))}function pA(t,e,n){let r=ee(),i=ee();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=An();return n.forEach((l,a)=>{const u=o.get(l);a.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(l)),a.isNoDocument()&&a.version.isEqual(X.min())?(e.removeEntry(l,a.readTime),s=s.insert(l,a)):!u.isValidDocument()||a.version.compareTo(u.version)>0||a.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(a),s=s.insert(l,a)):U("LocalStore","Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",a.version)}),{nr:s,sr:i}})}function mA(t,e){const n=J(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function gA(t,e){const n=J(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(o=>o?(i=o,x.resolve(i)):n.Bs.allocateTargetId(r).next(s=>(i=new Fn(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function Ah(t,e,n){const r=J(t),i=r.Ji.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!$s(s))throw s;U("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function zm(t,e,n){const r=J(t);let i=X.min(),o=ee();return r.persistence.runTransaction("Execute query","readonly",s=>function(l,a,u){const c=J(l),h=c.Yi.get(u);return h!==void 0?x.resolve(c.Ji.get(h)):c.Bs.getTargetData(a,u)}(r,s,_n(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(s,l.targetId).next(a=>{o=a})}).next(()=>r.Hi.getDocumentsMatchingQuery(s,e,n?i:X.min(),n?o:ee())).next(l=>(vA(r,u2(e),l),{documents:l,ir:o})))}function vA(t,e,n){let r=t.Xi.get(e)||X.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Xi.set(e,r)}class Wm{constructor(){this.activeTargetIds=m2()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yA{constructor(){this.Hr=new Wm,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Wm,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){U("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){U("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hl=null;function Zu(){return hl===null?hl=268435456+Math.round(2147483648*Math.random()):hl++,"0x"+hl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ze="WebChannelConnection";class CA extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,o){const s=Zu(),l=this.To(e,n);U("RestConnection",`Sending RPC '${e}' ${s}:`,l,r);const a={};return this.Eo(a,i,o),this.Ao(e,l,a,r).then(u=>(U("RestConnection",`Received RPC '${e}' ${s}: `,u),u),u=>{throw Ti("RestConnection",`RPC '${e}' ${s} failed with error: `,u,"url: ",l,"request:",r),u})}vo(e,n,r,i,o,s){return this.Io(e,n,r,i,o)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Fi,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}To(e,n){const r=EA[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const o=Zu();return new Promise((s,l)=>{const a=new x_;a.setWithCredentials(!0),a.listenOnce(__.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Yu.NO_ERROR:const c=a.getResponseJson();U(Ze,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case Yu.TIMEOUT:U(Ze,`RPC '${e}' ${o} timed out`),l(new z(A.DEADLINE_EXCEEDED,"Request time out"));break;case Yu.HTTP_ERROR:const h=a.getStatus();if(U(Ze,`RPC '${e}' ${o} failed with status:`,h,"response text:",a.getResponseText()),h>0){let d=a.getResponseJson();Array.isArray(d)&&(d=d[0]);const y=d==null?void 0:d.error;if(y&&y.status&&y.message){const S=function(C){const k=C.toLowerCase().replace(/_/g,"-");return Object.values(A).indexOf(k)>=0?k:A.UNKNOWN}(y.status);l(new z(S,y.message))}else l(new z(A.UNKNOWN,"Server responded with status "+a.getStatus()))}else l(new z(A.UNAVAILABLE,"Connection failed."));break;default:Q()}}finally{U(Ze,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);U(Ze,`RPC '${e}' ${o} sending request:`,i),a.send(n,"POST",u,r,15)})}Ro(e,n,r){const i=Zu(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=k_(),l=T_(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(a.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(a.xmlHttpFactory=new I_({})),this.Eo(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const c=o.join("");U(Ze,`Creating RPC '${e}' stream ${i}: ${c}`,a);const h=s.createWebChannel(c,a);let d=!1,y=!1;const S=new SA({ro:k=>{y?U(Ze,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(d||(U(Ze,`Opening RPC '${e}' stream ${i} transport.`),h.open(),d=!0),U(Ze,`RPC '${e}' stream ${i} sending:`,k),h.send(k))},oo:()=>h.close()}),C=(k,v,f)=>{k.listen(v,p=>{try{f(p)}catch(E){setTimeout(()=>{throw E},0)}})};return C(h,ll.EventType.OPEN,()=>{y||U(Ze,`RPC '${e}' stream ${i} transport opened.`)}),C(h,ll.EventType.CLOSE,()=>{y||(y=!0,U(Ze,`RPC '${e}' stream ${i} transport closed`),S.wo())}),C(h,ll.EventType.ERROR,k=>{y||(y=!0,Ti(Ze,`RPC '${e}' stream ${i} transport errored:`,k),S.wo(new z(A.UNAVAILABLE,"The operation could not be completed")))}),C(h,ll.EventType.MESSAGE,k=>{var v;if(!y){const f=k.data[0];ye(!!f);const p=f,E=p.error||((v=p[0])===null||v===void 0?void 0:v.error);if(E){U(Ze,`RPC '${e}' stream ${i} received error:`,E);const T=E.status;let P=function(M){const ue=De[M];if(ue!==void 0)return c1(ue)}(T),b=E.message;P===void 0&&(P=A.INTERNAL,b="Unknown error status: "+T+" with message "+E.message),y=!0,S.wo(new z(P,b)),h.close()}else U(Ze,`RPC '${e}' stream ${i} received:`,f),S._o(f)}}),C(l,A_.STAT_EVENT,k=>{k.stat===Sm.PROXY?U(Ze,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===Sm.NOPROXY&&U(Ze,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.fo()},0),S}}function ec(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(t){return new O2(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,n,r,i,o,s,l,a){this.ii=e,this.$o=r,this.Oo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=a,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new S1(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===A.RESOURCE_EXHAUSTED?(Tn(n.toString()),Tn("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===A.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new z(A.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return U("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(U("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kA extends C1{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=M2(this.serializer,e),r=function(i){if(!("targetChange"in i))return X.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?X.min():o.readTime?sn(o.readTime):X.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=_h(this.serializer),n.addTarget=function(i,o){let s;const l=o.target;if(s=wh(l)?{documents:U2(i,l)}:{query:j2(i,l)},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=d1(i,o.resumeToken);const a=Ch(i,o.expectedCount);a!==null&&(s.expectedCount=a)}else if(o.snapshotVersion.compareTo(X.min())>0){s.readTime=pa(i,o.snapshotVersion.toTimestamp());const a=Ch(i,o.expectedCount);a!==null&&(s.expectedCount=a)}return s}(this.serializer,e);const r=z2(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=_h(this.serializer),n.removeTarget=e,this.Wo(n)}}class TA extends C1{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=B2(e.writeResults,e.commitTime),r=sn(e.commitTime);return this.listener.cu(r,n)}return ye(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=_h(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>F2(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new z(A.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Io(e,n,r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new z(A.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.vo(e,n,r,o,s,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new z(A.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class AA{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Tn(n),this.mu=!1):U("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(s=>{r.enqueueAndForget(async()=>{Mr(this)&&(U("RemoteStore","Restarting streams for network reachability change."),await async function(l){const a=J(l);a.vu.add(4),await Fs(a),a.bu.set("Unknown"),a.vu.delete(4),await iu(a)}(this))})}),this.bu=new AA(r,i)}}async function iu(t){if(Mr(t))for(const e of t.Ru)await e(!0)}async function Fs(t){for(const e of t.Ru)await e(!1)}function k1(t,e){const n=J(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),fd(n)?hd(n):ji(n).Ko()&&cd(n,e))}function T1(t,e){const n=J(t),r=ji(n);n.Au.delete(e),r.Ko()&&_1(n,e),n.Au.size===0&&(r.Ko()?r.jo():Mr(n)&&n.bu.set("Unknown"))}function cd(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(X.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ji(t).su(e)}function _1(t,e){t.Vu.qt(e),ji(t).iu(e)}function hd(t){t.Vu=new P2({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),ji(t).start(),t.bu.gu()}function fd(t){return Mr(t)&&!ji(t).Uo()&&t.Au.size>0}function Mr(t){return J(t).vu.size===0}function A1(t){t.Vu=void 0}async function xA(t){t.Au.forEach((e,n)=>{cd(t,e)})}async function NA(t,e){A1(t),fd(t)?(t.bu.Iu(e),hd(t)):t.bu.set("Unknown")}async function PA(t,e,n){if(t.bu.set("Online"),e instanceof f1&&e.state===2&&e.cause)try{await async function(r,i){const o=i.cause;for(const s of i.targetIds)r.Au.has(s)&&(await r.remoteSyncer.rejectListen(s,o),r.Au.delete(s),r.Vu.removeTarget(s))}(t,e)}catch(r){U("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ma(t,r)}else if(e instanceof Al?t.Vu.Ht(e):e instanceof h1?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(X.min()))try{const r=await E1(t.localStore);n.compareTo(r)>=0&&await function(i,o){const s=i.Vu.ce(o);return s.targetChanges.forEach((l,a)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.Au.get(a);u&&i.Au.set(a,u.withResumeToken(l.resumeToken,o))}}),s.targetMismatches.forEach((l,a)=>{const u=i.Au.get(l);if(!u)return;i.Au.set(l,u.withResumeToken(at.EMPTY_BYTE_STRING,u.snapshotVersion)),_1(i,l);const c=new Fn(u.target,l,a,u.sequenceNumber);cd(i,c)}),i.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){U("RemoteStore","Failed to raise snapshot:",r),await ma(t,r)}}async function ma(t,e,n){if(!$s(e))throw e;t.vu.add(1),await Fs(t),t.bu.set("Offline"),n||(n=()=>E1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{U("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await iu(t)})}function I1(t,e){return e().catch(n=>ma(t,n,e))}async function ou(t){const e=J(t),n=nr(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;DA(e);)try{const i=await mA(e.localStore,r);if(i===null){e.Eu.length===0&&n.jo();break}r=i.batchId,RA(e,i)}catch(i){await ma(e,i)}x1(e)&&N1(e)}function DA(t){return Mr(t)&&t.Eu.length<10}function RA(t,e){t.Eu.push(e);const n=nr(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function x1(t){return Mr(t)&&!nr(t).Uo()&&t.Eu.length>0}function N1(t){nr(t).start()}async function bA(t){nr(t).hu()}async function OA(t){const e=nr(t);for(const n of t.Eu)e.uu(n.mutations)}async function $A(t,e,n){const r=t.Eu.shift(),i=rd.from(r,e,n);await I1(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ou(t)}async function LA(t,e){e&&nr(t).ou&&await async function(n,r){if(i=r.code,I2(i)&&i!==A.ABORTED){const o=n.Eu.shift();nr(n).Qo(),await I1(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,r)),await ou(n)}var i}(t,e),x1(t)&&N1(t)}async function qm(t,e){const n=J(t);n.asyncQueue.verifyOperationInProgress(),U("RemoteStore","RemoteStore received new credentials");const r=Mr(n);n.vu.add(3),await Fs(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await iu(n)}async function MA(t,e){const n=J(t);e?(n.vu.delete(2),await iu(n)):e||(n.vu.add(2),await Fs(n),n.bu.set("Unknown"))}function ji(t){return t.Su||(t.Su=function(e,n,r){const i=J(e);return i.fu(),new kA(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:xA.bind(null,t),ao:NA.bind(null,t),nu:PA.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),fd(t)?hd(t):t.bu.set("Unknown")):(await t.Su.stop(),A1(t))})),t.Su}function nr(t){return t.Du||(t.Du=function(e,n,r){const i=J(e);return i.fu(),new TA(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:bA.bind(null,t),ao:LA.bind(null,t),au:OA.bind(null,t),cu:$A.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await ou(t)):(await t.Du.stop(),t.Eu.length>0&&(U("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Xn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,l=new dd(e,n,s,i,o);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new z(A.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pd(t,e){if(Tn("AsyncQueue",`${e}: ${t}`),$s(t))return new z(A.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this.comparator=e?(n,r)=>e(n,r)||j.comparator(n.key,r.key):(n,r)=>j.comparator(n.key,r.key),this.keyedMap=yo(),this.sortedSet=new ke(this.comparator)}static emptySet(e){return new mi(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof mi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new mi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(){this.Cu=new ke(j.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):Q():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ni{constructor(e,n,r,i,o,s,l,a,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=a,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(l=>{s.push({type:0,doc:l})}),new Ni(e,n,mi.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ja(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(){this.Nu=void 0,this.listeners=[]}}class BA{constructor(){this.queries=new Ui(e=>X0(e),Ja),this.onlineState="Unknown",this.ku=new Set}}async function UA(t,e){const n=J(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new FA),i)try{o.Nu=await n.onListen(r)}catch(s){const l=pd(s,`Initialization of query '${Sh(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,o),o.listeners.push(e),e.Mu(n.onlineState),o.Nu&&e.$u(o.Nu)&&md(n)}async function jA(t,e){const n=J(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=o.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function VA(t,e){const n=J(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const l of s.listeners)l.$u(i)&&(r=!0);s.Nu=i}}r&&md(n)}function zA(t,e,n){const r=J(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function md(t){t.ku.forEach(e=>{e.next()})}class WA{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ni(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=Ni.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e){this.key=e}}class D1{constructor(e){this.key=e}}class HA{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ee(),this.mutatedKeys=ee(),this.tc=Y0(e),this.ec=new mi(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new Km,i=n?n.ec:this.ec;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,l=!1;const a=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const d=i.get(c),y=Za(this.query,h)?h:null,S=!!d&&this.mutatedKeys.has(d.key),C=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let k=!1;d&&y?d.data.isEqual(y.data)?S!==C&&(r.track({type:3,doc:y}),k=!0):this.rc(d,y)||(r.track({type:2,doc:y}),k=!0,(a&&this.tc(y,a)>0||u&&this.tc(y,u)<0)&&(l=!0)):!d&&y?(r.track({type:0,doc:y}),k=!0):d&&!y&&(r.track({type:1,doc:d}),k=!0,(a||u)&&(l=!0)),k&&(y?(s=s.add(y),o=C?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{ec:s,ic:r,zi:l,mutatedKeys:o}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const o=e.ic.xu();o.sort((u,c)=>function(h,d){const y=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q()}};return y(h)-y(d)}(u.type,c.type)||this.tc(u.doc,c.doc)),this.oc(r);const s=n?this.uc():[],l=this.Zu.size===0&&this.current?1:0,a=l!==this.Xu;return this.Xu=l,o.length!==0||a?{snapshot:new Ni(this.query,e.ec,i,o,e.mutatedKeys,l===0,a,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Km,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ee(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new D1(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new P1(r))}),n}hc(e){this.Yu=e.ir,this.Zu=ee();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Ni.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class qA{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class KA{constructor(e){this.key=e,this.fc=!1}}class QA{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new Ui(l=>X0(l),Ja),this._c=new Map,this.mc=new Set,this.gc=new ke(j.comparator),this.yc=new Map,this.Ic=new ld,this.Tc={},this.Ec=new Map,this.Ac=xi.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function GA(t,e){const n=oI(t);let r,i;const o=n.wc.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.lc();else{const s=await gA(n.localStore,_n(e)),l=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=await XA(n,e,r,l==="current",s.resumeToken),n.isPrimaryClient&&k1(n.remoteStore,s)}return i}async function XA(t,e,n,r,i){t.Rc=(h,d,y)=>async function(S,C,k,v){let f=C.view.sc(k);f.zi&&(f=await zm(S.localStore,C.query,!1).then(({documents:T})=>C.view.sc(T,f)));const p=v&&v.targetChanges.get(C.targetId),E=C.view.applyChanges(f,S.isPrimaryClient,p);return Gm(S,C.targetId,E.cc),E.snapshot}(t,h,d,y);const o=await zm(t.localStore,e,!0),s=new HA(e,o.ir),l=s.sc(o.documents),a=Ms.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(l,t.isPrimaryClient,a);Gm(t,n,u.cc);const c=new qA(e,n,s);return t.wc.set(e,c),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),u.snapshot}async function YA(t,e){const n=J(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(o=>!Ja(o,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Ah(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),T1(n.remoteStore,r.targetId),Ih(n,r.targetId)}).catch(Os)):(Ih(n,r.targetId),await Ah(n.localStore,r.targetId,!0))}async function JA(t,e,n){const r=sI(t);try{const i=await function(o,s){const l=J(o),a=Fe.now(),u=s.reduce((d,y)=>d.add(y.key),ee());let c,h;return l.persistence.runTransaction("Locally write mutations","readwrite",d=>{let y=An(),S=ee();return l.Zi.getEntries(d,u).next(C=>{y=C,y.forEach((k,v)=>{v.isValidDocument()||(S=S.add(k))})}).next(()=>l.localDocuments.getOverlayedDocuments(d,y)).next(C=>{c=C;const k=[];for(const v of s){const f=C2(v,c.get(v.key).overlayedDocument);f!=null&&k.push(new Lr(v.key,f,z0(f.value.mapValue),yn.exists(!0)))}return l.mutationQueue.addMutationBatch(d,a,k,s)}).next(C=>{h=C;const k=C.applyToLocalDocumentSet(c,S);return l.documentOverlayCache.saveOverlays(d,C.batchId,k)})}).then(()=>({batchId:h.batchId,changes:Z0(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,l){let a=o.Tc[o.currentUser.toKey()];a||(a=new ke(ie)),a=a.insert(s,l),o.Tc[o.currentUser.toKey()]=a}(r,i.batchId,n),await Bs(r,i.changes),await ou(r.remoteStore)}catch(i){const o=pd(i,"Failed to persist write");n.reject(o)}}async function R1(t,e){const n=J(t);try{const r=await dA(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.yc.get(o);s&&(ye(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.fc=!0:i.modifiedDocuments.size>0?ye(s.fc):i.removedDocuments.size>0&&(ye(s.fc),s.fc=!1))}),await Bs(n,r,e)}catch(r){await Os(r)}}function Qm(t,e,n){const r=J(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wc.forEach((o,s)=>{const l=s.view.Mu(e);l.snapshot&&i.push(l.snapshot)}),function(o,s){const l=J(o);l.onlineState=s;let a=!1;l.queries.forEach((u,c)=>{for(const h of c.listeners)h.Mu(s)&&(a=!0)}),a&&md(l)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ZA(t,e,n){const r=J(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),o=i&&i.key;if(o){let s=new ke(j.comparator);s=s.insert(o,nt.newNoDocument(o,X.min()));const l=ee().add(o),a=new nu(X.min(),new Map,new ke(ie),s,l);await R1(r,a),r.gc=r.gc.remove(o),r.yc.delete(e),gd(r)}else await Ah(r.localStore,e,!1).then(()=>Ih(r,e,n)).catch(Os)}async function eI(t,e){const n=J(t),r=e.batch.batchId;try{const i=await fA(n.localStore,e);O1(n,r,null),b1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Bs(n,i)}catch(i){await Os(i)}}async function tI(t,e,n){const r=J(t);try{const i=await function(o,s){const l=J(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",a=>{let u;return l.mutationQueue.lookupMutationBatch(a,s).next(c=>(ye(c!==null),u=c.keys(),l.mutationQueue.removeMutationBatch(a,c))).next(()=>l.mutationQueue.performConsistencyCheck(a)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(a,u,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,u)).next(()=>l.localDocuments.getDocuments(a,u))})}(r.localStore,e);O1(r,e,n),b1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Bs(r,i)}catch(i){await Os(i)}}function b1(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function O1(t,e,n){const r=J(t);let i=r.Tc[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Ih(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||$1(t,r)})}function $1(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(T1(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),gd(t))}function Gm(t,e,n){for(const r of n)r instanceof P1?(t.Ic.addReference(r.key,e),nI(t,r)):r instanceof D1?(U("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||$1(t,r.key)):Q()}function nI(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(U("SyncEngine","New document in limbo: "+n),t.mc.add(r),gd(t))}function gd(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new j(_e.fromString(e)),r=t.Ac.next();t.yc.set(r,new KA(n)),t.gc=t.gc.insert(n,r),k1(t.remoteStore,new Fn(_n(nd(n.path)),r,"TargetPurposeLimboResolution",Xf.ct))}}async function Bs(t,e,n){const r=J(t),i=[],o=[],s=[];r.wc.isEmpty()||(r.wc.forEach((l,a)=>{s.push(r.Rc(a,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=ud.Li(a.targetId,u);o.push(c)}}))}),await Promise.all(s),r.dc.nu(i),await async function(l,a){const u=J(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>x.forEach(a,h=>x.forEach(h.Fi,d=>u.persistence.referenceDelegate.addReference(c,h.targetId,d)).next(()=>x.forEach(h.Bi,d=>u.persistence.referenceDelegate.removeReference(c,h.targetId,d)))))}catch(c){if(!$s(c))throw c;U("LocalStore","Failed to update sequence numbers: "+c)}for(const c of a){const h=c.targetId;if(!c.fromCache){const d=u.Ji.get(h),y=d.snapshotVersion,S=d.withLastLimboFreeSnapshotVersion(y);u.Ji=u.Ji.insert(h,S)}}}(r.localStore,o))}async function rI(t,e){const n=J(t);if(!n.currentUser.isEqual(e)){U("SyncEngine","User change. New user:",e.toKey());const r=await w1(n.localStore,e);n.currentUser=e,function(i,o){i.Ec.forEach(s=>{s.forEach(l=>{l.reject(new z(A.CANCELLED,o))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Bs(n,r.er)}}function iI(t,e){const n=J(t),r=n.yc.get(e);if(r&&r.fc)return ee().add(r.key);{let i=ee();const o=n._c.get(e);if(!o)return i;for(const s of o){const l=n.wc.get(s);i=i.unionWith(l.view.nc)}return i}}function oI(t){const e=J(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=R1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZA.bind(null,e),e.dc.nu=VA.bind(null,e.eventManager),e.dc.Pc=zA.bind(null,e.eventManager),e}function sI(t){const e=J(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tI.bind(null,e),e}class Xm{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=ru(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return hA(this.persistence,new uA,e.initialUser,this.serializer)}createPersistence(e){return new lA(ad.zs,this.serializer)}createSharedClientState(e){return new yA}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class lI{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Qm(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=rI.bind(null,this.syncEngine),await MA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new BA}createDatastore(e){const n=ru(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new CA(i));var i;return function(o,s,l,a){return new _A(o,s,l,a)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,o=l=>Qm(this.syncEngine,l,0),s=Hm.D()?new Hm:new wA,new IA(n,r,i,o,s);var n,r,i,o,s}createSyncEngine(e,n){return function(r,i,o,s,l,a,u){const c=new QA(r,i,o,s,l,a);return u&&(c.vc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=J(e);U("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await Fs(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Tn("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=et.UNAUTHENTICATED,this.clientId=U0.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{U("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(U("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new z(A.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=pd(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function tc(t,e){t.asyncQueue.verifyOperationInProgress(),U("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await w1(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Ym(t,e){t.asyncQueue.verifyOperationInProgress();const n=await hI(t);U("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>qm(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>qm(e.remoteStore,o)),t._onlineComponents=e}function cI(t){return t.name==="FirebaseError"?t.code===A.FAILED_PRECONDITION||t.code===A.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function hI(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){U("FirestoreClient","Using user provided OfflineComponentProvider");try{await tc(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!cI(n))throw n;Ti("Error using user provided cache. Falling back to memory cache: "+n),await tc(t,new Xm)}}else U("FirestoreClient","Using default OfflineComponentProvider"),await tc(t,new Xm);return t._offlineComponents}async function L1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(U("FirestoreClient","Using user provided OnlineComponentProvider"),await Ym(t,t._uninitializedComponentsProvider._online)):(U("FirestoreClient","Using default OnlineComponentProvider"),await Ym(t,new lI))),t._onlineComponents}function fI(t){return L1(t).then(e=>e.syncEngine)}async function dI(t){const e=await L1(t),n=e.eventManager;return n.onListen=GA.bind(null,e.syncEngine),n.onUnlisten=YA.bind(null,e.syncEngine),n}function pI(t,e,n={}){const r=new Xn;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,s,l,a){const u=new aI({next:h=>{o.enqueueAndForget(()=>jA(i,c));const d=h.docs.has(s);!d&&h.fromCache?a.reject(new z(A.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&h.fromCache&&l&&l.source==="server"?a.reject(new z(A.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):a.resolve(h)},error:h=>a.reject(h)}),c=new WA(nd(s.path),u,{includeMetadataChanges:!0,Ku:!0});return UA(i,c)}(await dI(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(t,e,n){if(!n)throw new z(A.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function gI(t,e,n,r){if(e===!0&&r===!0)throw new z(A.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Zm(t){if(!j.isDocumentKey(t))throw new z(A.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function vd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Q()}function ms(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new z(A.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vd(t);throw new z(A.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new z(A.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new z(A.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=M1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new z(A.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new z(A.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new z(A.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class yd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new z(A.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new z(A.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eg(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new D_;switch(n.type){case"firstParty":return new $_(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new z(A.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Jm.get(e);n&&(U("ComponentProvider","Removing Datastore"),Jm.delete(e),n.terminate())}(this),Promise.resolve()}}function vI(t,e,n,r={}){var i;const o=(t=ms(t,yd))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Ti("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let l,a;if(typeof r.mockUserToken=="string")l=r.mockUserToken,a=et.MOCK_USER;else{l=uk(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new z(A.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new et(u)}t._authCredentials=new R_(new B0(l,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $t(this.firestore,e,this._key)}}class wd{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new wd(this.firestore,e,this._query)}}class gs extends wd{constructor(e,n,r){super(e,n,nd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $t(this.firestore,null,new j(e))}withConverter(e){return new gs(this.firestore,e,this._path)}}function tg(t,e,...n){if(t=ea(t),arguments.length===1&&(e=U0.A()),mI("doc","path",e),t instanceof yd){const r=_e.fromString(e,...n);return Zm(r),new $t(t,null,new j(r))}{if(!(t instanceof $t||t instanceof gs))throw new z(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_e.fromString(e,...n));return Zm(r),new $t(t.firestore,t instanceof gs?t.converter:null,new j(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new S1(this,"async_queue_retry"),this.Xc=()=>{const n=ec();n&&U("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=ec();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=ec();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Xn;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!$s(e))throw e;U("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const i=function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}(r);throw Tn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=dd.createAndSchedule(this,e,n,r,o=>this.na(o));return this.zc.push(i),i}Zc(){this.Wc&&Q()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class Ed extends yd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new yI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||B1(this),this._firestoreClient.terminate()}}function wI(t,e){const n=typeof t=="object"?t:dT(),r=typeof t=="string"?t:e||"(default)",i=uT(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=lk("firestore");o&&vI(i,...o)}return i}function F1(t){return t._firestoreClient||B1(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function B1(t){var e,n,r;const i=t._freezeSettings(),o=function(s,l,a,u){return new K_(s,l,a,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,M1(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new uI(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pi(at.fromBase64String(e))}catch(n){throw new z(A.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Pi(at.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new z(A.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new z(A.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new z(A.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ie(this._lat,e._lat)||ie(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI=/^__.*__$/;class SI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Lr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ls(e,this.data,n,this.fieldTransforms)}}function j1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q()}}class kd{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new kd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return ga(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(j1(this.ca)&&EI.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class CI{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ru(e)}ya(e,n,r,i=!1){return new kd({ca:e,methodName:n,ga:r,path:rt.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kI(t){const e=t._freezeSettings(),n=ru(t._databaseId);return new CI(t._databaseId,!!e.ignoreUndefinedProperties,n)}function TI(t,e,n,r,i,o={}){const s=t.ya(o.merge||o.mergeFields?2:0,e,n,i);H1("Data must be an object, but it was:",s,r);const l=z1(r,s);let a,u;if(o.merge)a=new Ht(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const h of o.mergeFields){const d=_I(e,h,n);if(!s.contains(d))throw new z(A.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);II(c,d)||c.push(d)}a=new Ht(c),u=s.fieldTransforms.filter(h=>a.covers(h.field))}else a=null,u=s.fieldTransforms;return new SI(new Rt(l),a,u)}function V1(t,e){if(W1(t=ea(t)))return H1("Unsupported field value:",e,t),z1(t,e);if(t instanceof U1)return function(n,r){if(!j1(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let o=0;for(const s of n){let l=V1(s,r.wa(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=ea(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return g2(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Fe.fromDate(n);return{timestampValue:pa(r.serializer,i)}}if(n instanceof Fe){const i=new Fe(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:pa(r.serializer,i)}}if(n instanceof Cd)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Pi)return{bytesValue:d1(r.serializer,n._byteString)};if(n instanceof $t){const i=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw r._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:sd(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${vd(n)}`)}(t,e)}function z1(t,e){const n={};return j0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bi(t,(r,i)=>{const o=V1(i,e.ha(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function W1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Fe||t instanceof Cd||t instanceof Pi||t instanceof $t||t instanceof U1)}function H1(t,e,n){if(!W1(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=vd(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function _I(t,e,n){if((e=ea(e))instanceof Sd)return e._internalPath;if(typeof e=="string")return q1(t,e);throw ga("Field path arguments must be of type string or ",t,!1,void 0,n)}const AI=new RegExp("[~\\*/\\[\\]]");function q1(t,e,n){if(e.search(AI)>=0)throw ga(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Sd(...e.split("."))._internalPath}catch{throw ga(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ga(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let a="";return(o||s)&&(a+=" (found",o&&(a+=` in field ${r}`),s&&(a+=` in document ${i}`),a+=")"),new z(A.INVALID_ARGUMENT,l+t+a)}function II(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new $t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Q1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class xI extends K1{data(){return super.data()}}function Q1(t,e){return typeof e=="string"?q1(t,e):e instanceof Sd?e._internalPath:e._delegate._internalPath}class NI{convertValue(e,n="none"){switch(Pr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Re(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Nr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Q()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Bi(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new Cd(Re(e.latitude),Re(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Jf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(cs(e));default:return null}}convertTimestamp(e){const n=tr(e);return new Fe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=_e.fromString(e);ye(y1(r));const i=new hs(r.get(1),r.get(3)),o=new j(r.popFirst(5));return i.isEqual(n)||Tn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class G1 extends K1{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new RI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Q1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class RI extends G1{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(t){t=ms(t,$t);const e=ms(t.firestore,Ed);return pI(F1(e),t._key).then(n=>MI(e,t,n))}class OI extends NI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new $t(this.firestore,null,n)}}function $I(t,e,n){t=ms(t,$t);const r=ms(t.firestore,Ed),i=PI(t.converter,e,n);return LI(r,[TI(kI(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,yn.none())])}function LI(t,e){return function(n,r){const i=new Xn;return n.asyncQueue.enqueueAndForget(async()=>JA(await fI(n),r,i)),i.promise}(F1(t),e)}function MI(t,e,n){const r=n.docs.get(e._key),i=new OI(t);return new G1(t,i,e._key,r,new DI(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){Fi=n})(fT),na(new Zo("firestore",(n,{instanceIdentifier:r,options:i})=>{const o=n.getProvider("app").getImmediate(),s=new Ed(new b_(n.getProvider("auth-internal")),new M_(n.getProvider("app-check-internal")),function(l,a){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new z(A.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hs(l.options.projectId,a)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),hi(Cm,"3.13.0",t),hi(Cm,"3.13.0","esm2017")})();var FI="firebase",BI="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hi(FI,BI,"app");const X1={apiKey:"your_api_key",authDomain:"your_auth_domain",projectId:"your_project_id",storageBucket:"your_storage_bucket",messagingSenderId:"your_messaging_sender_id",appId:"your_app_id"},UI=Af(X1),ng=wI(UI);P_("debug");const vs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKgAAACoCAYAAAB0S6W0AAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA7kSURBVHgB7Z1NbFzVFcfPfTODWuHEQ2wKlXAy0EVB4HhcqRuKxHiDVLqw3RWIOo43ZdMqyaJsWsn2ohu6IKgsyspOTEV2sRe0UlnEkRpWFZ44QRSJkiGpVCAfTGwH2njeu73nzTz7efxm5s2b93HvfecnjWJPPNFE8/f/3HPOvecyIFpSuHY+f++bbwpgmkWTQ95gxhEOVh6AFQB4wf2jLf6JKj4YY1XOG18DqwA373JmlBmDal9fX7ny+GQVCE8YEDYPf/TnIgqRgzHCgRfBfkAe4kEIlJWFeMviF+CykcmUbz79ShmI9Ap08MpSybJ4UbjbeMxi9IstWs75imGw8q3hqVVIIakRqB2uNzcnLIDnxbcTIJ8gO4GCXRW/TCu5XG71i6derkAK0FqgKMqNjc3jDZcsgVbYYj2ju1i1FCiGb5GUzEoauiPAWERnvX10ahk0QxuB2m65tXWCcX4SUiFKTyriMa+Tqyov0PzaQjGbyU2L7Pc4pFeYHhiLuVxmXnWhKitQVxgvAdEGtYWqnEAf/fjdwvZ2bYGE2S1qClUZgdprzM3NWfGGTwLRA2oJVXqBUvITCVXO2Ok7w1PzIDlSC7S+zuQinLfsdRO9URE14hmZu1RSCpTCedzIG/alEyi5ZmJUxGP+9tFjiyAR0giUXFMOGBin+w48OC/LFkApBFovHW1fAHJNWaiIbtSYDCHfgIQ5dGXphBDnGpA4ZQINY+3Q5bOJR7NEHfTQ+tk3KKTLjShHzSVZjkpEoLje3NzcOk/dIDUQpahyNpudTCLkxy5QWm8qSyLr0ljXoHjuh8SpLLax2Ge3YiQ2B8X/mGWaKE5qV6pN1chkxuI61BeLgw5cfWdaiBMzdRKn+uTxs8TPFGIgcge1/yOWtQiEfhjG8dvP/OIMREikAiVxpoCIRRqZQBtrzjUgtEesSUejWpNGsgZ1JURECsDPOqrsPnSBYp1TvGFRhKeEKEVg4nQeP3sImVAFSkX4VGN/9tglhBAJVaC1Wg2dswBEWinUW9jhEZpAB68szXLOY+0yEDLCS4Pr77wBIRFKFo9b5hjnp0Fjfv/9H8OL/UP7nv/71hfw639/0PJ1hx/og5UnXvD8u6nKBbj6369BRziHU3dGjvWsiSz0SGPdOQea05/JwVDuwX3PH/Z4rpmhFj/Tn3kAdIUxmBXaWO51c0lPIR4XxI2kiDJ2opl8GElTTwLFM0RASRHRmsLW5r1Z6IHAAh1YP3ucdsMTneBgncSTuhCQQAJtFGR7+s0g0gMeIw8a6gMJdHvbpNBOdEPgUN+1QOt2bc/iJAjfBA31XQu0MfWDILomSKjvSqDYLQIK7URwChsbG10l1r47SY2CvJLHNv742LN2R6cXnvnOQ56F9bvm/bbdIHwNvtaLc1//y37t9ftb9kPXrlIT1QMHDjzud7SO705SIzFSsiD/3IOPwFCPAm0FCvAn4t8PwksP/WDfcyjSq9/egb9s3IBLoo1619oGzcg3EqZTfn7Yl4M23PMaKMraDycjE2jUXLr3pe2074qHTuRyucf9tEF9rUEb7kkkALozLlE+FL9kL3s4rqrU7xnoTEcHVd09EZUdtBlcq/7hq3UtHJUxNtZpunNHByX3lAtM9tBR38LEz8dOKpmpXyPUnrYCrbc0qSgvI5hgLT/xguIi5aVOh+3aCpTcU27QTVUXqWW1N8CWAiX3VAPlRcr5dLvuUkuBisSoBIQSoEjPFsZAUfLtukvtQjyFd4XAbtVr3zsKKiKy+ROt/s5ToAPrSxNAPXfleHXwKVXPOeVb7XRq4aBsHAjlQHG+OvAkqEirktM+gVJypDbquigveiVL+wRKyZHaoDhfPDgECpLf2tg83vzkvt1MDNg0Bw6EN/b2um/vdPUae8vddw9BXDwr+vcqtkI5s5eWe4Y97BFoo+9eAqIluA2u3SSRdmCm/Vzfo/BLsU48HOHegKDb/5KHlzDMu/eK7gnxJM5owb2ef7r1Mfzok/O2yNGNowDFr+rUknubmxPu75vWoJS9xwWG4LFP37N3J0XBQSMHKmIBPO/+vkmgVgmI2EBxTlx7PxInPazu9kJvB60XShnNWIoZFOnbIuwTO+wp2u8I1LJotmdSvH37n0C4cGlxR6AGo/VnUgQpXekMd2lxR6AcLHLQBAn7yLHaR5ibHLS+q5nWn7qAjhxVCSsm8g+vLdgitQVqmSa5Z8IcDLFuiUeVlSeT2RUo0OUHiRPmjvi/im6X6liM7QqUMWMEiMRAcYbZq9fCQTnYmjTqX1OClCSvPRKeP+AUkqi6U/FSj+pGfm0hTwlScqB7vhTSxBAU5utfrYMm5HHjiJHNZsk9EwLFudziDqUgYEdKD/esc69aLWQ5pytkkgA3FeOEkLB2HaE4tetIiUw+y7hVFJV7IKKn38jBi/2H7ZAe5p7NK6ILpVFo3wHNM8vpEq6uGBbZdjfHe9EhscaJr2s1yLYXcIbosesXVS/Me8INVsgCM44AHfHwDYosCqEFAcP6b//zD9AWzvuzIrjnSZ5qgSH9d0KYWtQ722I7qAjxpFAlwB1PmAjpNm25NRyzeE5rUIm5IcpGeFDPnlmvvWPuJytUmg/p2ngiZI59vmoLM81kqYskL2ePlHauucHwjg6Kf17fvgcpoeD7GhoiGZxrbvCBY20QdFXM4NMQ8nu6L55IBuxCrYgW6YryI8A7QwJVGHTVD5/8eai7oWSDBKoB2NnCe5R0dFMSqCbocKGCFyjQChBa4IhU1blMHlQpi+8S7OIEmW43JJwNhYMiwiQHRyRGMZ7GvlBBlKfGP/sbaAAJNC5uiNolPrCm6RTf8e7N34j1Y9hCdUpSqo/UYZxVDQasAkQioBvjKMbXv7wMYYOJk+qhnjOoGpxbnwORKLjZOGyRqnyhwg7cuotJUhWIxEGRhh2SFb6Wpo5hVAxOIV4aUKRh7oxX+EIFG2ZZVSPDyEFlAcV5LuS9nj9VWKCcGWUDMpkyENIQ9vY6dS9UwIk3Iknavn+/AoQ0hD02EcP8kKLdpb6+vrJRHZ0RIZ5TmJeEKE5nDsd4R1OIVPE6mvrwMDAozGuMmpk8szVZHx7GrfArxQTRCwxsTdoCNRgjB5WE4QjO3Cu5BuV810Epk5eHKMpCNxQ8w2SY5q5Abz79SpkSpeTB2U1hjWJ0o+BYnOrN0RmXgwIlSjLw2qPFSLbgqSfQ3SXn7kVenK8AkRh4riiqzR2qXUnDXFrc2Q9qGKzMOc3AiRvs9KA4o+r44EBb5RzU2HXQHYHeGp5aHVg/U6VBDtGDWfXP+g/bCVHUrcgP1Ds7X0UtOt/s3VHPYUUsRqeBaAkKaiXg2G5cX8Zd8lFudA7nF93f7hGoqIeuWkACbQeKTJWrrq83Bo8pBWPL7m/3HDveNs1lILRBwfAOpmmuur/fI1DcOMKArQKhPGpeScNWhQYr7mf2DW6gcpMeqHmhFz/T/Mx+gVrmInWV1EbVC72awzuyT6D1ME9dJVVBcU5cex8UZLE5vCPes5kYzAOhJDj1RM3b5pjn0tJToPVCKYV51fjVjUtqDrXlULl9dMqzgtRyuh3j8CYQSoCtTJzFdK76GShJm4jdUqA1yzpNLio/eNPc2KfvKT0O3Cs5cmgpUPswHYczQEgJuiaOyxkXCZHiNxx7JkcObafbmZa1mMlkTgAhFVjjxDKSDldvC/dsm5C3FahQdnlwfWmVAy8BkSjomM6V2xpdHNvWPZHO80FxAcuhBETs6H7LXCf3RDoKFEtO5KLRcaMRpvGCWHTGj/5XtUM3ClLHK7ZddHRPxNeE5ZpZmxFr0WugKKOfnIdeeeuxZz0PtGEWPd6mc4Nb8/AGDi+wNJTG+zcRP+6J+Lrlw1Y651QXJcLCl3sivq+hERn9HNVFiRCo+nVPxLdA7U0k1F0ieoSLSOzXPZGuLvKyu0uc7lUiAiK0c2dkeq6bl3QlUNtFDTYDBBGAINrp+ipEe6cTJUxE9yy6jxP7JdBdnXbCRKGe8IvQSjeJkZtAAqVQT3SF6EZ2kxi5CXzbMYV6wheMvXn76LFFCAiDHsivLeQzRmZN/CsF0Bwco33QyHn+Xaf5m62miWxY23q3MzG0W+Zo/R6EYPQkUESItJDJGGs004loAgvyo0FDu0PgEL/zLsQb4JzRITtiD6KpM9+rOJGeBYrcGTl2mtajhIPoFs3fQk2EQM8h3s3g+tIF2paXbhhn5VsjU6MQEqE4qEPNrE1SfTTFiM++ZtUmIURCFShmayJrGyORppB6xj4WxrrTTagCRfANijc6SVvzUgUa02TY4kRCXYO6EeWnYiYjaqSE9jTKSZHM8wrdQR0ab5jaofozE5U4kcgc1GFg/exx8ccCEDoy00sb0w+RCxQhkWpJ5OJEYhEoUl+TGheoJao82MIcizKsu4lsDdoM/odM06ISlMrU93XGJk4kNgd1sDeXGJkLadgBpRUR1Tk7EZuDOjTqpGOc0x31qoA3vzS2zVUgZmJ3UDeDl8/MccZmgZAX3HA8PHUSEiJ2B3Vza2R6jnM4RV0nKcE5CKeSFCeSqIM60LpUMhJab3qRqIM6NNalo7SnVAJESE9qvemFFA7qxi7qc5glN40Z4Zp4UjfI2fUokcJB3WB3or5lj9N8/LhouKZs4kSkc1A3g1eWStziC+SmESGpa7qRWqAO9XIUnKA2aWiIDJ2/icPgejkSHAdKCBSpZ/rGnAhH00AEB8N5rTYnuzAdlBGoAwk1GNgNwlHusmTnflFOoA4kVH+gMHE2kszrzHYoK1AHEqonVayCGNns4s2nX1F6z4PyAnWoj+DJlFJeQ1Um+fGLNgJ1M7C+NAHcmkiJq1ZFGC+rHMbboaVAHRxXFR/gtG4TT3BtaXG+Ylnmoi5u6YXWAnWzswQAGBcP/FO1miqKcFm0/i5um+ayzqJ0kxqBNoNdKsviRYOxceGuRZBPsHboRpc0DFbWMXz7IbUCbaYxaKIost8iY8ZIzKK1xci5dVn8wpSFQ5bjPPcjMyTQNuAE6Ww2W+Qc8oxbRY6CZewIw5areI4zjgJ2Hl5UnC/EaypC9Hil5F0uvs4wqKIQ8WfSEq6D8H9xCMruRuzquAAAAABJRU5ErkJggg==",su="/tma-test/assets/euler-a0671598.png",jI="/tma-test/assets/oil-0e920ec3.png";function VI({show:t}){return F.jsx("div",{className:`tooltip ${t?"show":""}`,children:"Tap the barrel to start ₿earning points!"})}function zI(){const[t,e]=D.useState(0),[n,r]=D.useState(!1),i=D.useRef(null),o=D.useRef(null),s=new URLSearchParams(window.location.search).get("userId");D.useEffect(()=>{(async()=>{try{if(s){const h=tg(ng,"users",s),d=await bI(h);d.exists()&&e(d.data().points)}}catch(h){console.error("Error fetching points:",h)}})()},[s]);const l=async c=>{s&&await $I(tg(ng,"users",s),{points:c})},a=()=>{e(h=>{const d=h+1;return l(d),d}),r(!1);const c=30;if(i.current&&o.current){const h=i.current.getBoundingClientRect(),d=o.current.getBoundingClientRect(),y=d.left-h.left+d.width/2,S=d.top-h.top+d.height/2;for(let C=0;C<c;C++){const k=C/c*Math.PI*2;u(y,S,k)}}},u=(c,h,d)=>{if(!i.current)return;const y=document.createElement("img");y.src=vs,y.className="floating-bitcoin";const S=100+Math.random()*150,C=c+Math.cos(d)*S,k=h+Math.sin(d)*S;y.style.left=`${c}px`,y.style.top=`${h}px`,y.style.setProperty("--start-x",`${c}px`),y.style.setProperty("--start-y",`${h}px`),y.style.setProperty("--end-x",`${C}px`),y.style.setProperty("--end-y",`${k}px`),i.current.appendChild(y),setTimeout(()=>y.remove(),1500)};return F.jsxs("div",{className:"page-container",ref:i,children:[F.jsxs("div",{className:"logo-container",children:[F.jsx("img",{src:vs,className:"logo",alt:"Bitcoin logo"}),F.jsx("span",{className:"logo-plus",children:"+"}),F.jsx("img",{src:su,className:"logo",alt:"Euler logo"})]}),F.jsxs("div",{className:"page-content",children:[F.jsxs("div",{className:"barrel-container",children:[F.jsx("img",{ref:o,src:jI,alt:"Oil Barrel",className:"oil-barrel",onClick:a}),F.jsx(VI,{show:n})]}),F.jsxs("div",{className:"points-display",children:[F.jsx("span",{className:"points-label",children:"Points:"}),F.jsx("span",{className:"points-value",children:t})]})]})]})}function WI(){return F.jsxs("div",{className:"page-container",children:[F.jsxs("div",{className:"logo-container",children:[F.jsx("img",{src:vs,className:"logo",alt:"Bitcoin logo"}),F.jsx("span",{className:"logo-plus",children:"+"}),F.jsx("img",{src:su,className:"logo",alt:"Euler logo"})]}),F.jsx("div",{className:"page-content",children:F.jsxs("div",{className:"coming-soon-container",children:[F.jsx("h2",{className:"coming-soon",children:"Coming Soon:"}),F.jsx("h3",{className:"coming-soon",children:"Earning yield on bitcoin"}),F.jsx("h3",{className:"coming-soon",children:"is better than ever"})]})})]})}function HI(){const[t,e]=D.useState("");D.useEffect(()=>{const r=ci.initData;if(r.user){const i=r.user.id;e(`https://t.me/Bearn_Bot?start=ref_${i}`)}},[]);const n=()=>{navigator.clipboard.writeText(t).then(()=>{ci.showAlert("Referral link copied to clipboard!",{keepAppOpen:!0})}).catch(()=>{ci.showAlert("Failed to copy referral link.",{keepAppOpen:!0})})};return F.jsxs("div",{className:"page-container",children:[F.jsxs("div",{className:"logo-container",children:[F.jsx("img",{src:vs,className:"logo",alt:"Bitcoin Logo"}),F.jsx("span",{className:"logo-plus",children:"+"}),F.jsx("img",{src:su,className:"logo",alt:"Euler Logo"})]}),F.jsx("div",{className:"page-content",children:F.jsxs("div",{className:"referral-link",children:[F.jsx("input",{type:"text",value:t,readOnly:!0}),F.jsx("button",{onClick:n,children:"Copy Referral Link"})]})})]})}function qI(){const t=Ts(),[e,n]=D.useState(0);return D.useEffect(()=>{const i=["/","/points","/bearn","/share"].indexOf(t.pathname);n(i!==-1?i:0)},[t]),F.jsxs("nav",{className:"bottom-nav",children:[F.jsx(mo,{to:"/",className:t.pathname==="/"?"active":"",children:"🏠 Home"}),F.jsx(mo,{to:"/points",className:t.pathname==="/points"?"active":"",children:"⭐ Points"}),F.jsx(mo,{to:"/bearn",className:t.pathname==="/bearn"?"active":"",children:"💰 Bearn"}),F.jsx(mo,{to:"/share",className:t.pathname==="/share"?"active":"",children:"🔗 Share"}),F.jsx("div",{className:"nav-indicator",style:{left:`${e*25}%`}})]})}function KI(){return F.jsx("div",{className:"page-container home-page",children:F.jsxs("div",{className:"page-content",children:[F.jsxs("div",{className:"logo-container",children:[F.jsx("img",{src:vs,className:"logo",alt:"Bitcoin logo"}),F.jsx("span",{className:"logo-plus",children:"+"}),F.jsx("img",{src:su,className:"logo",alt:"Euler logo"})]}),F.jsx("h1",{children:"Welcome to ₿earn"}),F.jsx(mo,{to:"/points",className:"start-button",children:"Start to ₿earn Points"})]})})}function QI(){const[t,e]=D.useState(!1),[n,r]=D.useState(null);return D.useEffect(()=>{(async()=>{try{console.log("Initializing WebApp..."),await ci.ready(),console.log("WebApp initialized successfully"),e(!0)}catch(o){console.error("Error initializing WebApp:",o),r("Failed to initialize WebApp")}})()},[]),n?F.jsxs("div",{children:["Error: ",n]}):t?F.jsx(qC,{basename:"/tma-test",children:F.jsxs("div",{className:"app-container",children:[F.jsxs(BC,{children:[F.jsx(po,{path:"/",element:F.jsx(KI,{})}),F.jsx(po,{path:"/points",element:F.jsx(zI,{})}),F.jsx(po,{path:"/bearn",element:F.jsx(WI,{})}),F.jsx(po,{path:"/share",element:F.jsx(HI,{})})]}),F.jsx(qI,{})]})}):F.jsx("div",{children:"Loading..."})}Af(X1);ci.ready();ci.expand();nc.createRoot(document.getElementById("root")).render(F.jsx(QI,{}));
//# sourceMappingURL=index-cdcffca0.js.map
